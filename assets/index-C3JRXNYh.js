function ag(e,n){for(var i=0;i<n.length;i++){const a=n[i];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const f=Object.getOwnPropertyDescriptor(a,c);f&&Object.defineProperty(e,c,f.get?f:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();var us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hf={exports:{}},Ta={},Vf={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),lg=Symbol.for("react.portal"),ug=Symbol.for("react.fragment"),cg=Symbol.for("react.strict_mode"),fg=Symbol.for("react.profiler"),dg=Symbol.for("react.provider"),hg=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),pg=Symbol.for("react.suspense"),xg=Symbol.for("react.memo"),mg=Symbol.for("react.lazy"),a1=Symbol.iterator;function wg(e){return e===null||typeof e!="object"?null:(e=a1&&e[a1]||e["@@iterator"],typeof e=="function"?e:null)}var Wf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gf=Object.assign,Yf={};function Yi(e,n,i){this.props=e,this.context=n,this.refs=Yf,this.updater=i||Wf}Yi.prototype.isReactComponent={};Yi.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xf(){}Xf.prototype=Yi.prototype;function Pu(e,n,i){this.props=e,this.context=n,this.refs=Yf,this.updater=i||Wf}var Fu=Pu.prototype=new Xf;Fu.constructor=Pu;Gf(Fu,Yi.prototype);Fu.isPureReactComponent=!0;var l1=Array.isArray,Qf=Object.prototype.hasOwnProperty,Uu={current:null},Zf={key:!0,ref:!0,__self:!0,__source:!0};function Kf(e,n,i){var a,c={},f=null,g=null;if(n!=null)for(a in n.ref!==void 0&&(g=n.ref),n.key!==void 0&&(f=""+n.key),n)Qf.call(n,a)&&!Zf.hasOwnProperty(a)&&(c[a]=n[a]);var m=arguments.length-2;if(m===1)c.children=i;else if(1<m){for(var y=Array(m),x=0;x<m;x++)y[x]=arguments[x+2];c.children=y}if(e&&e.defaultProps)for(a in m=e.defaultProps,m)c[a]===void 0&&(c[a]=m[a]);return{$$typeof:qs,type:e,key:f,ref:g,props:c,_owner:Uu.current}}function yg(e,n){return{$$typeof:qs,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function ju(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function Cg(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var u1=/\/+/g;function fl(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Cg(""+e.key):n.toString(36)}function Fo(e,n,i,a,c){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case qs:case lg:g=!0}}if(g)return g=e,c=c(g),e=a===""?"."+fl(g,0):a,l1(c)?(i="",e!=null&&(i=e.replace(u1,"$&/")+"/"),Fo(c,n,i,"",function(x){return x})):c!=null&&(ju(c)&&(c=yg(c,i+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(u1,"$&/")+"/")+e)),n.push(c)),1;if(g=0,a=a===""?".":a+":",l1(e))for(var m=0;m<e.length;m++){f=e[m];var y=a+fl(f,m);g+=Fo(f,n,i,y,c)}else if(y=wg(e),typeof y=="function")for(e=y.call(e),m=0;!(f=e.next()).done;)f=f.value,y=a+fl(f,m++),g+=Fo(f,n,i,y,c);else if(f==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return g}function yo(e,n,i){if(e==null)return e;var a=[],c=0;return Fo(e,a,"","",function(f){return n.call(i,f,c++)}),a}function Eg(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},Uo={transition:null},Ag={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:Uu};function qf(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:yo,forEach:function(e,n,i){yo(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return yo(e,function(){n++}),n},toArray:function(e){return yo(e,function(n){return n})||[]},only:function(e){if(!ju(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Yi;Se.Fragment=ug;Se.Profiler=fg;Se.PureComponent=Pu;Se.StrictMode=cg;Se.Suspense=pg;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ag;Se.act=qf;Se.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Gf({},e.props),c=e.key,f=e.ref,g=e._owner;if(n!=null){if(n.ref!==void 0&&(f=n.ref,g=Uu.current),n.key!==void 0&&(c=""+n.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(y in n)Qf.call(n,y)&&!Zf.hasOwnProperty(y)&&(a[y]=n[y]===void 0&&m!==void 0?m[y]:n[y])}var y=arguments.length-2;if(y===1)a.children=i;else if(1<y){m=Array(y);for(var x=0;x<y;x++)m[x]=arguments[x+2];a.children=m}return{$$typeof:qs,type:e.type,key:c,ref:f,props:a,_owner:g}};Se.createContext=function(e){return e={$$typeof:hg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dg,_context:e},e.Consumer=e};Se.createElement=Kf;Se.createFactory=function(e){var n=Kf.bind(null,e);return n.type=e,n};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:gg,render:e}};Se.isValidElement=ju;Se.lazy=function(e){return{$$typeof:mg,_payload:{_status:-1,_result:e},_init:Eg}};Se.memo=function(e,n){return{$$typeof:xg,type:e,compare:n===void 0?null:n}};Se.startTransition=function(e){var n=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=n}};Se.unstable_act=qf;Se.useCallback=function(e,n){return Ut.current.useCallback(e,n)};Se.useContext=function(e){return Ut.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};Se.useEffect=function(e,n){return Ut.current.useEffect(e,n)};Se.useId=function(){return Ut.current.useId()};Se.useImperativeHandle=function(e,n,i){return Ut.current.useImperativeHandle(e,n,i)};Se.useInsertionEffect=function(e,n){return Ut.current.useInsertionEffect(e,n)};Se.useLayoutEffect=function(e,n){return Ut.current.useLayoutEffect(e,n)};Se.useMemo=function(e,n){return Ut.current.useMemo(e,n)};Se.useReducer=function(e,n,i){return Ut.current.useReducer(e,n,i)};Se.useRef=function(e){return Ut.current.useRef(e)};Se.useState=function(e){return Ut.current.useState(e)};Se.useSyncExternalStore=function(e,n,i){return Ut.current.useSyncExternalStore(e,n,i)};Se.useTransition=function(){return Ut.current.useTransition()};Se.version="18.3.1";Vf.exports=Se;var k=Vf.exports;const Jo=zf(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=k,Ig=Symbol.for("react.element"),vg=Symbol.for("react.fragment"),Tg=Object.prototype.hasOwnProperty,Ng=Sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_g={key:!0,ref:!0,__self:!0,__source:!0};function Jf(e,n,i){var a,c={},f=null,g=null;i!==void 0&&(f=""+i),n.key!==void 0&&(f=""+n.key),n.ref!==void 0&&(g=n.ref);for(a in n)Tg.call(n,a)&&!_g.hasOwnProperty(a)&&(c[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)c[a]===void 0&&(c[a]=n[a]);return{$$typeof:Ig,type:e,key:f,ref:g,props:c,_owner:Ng.current}}Ta.Fragment=vg;Ta.jsx=Jf;Ta.jsxs=Jf;Hf.exports=Ta;var M=Hf.exports,jl={},$f={exports:{}},ln={},e0={exports:{}},t0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(re,he){var pe=re.length;re.push(he);e:for(;0<pe;){var Pe=pe-1>>>1,Ae=re[Pe];if(0<c(Ae,he))re[Pe]=he,re[pe]=Ae,pe=Pe;else break e}}function i(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var he=re[0],pe=re.pop();if(pe!==he){re[0]=pe;e:for(var Pe=0,Ae=re.length,fn=Ae>>>1;Pe<fn;){var Je=2*(Pe+1)-1,jr=re[Je],ue=Je+1,ur=re[ue];if(0>c(jr,pe))ue<Ae&&0>c(ur,jr)?(re[Pe]=ur,re[ue]=pe,Pe=ue):(re[Pe]=jr,re[Je]=pe,Pe=Je);else if(ue<Ae&&0>c(ur,pe))re[Pe]=ur,re[ue]=pe,Pe=ue;else break e}}return he}function c(re,he){var pe=re.sortIndex-he.sortIndex;return pe!==0?pe:re.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,m=g.now();e.unstable_now=function(){return g.now()-m}}var y=[],x=[],I=1,S=null,b=3,L=!1,z=!1,B=!1,X=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(re){for(var he=i(x);he!==null;){if(he.callback===null)a(x);else if(he.startTime<=re)a(x),he.sortIndex=he.expirationTime,n(y,he);else break;he=i(x)}}function U(re){if(B=!1,v(re),!z)if(i(y)!==null)z=!0,Qe(Q);else{var he=i(x);he!==null&&me(U,he.startTime-re)}}function Q(re,he){z=!1,B&&(B=!1,R(W),W=-1),L=!0;var pe=b;try{for(v(he),S=i(y);S!==null&&(!(S.expirationTime>he)||re&&!ce());){var Pe=S.callback;if(typeof Pe=="function"){S.callback=null,b=S.priorityLevel;var Ae=Pe(S.expirationTime<=he);he=e.unstable_now(),typeof Ae=="function"?S.callback=Ae:S===i(y)&&a(y),v(he)}else a(y);S=i(y)}if(S!==null)var fn=!0;else{var Je=i(x);Je!==null&&me(U,Je.startTime-he),fn=!1}return fn}finally{S=null,b=pe,L=!1}}var Z=!1,j=null,W=-1,G=5,ae=-1;function ce(){return!(e.unstable_now()-ae<G)}function ne(){if(j!==null){var re=e.unstable_now();ae=re;var he=!0;try{he=j(!0,re)}finally{he?we():(Z=!1,j=null)}}else Z=!1}var we;if(typeof T=="function")we=function(){T(ne)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Y=ke.port2;ke.port1.onmessage=ne,we=function(){Y.postMessage(null)}}else we=function(){X(ne,0)};function Qe(re){j=re,Z||(Z=!0,we())}function me(re,he){W=X(function(){re(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){z||L||(z=!0,Qe(Q))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return i(y)},e.unstable_next=function(re){switch(b){case 1:case 2:case 3:var he=3;break;default:he=b}var pe=b;b=he;try{return re()}finally{b=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=b;b=re;try{return he()}finally{b=pe}},e.unstable_scheduleCallback=function(re,he,pe){var Pe=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Pe+pe:Pe):pe=Pe,re){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=pe+Ae,re={id:I++,callback:he,priorityLevel:re,startTime:pe,expirationTime:Ae,sortIndex:-1},pe>Pe?(re.sortIndex=pe,n(x,re),i(y)===null&&re===i(x)&&(B?(R(W),W=-1):B=!0,me(U,pe-Pe))):(re.sortIndex=Ae,n(y,re),z||L||(z=!0,Qe(Q))),re},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(re){var he=b;return function(){var pe=b;b=he;try{return re.apply(this,arguments)}finally{b=pe}}}})(t0);e0.exports=t0;var Mg=e0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg=k,on=Mg;function J(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n0=new Set,Os={};function oi(e,n){Ui(e,n),Ui(e+"Capture",n)}function Ui(e,n){for(Os[e]=n,e=0;e<n.length;e++)n0.add(n[e])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=Object.prototype.hasOwnProperty,bg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c1={},f1={};function Og(e){return zl.call(f1,e)?!0:zl.call(c1,e)?!1:bg.test(e)?f1[e]=!0:(c1[e]=!0,!1)}function Dg(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lg(e,n,i,a){if(n===null||typeof n>"u"||Dg(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function jt(e,n,i,a,c,f,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=g}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];_t[n]=new jt(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function Hu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(zu,Hu);_t[n]=new jt(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(zu,Hu);_t[n]=new jt(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(zu,Hu);_t[n]=new jt(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new jt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vu(e,n,i,a){var c=_t.hasOwnProperty(n)?_t[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Lg(n,i,c,a)&&(i=null),a||c===null?Og(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(n=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(n):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var ar=Rg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),Ci=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),Wu=Symbol.for("react.strict_mode"),Hl=Symbol.for("react.profiler"),r0=Symbol.for("react.provider"),i0=Symbol.for("react.context"),Gu=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),Wl=Symbol.for("react.suspense_list"),Yu=Symbol.for("react.memo"),yr=Symbol.for("react.lazy"),s0=Symbol.for("react.offscreen"),d1=Symbol.iterator;function cs(e){return e===null||typeof e!="object"?null:(e=d1&&e[d1]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,dl;function ys(e){if(dl===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);dl=n&&n[1]||""}return`
`+dl+e}var hl=!1;function gl(e,n){if(!e||hl)return"";hl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(x){var a=x}Reflect.construct(e,[],n)}else{try{n.call()}catch(x){a=x}e.call(n.prototype)}else{try{throw Error()}catch(x){a=x}e()}}catch(x){if(x&&a&&typeof x.stack=="string"){for(var c=x.stack.split(`
`),f=a.stack.split(`
`),g=c.length-1,m=f.length-1;1<=g&&0<=m&&c[g]!==f[m];)m--;for(;1<=g&&0<=m;g--,m--)if(c[g]!==f[m]){if(g!==1||m!==1)do if(g--,m--,0>m||c[g]!==f[m]){var y=`
`+c[g].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=g&&0<=m);break}}}finally{hl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?ys(e):""}function kg(e){switch(e.tag){case 5:return ys(e.type);case 16:return ys("Lazy");case 13:return ys("Suspense");case 19:return ys("SuspenseList");case 0:case 2:case 15:return e=gl(e.type,!1),e;case 11:return e=gl(e.type.render,!1),e;case 1:return e=gl(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ei:return"Fragment";case Ci:return"Portal";case Hl:return"Profiler";case Wu:return"StrictMode";case Vl:return"Suspense";case Wl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i0:return(e.displayName||"Context")+".Consumer";case r0:return(e._context.displayName||"Context")+".Provider";case Gu:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yu:return n=e.displayName||null,n!==null?n:Gl(e.type)||"Memo";case yr:n=e._payload,e=e._init;try{return Gl(e(n))}catch{}}return null}function Bg(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(n);case 8:return n===Wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function o0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pg(e){var n=o0(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Eo(e){e._valueTracker||(e._valueTracker=Pg(e))}function a0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=o0(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function $o(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yl(e,n){var i=n.checked;return nt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function h1(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=Lr(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function l0(e,n){n=n.checked,n!=null&&Vu(e,"checked",n,!1)}function Xl(e,n){l0(e,n);var i=Lr(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ql(e,n.type,i):n.hasOwnProperty("defaultValue")&&Ql(e,n.type,Lr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function g1(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ql(e,n,i){(n!=="number"||$o(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Cs=Array.isArray;function Di(e,n,i,a){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Lr(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Zl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(J(91));return nt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function p1(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(J(92));if(Cs(i)){if(1<i.length)throw Error(J(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Lr(i)}}function u0(e,n){var i=Lr(n.value),a=Lr(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function x1(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function c0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?c0(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ao,f0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ds(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fg=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(e){Fg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ss[n]=Ss[e]})});function d0(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Ss.hasOwnProperty(e)&&Ss[e]?(""+n).trim():n+"px"}function h0(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=d0(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var Ug=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(e,n){if(n){if(Ug[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(J(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(J(61))}if(n.style!=null&&typeof n.style!="object")throw Error(J(62))}}function Jl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function Xu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,Li=null,ki=null;function m1(e){if(e=eo(e)){if(typeof eu!="function")throw Error(J(280));var n=e.stateNode;n&&(n=ba(n),eu(e.stateNode,e.type,n))}}function g0(e){Li?ki?ki.push(e):ki=[e]:Li=e}function p0(){if(Li){var e=Li,n=ki;if(ki=Li=null,m1(e),n)for(e=0;e<n.length;e++)m1(n[e])}}function x0(e,n){return e(n)}function m0(){}var pl=!1;function w0(e,n,i){if(pl)return e(n,i);pl=!0;try{return x0(e,n,i)}finally{pl=!1,(Li!==null||ki!==null)&&(m0(),p0())}}function Ls(e,n){var i=e.stateNode;if(i===null)return null;var a=ba(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(J(231,n,typeof i));return i}var tu=!1;if(nr)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){tu=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{tu=!1}function jg(e,n,i,a,c,f,g,m,y){var x=Array.prototype.slice.call(arguments,3);try{n.apply(i,x)}catch(I){this.onError(I)}}var Is=!1,ea=null,ta=!1,nu=null,zg={onError:function(e){Is=!0,ea=e}};function Hg(e,n,i,a,c,f,g,m,y){Is=!1,ea=null,jg.apply(zg,arguments)}function Vg(e,n,i,a,c,f,g,m,y){if(Hg.apply(this,arguments),Is){if(Is){var x=ea;Is=!1,ea=null}else throw Error(J(198));ta||(ta=!0,nu=x)}}function ai(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function y0(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function w1(e){if(ai(e)!==e)throw Error(J(188))}function Wg(e){var n=e.alternate;if(!n){if(n=ai(e),n===null)throw Error(J(188));return n!==e?null:e}for(var i=e,a=n;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return w1(c),e;if(f===a)return w1(c),n;f=f.sibling}throw Error(J(188))}if(i.return!==a.return)i=c,a=f;else{for(var g=!1,m=c.child;m;){if(m===i){g=!0,i=c,a=f;break}if(m===a){g=!0,a=c,i=f;break}m=m.sibling}if(!g){for(m=f.child;m;){if(m===i){g=!0,i=f,a=c;break}if(m===a){g=!0,a=f,i=c;break}m=m.sibling}if(!g)throw Error(J(189))}}if(i.alternate!==a)throw Error(J(190))}if(i.tag!==3)throw Error(J(188));return i.stateNode.current===i?e:n}function C0(e){return e=Wg(e),e!==null?E0(e):null}function E0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=E0(e);if(n!==null)return n;e=e.sibling}return null}var A0=on.unstable_scheduleCallback,y1=on.unstable_cancelCallback,Gg=on.unstable_shouldYield,Yg=on.unstable_requestPaint,ut=on.unstable_now,Xg=on.unstable_getCurrentPriorityLevel,Qu=on.unstable_ImmediatePriority,S0=on.unstable_UserBlockingPriority,na=on.unstable_NormalPriority,Qg=on.unstable_LowPriority,I0=on.unstable_IdlePriority,Na=null,Gn=null;function Zg(e){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Na,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Jg,Kg=Math.log,qg=Math.LN2;function Jg(e){return e>>>=0,e===0?32:31-(Kg(e)/qg|0)|0}var So=64,Io=4194304;function Es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ra(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var m=g&~c;m!==0?a=Es(m):(f&=g,f!==0&&(a=Es(f)))}else g=i&~c,g!==0?a=Es(g):f!==0&&(a=Es(f));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if(a&4&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-bn(n),c=1<<i,a|=e[i],n&=~c;return a}function $g(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e2(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-bn(f),m=1<<g,y=c[g];y===-1?(!(m&i)||m&a)&&(c[g]=$g(m,n)):y<=n&&(e.expiredLanes|=m),f&=~m}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function v0(){var e=So;return So<<=1,!(So&4194240)&&(So=64),e}function xl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Js(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-bn(n),e[n]=i}function t2(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-bn(i),f=1<<c;n[c]=0,a[c]=-1,e[c]=-1,i&=~f}}function Zu(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-bn(i),c=1<<a;c&n|e[a]&n&&(e[a]|=n),i&=~c}}var Le=0;function T0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var N0,Ku,_0,M0,R0,iu=!1,vo=[],vr=null,Tr=null,Nr=null,ks=new Map,Bs=new Map,Er=[],n2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C1(e,n){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":ks.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(n.pointerId)}}function ds(e,n,i,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},n!==null&&(n=eo(n),n!==null&&Ku(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function r2(e,n,i,a,c){switch(n){case"focusin":return vr=ds(vr,e,n,i,a,c),!0;case"dragenter":return Tr=ds(Tr,e,n,i,a,c),!0;case"mouseover":return Nr=ds(Nr,e,n,i,a,c),!0;case"pointerover":var f=c.pointerId;return ks.set(f,ds(ks.get(f)||null,e,n,i,a,c)),!0;case"gotpointercapture":return f=c.pointerId,Bs.set(f,ds(Bs.get(f)||null,e,n,i,a,c)),!0}return!1}function b0(e){var n=Kr(e.target);if(n!==null){var i=ai(n);if(i!==null){if(n=i.tag,n===13){if(n=y0(i),n!==null){e.blockedOn=n,R0(e.priority,function(){_0(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=su(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);$l=a,i.target.dispatchEvent(a),$l=null}else return n=eo(i),n!==null&&Ku(n),e.blockedOn=i,!1;n.shift()}return!0}function E1(e,n,i){jo(e)&&i.delete(n)}function i2(){iu=!1,vr!==null&&jo(vr)&&(vr=null),Tr!==null&&jo(Tr)&&(Tr=null),Nr!==null&&jo(Nr)&&(Nr=null),ks.forEach(E1),Bs.forEach(E1)}function hs(e,n){e.blockedOn===n&&(e.blockedOn=null,iu||(iu=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,i2)))}function Ps(e){function n(c){return hs(c,e)}if(0<vo.length){hs(vo[0],e);for(var i=1;i<vo.length;i++){var a=vo[i];a.blockedOn===e&&(a.blockedOn=null)}}for(vr!==null&&hs(vr,e),Tr!==null&&hs(Tr,e),Nr!==null&&hs(Nr,e),ks.forEach(n),Bs.forEach(n),i=0;i<Er.length;i++)a=Er[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Er.length&&(i=Er[0],i.blockedOn===null);)b0(i),i.blockedOn===null&&Er.shift()}var Bi=ar.ReactCurrentBatchConfig,ia=!0;function s2(e,n,i,a){var c=Le,f=Bi.transition;Bi.transition=null;try{Le=1,qu(e,n,i,a)}finally{Le=c,Bi.transition=f}}function o2(e,n,i,a){var c=Le,f=Bi.transition;Bi.transition=null;try{Le=4,qu(e,n,i,a)}finally{Le=c,Bi.transition=f}}function qu(e,n,i,a){if(ia){var c=su(e,n,i,a);if(c===null)Tl(e,n,a,sa,i),C1(e,a);else if(r2(c,e,n,i,a))a.stopPropagation();else if(C1(e,a),n&4&&-1<n2.indexOf(e)){for(;c!==null;){var f=eo(c);if(f!==null&&N0(f),f=su(e,n,i,a),f===null&&Tl(e,n,a,sa,i),f===c)break;c=f}c!==null&&a.stopPropagation()}else Tl(e,n,a,null,i)}}var sa=null;function su(e,n,i,a){if(sa=null,e=Xu(a),e=Kr(e),e!==null)if(n=ai(e),n===null)e=null;else if(i=n.tag,i===13){if(e=y0(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return sa=e,null}function O0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xg()){case Qu:return 1;case S0:return 4;case na:case Qg:return 16;case I0:return 536870912;default:return 16}default:return 16}}var Sr=null,Ju=null,zo=null;function D0(){if(zo)return zo;var e,n=Ju,i=n.length,a,c="value"in Sr?Sr.value:Sr.textContent,f=c.length;for(e=0;e<i&&n[e]===c[e];e++);var g=i-e;for(a=1;a<=g&&n[i-a]===c[f-a];a++);return zo=c.slice(e,1<a?1-a:void 0)}function Ho(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function To(){return!0}function A1(){return!1}function un(e){function n(i,a,c,f,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?To:A1,this.isPropagationStopped=A1,this}return nt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=un(Xi),$s=nt({},Xi,{view:0,detail:0}),a2=un($s),ml,wl,gs,_a=nt({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(ml=e.screenX-gs.screenX,wl=e.screenY-gs.screenY):wl=ml=0,gs=e),ml)},movementY:function(e){return"movementY"in e?e.movementY:wl}}),S1=un(_a),l2=nt({},_a,{dataTransfer:0}),u2=un(l2),c2=nt({},$s,{relatedTarget:0}),yl=un(c2),f2=nt({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),d2=un(f2),h2=nt({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g2=un(h2),p2=nt({},Xi,{data:0}),I1=un(p2),x2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y2(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=w2[e])?!!n[e]:!1}function ec(){return y2}var C2=nt({},$s,{key:function(e){if(e.key){var n=x2[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(e){return e.type==="keypress"?Ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E2=un(C2),A2=nt({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v1=un(A2),S2=nt({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),I2=un(S2),v2=nt({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T2=un(v2),N2=nt({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_2=un(N2),M2=[9,13,27,32],tc=nr&&"CompositionEvent"in window,vs=null;nr&&"documentMode"in document&&(vs=document.documentMode);var R2=nr&&"TextEvent"in window&&!vs,L0=nr&&(!tc||vs&&8<vs&&11>=vs),T1=" ",N1=!1;function k0(e,n){switch(e){case"keyup":return M2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ai=!1;function b2(e,n){switch(e){case"compositionend":return B0(n);case"keypress":return n.which!==32?null:(N1=!0,T1);case"textInput":return e=n.data,e===T1&&N1?null:e;default:return null}}function O2(e,n){if(Ai)return e==="compositionend"||!tc&&k0(e,n)?(e=D0(),zo=Ju=Sr=null,Ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return L0&&n.locale!=="ko"?null:n.data;default:return null}}var D2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!D2[e.type]:n==="textarea"}function P0(e,n,i,a){g0(a),n=oa(n,"onChange"),0<n.length&&(i=new $u("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var Ts=null,Fs=null;function L2(e){Q0(e,0)}function Ma(e){var n=vi(e);if(a0(n))return e}function k2(e,n){if(e==="change")return n}var F0=!1;if(nr){var Cl;if(nr){var El="oninput"in document;if(!El){var M1=document.createElement("div");M1.setAttribute("oninput","return;"),El=typeof M1.oninput=="function"}Cl=El}else Cl=!1;F0=Cl&&(!document.documentMode||9<document.documentMode)}function R1(){Ts&&(Ts.detachEvent("onpropertychange",U0),Fs=Ts=null)}function U0(e){if(e.propertyName==="value"&&Ma(Fs)){var n=[];P0(n,Fs,e,Xu(e)),w0(L2,n)}}function B2(e,n,i){e==="focusin"?(R1(),Ts=n,Fs=i,Ts.attachEvent("onpropertychange",U0)):e==="focusout"&&R1()}function P2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ma(Fs)}function F2(e,n){if(e==="click")return Ma(n)}function U2(e,n){if(e==="input"||e==="change")return Ma(n)}function j2(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dn=typeof Object.is=="function"?Object.is:j2;function Us(e,n){if(Dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!zl.call(n,c)||!Dn(e[c],n[c]))return!1}return!0}function b1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O1(e,n){var i=b1(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=b1(i)}}function j0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?j0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function z0(){for(var e=window,n=$o();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=$o(e.document)}return n}function nc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function z2(e){var n=z0(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&j0(i.ownerDocument.documentElement,i)){if(a!==null&&nc(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=O1(i,f);var g=O1(i,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var H2=nr&&"documentMode"in document&&11>=document.documentMode,Si=null,ou=null,Ns=null,au=!1;function D1(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;au||Si==null||Si!==$o(a)||(a=Si,"selectionStart"in a&&nc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ns&&Us(Ns,a)||(Ns=a,a=oa(ou,"onSelect"),0<a.length&&(n=new $u("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=Si)))}function No(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ii={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},Al={},H0={};nr&&(H0=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Ra(e){if(Al[e])return Al[e];if(!Ii[e])return e;var n=Ii[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in H0)return Al[e]=n[i];return e}var V0=Ra("animationend"),W0=Ra("animationiteration"),G0=Ra("animationstart"),Y0=Ra("transitionend"),X0=new Map,L1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,n){X0.set(e,n),oi(n,[e])}for(var Sl=0;Sl<L1.length;Sl++){var Il=L1[Sl],V2=Il.toLowerCase(),W2=Il[0].toUpperCase()+Il.slice(1);Pr(V2,"on"+W2)}Pr(V0,"onAnimationEnd");Pr(W0,"onAnimationIteration");Pr(G0,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(Y0,"onTransitionEnd");Ui("onMouseEnter",["mouseout","mouseover"]);Ui("onMouseLeave",["mouseout","mouseover"]);Ui("onPointerEnter",["pointerout","pointerover"]);Ui("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G2=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function k1(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,Vg(a,n,void 0,e),e.currentTarget=null}function Q0(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var g=a.length-1;0<=g;g--){var m=a[g],y=m.instance,x=m.currentTarget;if(m=m.listener,y!==f&&c.isPropagationStopped())break e;k1(c,m,x),f=y}else for(g=0;g<a.length;g++){if(m=a[g],y=m.instance,x=m.currentTarget,m=m.listener,y!==f&&c.isPropagationStopped())break e;k1(c,m,x),f=y}}}if(ta)throw e=nu,ta=!1,nu=null,e}function Ge(e,n){var i=n[du];i===void 0&&(i=n[du]=new Set);var a=e+"__bubble";i.has(a)||(Z0(n,e,2,!1),i.add(a))}function vl(e,n,i){var a=0;n&&(a|=4),Z0(i,e,a,n)}var _o="_reactListening"+Math.random().toString(36).slice(2);function js(e){if(!e[_o]){e[_o]=!0,n0.forEach(function(i){i!=="selectionchange"&&(G2.has(i)||vl(i,!1,e),vl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[_o]||(n[_o]=!0,vl("selectionchange",!1,n))}}function Z0(e,n,i,a){switch(O0(n)){case 1:var c=s2;break;case 4:c=o2;break;default:c=qu}i=c.bind(null,n,i,e),c=void 0,!tu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Tl(e,n,i,a,c){var f=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var m=a.stateNode.containerInfo;if(m===c||m.nodeType===8&&m.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var y=g.tag;if((y===3||y===4)&&(y=g.stateNode.containerInfo,y===c||y.nodeType===8&&y.parentNode===c))return;g=g.return}for(;m!==null;){if(g=Kr(m),g===null)return;if(y=g.tag,y===5||y===6){a=f=g;continue e}m=m.parentNode}}a=a.return}w0(function(){var x=f,I=Xu(i),S=[];e:{var b=X0.get(e);if(b!==void 0){var L=$u,z=e;switch(e){case"keypress":if(Ho(i)===0)break e;case"keydown":case"keyup":L=E2;break;case"focusin":z="focus",L=yl;break;case"focusout":z="blur",L=yl;break;case"beforeblur":case"afterblur":L=yl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=S1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=u2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=I2;break;case V0:case W0:case G0:L=d2;break;case Y0:L=T2;break;case"scroll":L=a2;break;case"wheel":L=_2;break;case"copy":case"cut":case"paste":L=g2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=v1}var B=(n&4)!==0,X=!B&&e==="scroll",R=B?b!==null?b+"Capture":null:b;B=[];for(var T=x,v;T!==null;){v=T;var U=v.stateNode;if(v.tag===5&&U!==null&&(v=U,R!==null&&(U=Ls(T,R),U!=null&&B.push(zs(T,U,v)))),X)break;T=T.return}0<B.length&&(b=new L(b,z,null,i,I),S.push({event:b,listeners:B}))}}if(!(n&7)){e:{if(b=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",b&&i!==$l&&(z=i.relatedTarget||i.fromElement)&&(Kr(z)||z[rr]))break e;if((L||b)&&(b=I.window===I?I:(b=I.ownerDocument)?b.defaultView||b.parentWindow:window,L?(z=i.relatedTarget||i.toElement,L=x,z=z?Kr(z):null,z!==null&&(X=ai(z),z!==X||z.tag!==5&&z.tag!==6)&&(z=null)):(L=null,z=x),L!==z)){if(B=S1,U="onMouseLeave",R="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(B=v1,U="onPointerLeave",R="onPointerEnter",T="pointer"),X=L==null?b:vi(L),v=z==null?b:vi(z),b=new B(U,T+"leave",L,i,I),b.target=X,b.relatedTarget=v,U=null,Kr(I)===x&&(B=new B(R,T+"enter",z,i,I),B.target=v,B.relatedTarget=X,U=B),X=U,L&&z)t:{for(B=L,R=z,T=0,v=B;v;v=yi(v))T++;for(v=0,U=R;U;U=yi(U))v++;for(;0<T-v;)B=yi(B),T--;for(;0<v-T;)R=yi(R),v--;for(;T--;){if(B===R||R!==null&&B===R.alternate)break t;B=yi(B),R=yi(R)}B=null}else B=null;L!==null&&B1(S,b,L,B,!1),z!==null&&X!==null&&B1(S,X,z,B,!0)}}e:{if(b=x?vi(x):window,L=b.nodeName&&b.nodeName.toLowerCase(),L==="select"||L==="input"&&b.type==="file")var Q=k2;else if(_1(b))if(F0)Q=U2;else{Q=P2;var Z=B2}else(L=b.nodeName)&&L.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(Q=F2);if(Q&&(Q=Q(e,x))){P0(S,Q,i,I);break e}Z&&Z(e,b,x),e==="focusout"&&(Z=b._wrapperState)&&Z.controlled&&b.type==="number"&&Ql(b,"number",b.value)}switch(Z=x?vi(x):window,e){case"focusin":(_1(Z)||Z.contentEditable==="true")&&(Si=Z,ou=x,Ns=null);break;case"focusout":Ns=ou=Si=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,D1(S,i,I);break;case"selectionchange":if(H2)break;case"keydown":case"keyup":D1(S,i,I)}var j;if(tc)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Ai?k0(e,i)&&(W="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(W="onCompositionStart");W&&(L0&&i.locale!=="ko"&&(Ai||W!=="onCompositionStart"?W==="onCompositionEnd"&&Ai&&(j=D0()):(Sr=I,Ju="value"in Sr?Sr.value:Sr.textContent,Ai=!0)),Z=oa(x,W),0<Z.length&&(W=new I1(W,e,null,i,I),S.push({event:W,listeners:Z}),j?W.data=j:(j=B0(i),j!==null&&(W.data=j)))),(j=R2?b2(e,i):O2(e,i))&&(x=oa(x,"onBeforeInput"),0<x.length&&(I=new I1("onBeforeInput","beforeinput",null,i,I),S.push({event:I,listeners:x}),I.data=j))}Q0(S,n)})}function zs(e,n,i){return{instance:e,listener:n,currentTarget:i}}function oa(e,n){for(var i=n+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Ls(e,i),f!=null&&a.unshift(zs(e,f,c)),f=Ls(e,n),f!=null&&a.push(zs(e,f,c))),e=e.return}return a}function yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function B1(e,n,i,a,c){for(var f=n._reactName,g=[];i!==null&&i!==a;){var m=i,y=m.alternate,x=m.stateNode;if(y!==null&&y===a)break;m.tag===5&&x!==null&&(m=x,c?(y=Ls(i,f),y!=null&&g.unshift(zs(i,y,m))):c||(y=Ls(i,f),y!=null&&g.push(zs(i,y,m)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var Y2=/\r\n?/g,X2=/\u0000|\uFFFD/g;function P1(e){return(typeof e=="string"?e:""+e).replace(Y2,`
`).replace(X2,"")}function Mo(e,n,i){if(n=P1(n),P1(e)!==n&&i)throw Error(J(425))}function aa(){}var lu=null,uu=null;function cu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fu=typeof setTimeout=="function"?setTimeout:void 0,Q2=typeof clearTimeout=="function"?clearTimeout:void 0,F1=typeof Promise=="function"?Promise:void 0,Z2=typeof queueMicrotask=="function"?queueMicrotask:typeof F1<"u"?function(e){return F1.resolve(null).then(e).catch(K2)}:fu;function K2(e){setTimeout(function(){throw e})}function Nl(e,n){var i=n,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),Ps(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);Ps(n)}function _r(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function U1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Qi,Hs="__reactProps$"+Qi,rr="__reactContainer$"+Qi,du="__reactEvents$"+Qi,q2="__reactListeners$"+Qi,J2="__reactHandles$"+Qi;function Kr(e){var n=e[Wn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[rr]||i[Wn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=U1(e);e!==null;){if(i=e[Wn])return i;e=U1(e)}return n}e=i,i=e.parentNode}return null}function eo(e){return e=e[Wn]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function ba(e){return e[Hs]||null}var hu=[],Ti=-1;function Fr(e){return{current:e}}function Xe(e){0>Ti||(e.current=hu[Ti],hu[Ti]=null,Ti--)}function Ve(e,n){Ti++,hu[Ti]=e.current,e.current=n}var kr={},Lt=Fr(kr),Zt=Fr(!1),ti=kr;function ji(e,n){var i=e.type.contextTypes;if(!i)return kr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=n[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function Kt(e){return e=e.childContextTypes,e!=null}function la(){Xe(Zt),Xe(Lt)}function j1(e,n,i){if(Lt.current!==kr)throw Error(J(168));Ve(Lt,n),Ve(Zt,i)}function K0(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(J(108,Bg(e)||"Unknown",c));return nt({},i,a)}function ua(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,ti=Lt.current,Ve(Lt,e),Ve(Zt,Zt.current),!0}function z1(e,n,i){var a=e.stateNode;if(!a)throw Error(J(169));i?(e=K0(e,n,ti),a.__reactInternalMemoizedMergedChildContext=e,Xe(Zt),Xe(Lt),Ve(Lt,e)):Xe(Zt),Ve(Zt,i)}var Kn=null,Oa=!1,_l=!1;function q0(e){Kn===null?Kn=[e]:Kn.push(e)}function $2(e){Oa=!0,q0(e)}function Ur(){if(!_l&&Kn!==null){_l=!0;var e=0,n=Le;try{var i=Kn;for(Le=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Kn=null,Oa=!1}catch(c){throw Kn!==null&&(Kn=Kn.slice(e+1)),A0(Qu,Ur),c}finally{Le=n,_l=!1}}return null}var Ni=[],_i=0,ca=null,fa=0,xn=[],mn=0,ni=null,qn=1,Jn="";function Xr(e,n){Ni[_i++]=fa,Ni[_i++]=ca,ca=e,fa=n}function J0(e,n,i){xn[mn++]=qn,xn[mn++]=Jn,xn[mn++]=ni,ni=e;var a=qn;e=Jn;var c=32-bn(a)-1;a&=~(1<<c),i+=1;var f=32-bn(n)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,qn=1<<32-bn(n)+c|i<<c|a,Jn=f+e}else qn=1<<f|i<<c|a,Jn=e}function rc(e){e.return!==null&&(Xr(e,1),J0(e,1,0))}function ic(e){for(;e===ca;)ca=Ni[--_i],Ni[_i]=null,fa=Ni[--_i],Ni[_i]=null;for(;e===ni;)ni=xn[--mn],xn[mn]=null,Jn=xn[--mn],xn[mn]=null,qn=xn[--mn],xn[mn]=null}var sn=null,rn=null,Ke=!1,Rn=null;function $0(e,n){var i=wn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function H1(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,sn=e,rn=_r(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,sn=e,rn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ni!==null?{id:qn,overflow:Jn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=wn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,sn=e,rn=null,!0):!1;default:return!1}}function gu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pu(e){if(Ke){var n=rn;if(n){var i=n;if(!H1(e,n)){if(gu(e))throw Error(J(418));n=_r(i.nextSibling);var a=sn;n&&H1(e,n)?$0(a,i):(e.flags=e.flags&-4097|2,Ke=!1,sn=e)}}else{if(gu(e))throw Error(J(418));e.flags=e.flags&-4097|2,Ke=!1,sn=e}}}function V1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function Ro(e){if(e!==sn)return!1;if(!Ke)return V1(e),Ke=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!cu(e.type,e.memoizedProps)),n&&(n=rn)){if(gu(e))throw ed(),Error(J(418));for(;n;)$0(e,n),n=_r(n.nextSibling)}if(V1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){rn=_r(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}rn=null}}else rn=sn?_r(e.stateNode.nextSibling):null;return!0}function ed(){for(var e=rn;e;)e=_r(e.nextSibling)}function zi(){rn=sn=null,Ke=!1}function sc(e){Rn===null?Rn=[e]:Rn.push(e)}var ep=ar.ReactCurrentBatchConfig;function ps(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(J(309));var a=i.stateNode}if(!a)throw Error(J(147,e));var c=a,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(g){var m=c.refs;g===null?delete m[f]:m[f]=g},n._stringRef=f,n)}if(typeof e!="string")throw Error(J(284));if(!i._owner)throw Error(J(290,e))}return e}function bo(e,n){throw e=Object.prototype.toString.call(n),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function W1(e){var n=e._init;return n(e._payload)}function td(e){function n(R,T){if(e){var v=R.deletions;v===null?(R.deletions=[T],R.flags|=16):v.push(T)}}function i(R,T){if(!e)return null;for(;T!==null;)n(R,T),T=T.sibling;return null}function a(R,T){for(R=new Map;T!==null;)T.key!==null?R.set(T.key,T):R.set(T.index,T),T=T.sibling;return R}function c(R,T){return R=Or(R,T),R.index=0,R.sibling=null,R}function f(R,T,v){return R.index=v,e?(v=R.alternate,v!==null?(v=v.index,v<T?(R.flags|=2,T):v):(R.flags|=2,T)):(R.flags|=1048576,T)}function g(R){return e&&R.alternate===null&&(R.flags|=2),R}function m(R,T,v,U){return T===null||T.tag!==6?(T=kl(v,R.mode,U),T.return=R,T):(T=c(T,v),T.return=R,T)}function y(R,T,v,U){var Q=v.type;return Q===Ei?I(R,T,v.props.children,U,v.key):T!==null&&(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===yr&&W1(Q)===T.type)?(U=c(T,v.props),U.ref=ps(R,T,v),U.return=R,U):(U=Zo(v.type,v.key,v.props,null,R.mode,U),U.ref=ps(R,T,v),U.return=R,U)}function x(R,T,v,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==v.containerInfo||T.stateNode.implementation!==v.implementation?(T=Bl(v,R.mode,U),T.return=R,T):(T=c(T,v.children||[]),T.return=R,T)}function I(R,T,v,U,Q){return T===null||T.tag!==7?(T=ei(v,R.mode,U,Q),T.return=R,T):(T=c(T,v),T.return=R,T)}function S(R,T,v){if(typeof T=="string"&&T!==""||typeof T=="number")return T=kl(""+T,R.mode,v),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Co:return v=Zo(T.type,T.key,T.props,null,R.mode,v),v.ref=ps(R,null,T),v.return=R,v;case Ci:return T=Bl(T,R.mode,v),T.return=R,T;case yr:var U=T._init;return S(R,U(T._payload),v)}if(Cs(T)||cs(T))return T=ei(T,R.mode,v,null),T.return=R,T;bo(R,T)}return null}function b(R,T,v,U){var Q=T!==null?T.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return Q!==null?null:m(R,T,""+v,U);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Co:return v.key===Q?y(R,T,v,U):null;case Ci:return v.key===Q?x(R,T,v,U):null;case yr:return Q=v._init,b(R,T,Q(v._payload),U)}if(Cs(v)||cs(v))return Q!==null?null:I(R,T,v,U,null);bo(R,v)}return null}function L(R,T,v,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number")return R=R.get(v)||null,m(T,R,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Co:return R=R.get(U.key===null?v:U.key)||null,y(T,R,U,Q);case Ci:return R=R.get(U.key===null?v:U.key)||null,x(T,R,U,Q);case yr:var Z=U._init;return L(R,T,v,Z(U._payload),Q)}if(Cs(U)||cs(U))return R=R.get(v)||null,I(T,R,U,Q,null);bo(T,U)}return null}function z(R,T,v,U){for(var Q=null,Z=null,j=T,W=T=0,G=null;j!==null&&W<v.length;W++){j.index>W?(G=j,j=null):G=j.sibling;var ae=b(R,j,v[W],U);if(ae===null){j===null&&(j=G);break}e&&j&&ae.alternate===null&&n(R,j),T=f(ae,T,W),Z===null?Q=ae:Z.sibling=ae,Z=ae,j=G}if(W===v.length)return i(R,j),Ke&&Xr(R,W),Q;if(j===null){for(;W<v.length;W++)j=S(R,v[W],U),j!==null&&(T=f(j,T,W),Z===null?Q=j:Z.sibling=j,Z=j);return Ke&&Xr(R,W),Q}for(j=a(R,j);W<v.length;W++)G=L(j,R,W,v[W],U),G!==null&&(e&&G.alternate!==null&&j.delete(G.key===null?W:G.key),T=f(G,T,W),Z===null?Q=G:Z.sibling=G,Z=G);return e&&j.forEach(function(ce){return n(R,ce)}),Ke&&Xr(R,W),Q}function B(R,T,v,U){var Q=cs(v);if(typeof Q!="function")throw Error(J(150));if(v=Q.call(v),v==null)throw Error(J(151));for(var Z=Q=null,j=T,W=T=0,G=null,ae=v.next();j!==null&&!ae.done;W++,ae=v.next()){j.index>W?(G=j,j=null):G=j.sibling;var ce=b(R,j,ae.value,U);if(ce===null){j===null&&(j=G);break}e&&j&&ce.alternate===null&&n(R,j),T=f(ce,T,W),Z===null?Q=ce:Z.sibling=ce,Z=ce,j=G}if(ae.done)return i(R,j),Ke&&Xr(R,W),Q;if(j===null){for(;!ae.done;W++,ae=v.next())ae=S(R,ae.value,U),ae!==null&&(T=f(ae,T,W),Z===null?Q=ae:Z.sibling=ae,Z=ae);return Ke&&Xr(R,W),Q}for(j=a(R,j);!ae.done;W++,ae=v.next())ae=L(j,R,W,ae.value,U),ae!==null&&(e&&ae.alternate!==null&&j.delete(ae.key===null?W:ae.key),T=f(ae,T,W),Z===null?Q=ae:Z.sibling=ae,Z=ae);return e&&j.forEach(function(ne){return n(R,ne)}),Ke&&Xr(R,W),Q}function X(R,T,v,U){if(typeof v=="object"&&v!==null&&v.type===Ei&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Co:e:{for(var Q=v.key,Z=T;Z!==null;){if(Z.key===Q){if(Q=v.type,Q===Ei){if(Z.tag===7){i(R,Z.sibling),T=c(Z,v.props.children),T.return=R,R=T;break e}}else if(Z.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===yr&&W1(Q)===Z.type){i(R,Z.sibling),T=c(Z,v.props),T.ref=ps(R,Z,v),T.return=R,R=T;break e}i(R,Z);break}else n(R,Z);Z=Z.sibling}v.type===Ei?(T=ei(v.props.children,R.mode,U,v.key),T.return=R,R=T):(U=Zo(v.type,v.key,v.props,null,R.mode,U),U.ref=ps(R,T,v),U.return=R,R=U)}return g(R);case Ci:e:{for(Z=v.key;T!==null;){if(T.key===Z)if(T.tag===4&&T.stateNode.containerInfo===v.containerInfo&&T.stateNode.implementation===v.implementation){i(R,T.sibling),T=c(T,v.children||[]),T.return=R,R=T;break e}else{i(R,T);break}else n(R,T);T=T.sibling}T=Bl(v,R.mode,U),T.return=R,R=T}return g(R);case yr:return Z=v._init,X(R,T,Z(v._payload),U)}if(Cs(v))return z(R,T,v,U);if(cs(v))return B(R,T,v,U);bo(R,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,T!==null&&T.tag===6?(i(R,T.sibling),T=c(T,v),T.return=R,R=T):(i(R,T),T=kl(v,R.mode,U),T.return=R,R=T),g(R)):i(R,T)}return X}var Hi=td(!0),nd=td(!1),da=Fr(null),ha=null,Mi=null,oc=null;function ac(){oc=Mi=ha=null}function lc(e){var n=da.current;Xe(da),e._currentValue=n}function xu(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function Pi(e,n){ha=e,oc=Mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Qt=!0),e.firstContext=null)}function Cn(e){var n=e._currentValue;if(oc!==e)if(e={context:e,memoizedValue:n,next:null},Mi===null){if(ha===null)throw Error(J(308));Mi=e,ha.dependencies={lanes:0,firstContext:e}}else Mi=Mi.next=e;return n}var qr=null;function uc(e){qr===null?qr=[e]:qr.push(e)}function rd(e,n,i,a){var c=n.interleaved;return c===null?(i.next=i,uc(n)):(i.next=c.next,c.next=i),n.interleaved=i,ir(e,a)}function ir(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Cr=!1;function cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function id(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function er(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Mr(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,_e&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,ir(e,i)}return c=a.interleaved,c===null?(n.next=n,uc(a)):(n.next=c.next,c.next=n),a.interleaved=n,ir(e,i)}function Vo(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,Zu(e,i)}}function G1(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=n:f=f.next=n}else c=f=n;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function ga(e,n,i,a){var c=e.updateQueue;Cr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,m=c.shared.pending;if(m!==null){c.shared.pending=null;var y=m,x=y.next;y.next=null,g===null?f=x:g.next=x,g=y;var I=e.alternate;I!==null&&(I=I.updateQueue,m=I.lastBaseUpdate,m!==g&&(m===null?I.firstBaseUpdate=x:m.next=x,I.lastBaseUpdate=y))}if(f!==null){var S=c.baseState;g=0,I=x=y=null,m=f;do{var b=m.lane,L=m.eventTime;if((a&b)===b){I!==null&&(I=I.next={eventTime:L,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var z=e,B=m;switch(b=n,L=i,B.tag){case 1:if(z=B.payload,typeof z=="function"){S=z.call(L,S,b);break e}S=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=B.payload,b=typeof z=="function"?z.call(L,S,b):z,b==null)break e;S=nt({},S,b);break e;case 2:Cr=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,b=c.effects,b===null?c.effects=[m]:b.push(m))}else L={eventTime:L,lane:b,tag:m.tag,payload:m.payload,callback:m.callback,next:null},I===null?(x=I=L,y=S):I=I.next=L,g|=b;if(m=m.next,m===null){if(m=c.shared.pending,m===null)break;b=m,m=b.next,b.next=null,c.lastBaseUpdate=b,c.shared.pending=null}}while(!0);if(I===null&&(y=S),c.baseState=y,c.firstBaseUpdate=x,c.lastBaseUpdate=I,n=c.shared.interleaved,n!==null){c=n;do g|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);ii|=g,e.lanes=g,e.memoizedState=S}}function Y1(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(J(191,c));c.call(a)}}}var to={},Yn=Fr(to),Vs=Fr(to),Ws=Fr(to);function Jr(e){if(e===to)throw Error(J(174));return e}function fc(e,n){switch(Ve(Ws,n),Ve(Vs,e),Ve(Yn,to),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Kl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Kl(n,e)}Xe(Yn),Ve(Yn,n)}function Vi(){Xe(Yn),Xe(Vs),Xe(Ws)}function sd(e){Jr(Ws.current);var n=Jr(Yn.current),i=Kl(n,e.type);n!==i&&(Ve(Vs,e),Ve(Yn,i))}function dc(e){Vs.current===e&&(Xe(Yn),Xe(Vs))}var et=Fr(0);function pa(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ml=[];function hc(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var Wo=ar.ReactCurrentDispatcher,Rl=ar.ReactCurrentBatchConfig,ri=0,tt=null,pt=null,Ct=null,xa=!1,_s=!1,Gs=0,tp=0;function bt(){throw Error(J(321))}function gc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Dn(e[i],n[i]))return!1;return!0}function pc(e,n,i,a,c,f){if(ri=f,tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Wo.current=e===null||e.memoizedState===null?sp:op,e=i(a,c),_s){f=0;do{if(_s=!1,Gs=0,25<=f)throw Error(J(301));f+=1,Ct=pt=null,n.updateQueue=null,Wo.current=ap,e=i(a,c)}while(_s)}if(Wo.current=ma,n=pt!==null&&pt.next!==null,ri=0,Ct=pt=tt=null,xa=!1,n)throw Error(J(300));return e}function xc(){var e=Gs!==0;return Gs=0,e}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?tt.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function En(){if(pt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var n=Ct===null?tt.memoizedState:Ct.next;if(n!==null)Ct=n,pt=e;else{if(e===null)throw Error(J(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Ct===null?tt.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Ys(e,n){return typeof n=="function"?n(e):n}function bl(e){var n=En(),i=n.queue;if(i===null)throw Error(J(311));i.lastRenderedReducer=e;var a=pt,c=a.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}a.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,a=a.baseState;var m=g=null,y=null,x=f;do{var I=x.lane;if((ri&I)===I)y!==null&&(y=y.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),a=x.hasEagerState?x.eagerState:e(a,x.action);else{var S={lane:I,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};y===null?(m=y=S,g=a):y=y.next=S,tt.lanes|=I,ii|=I}x=x.next}while(x!==null&&x!==f);y===null?g=a:y.next=m,Dn(a,n.memoizedState)||(Qt=!0),n.memoizedState=a,n.baseState=g,n.baseQueue=y,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do f=c.lane,tt.lanes|=f,ii|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Ol(e){var n=En(),i=n.queue;if(i===null)throw Error(J(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,f=n.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);Dn(f,n.memoizedState)||(Qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,a]}function od(){}function ad(e,n){var i=tt,a=En(),c=n(),f=!Dn(a.memoizedState,c);if(f&&(a.memoizedState=c,Qt=!0),a=a.queue,mc(cd.bind(null,i,a,e),[e]),a.getSnapshot!==n||f||Ct!==null&&Ct.memoizedState.tag&1){if(i.flags|=2048,Xs(9,ud.bind(null,i,a,c,n),void 0,null),Et===null)throw Error(J(349));ri&30||ld(i,n,c)}return c}function ld(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=tt.updateQueue,n===null?(n={lastEffect:null,stores:null},tt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function ud(e,n,i,a){n.value=i,n.getSnapshot=a,fd(n)&&dd(e)}function cd(e,n,i){return i(function(){fd(n)&&dd(e)})}function fd(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Dn(e,i)}catch{return!0}}function dd(e){var n=ir(e,1);n!==null&&On(n,e,1,-1)}function X1(e){var n=Hn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:e},n.queue=e,e=e.dispatch=ip.bind(null,tt,e),[n.memoizedState,e]}function Xs(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=tt.updateQueue,n===null?(n={lastEffect:null,stores:null},tt.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function hd(){return En().memoizedState}function Go(e,n,i,a){var c=Hn();tt.flags|=e,c.memoizedState=Xs(1|n,i,void 0,a===void 0?null:a)}function Da(e,n,i,a){var c=En();a=a===void 0?null:a;var f=void 0;if(pt!==null){var g=pt.memoizedState;if(f=g.destroy,a!==null&&gc(a,g.deps)){c.memoizedState=Xs(n,i,f,a);return}}tt.flags|=e,c.memoizedState=Xs(1|n,i,f,a)}function Q1(e,n){return Go(8390656,8,e,n)}function mc(e,n){return Da(2048,8,e,n)}function gd(e,n){return Da(4,2,e,n)}function pd(e,n){return Da(4,4,e,n)}function xd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function md(e,n,i){return i=i!=null?i.concat([e]):null,Da(4,4,xd.bind(null,n,e),i)}function wc(){}function wd(e,n){var i=En();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&gc(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function yd(e,n){var i=En();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&gc(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function Cd(e,n,i){return ri&21?(Dn(i,n)||(i=v0(),tt.lanes|=i,ii|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=i)}function np(e,n){var i=Le;Le=i!==0&&4>i?i:4,e(!0);var a=Rl.transition;Rl.transition={};try{e(!1),n()}finally{Le=i,Rl.transition=a}}function Ed(){return En().memoizedState}function rp(e,n,i){var a=br(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Ad(e))Sd(n,i);else if(i=rd(e,n,i,a),i!==null){var c=Ft();On(i,e,a,c),Id(i,n,a)}}function ip(e,n,i){var a=br(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ad(e))Sd(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,m=f(g,i);if(c.hasEagerState=!0,c.eagerState=m,Dn(m,g)){var y=n.interleaved;y===null?(c.next=c,uc(n)):(c.next=y.next,y.next=c),n.interleaved=c;return}}catch{}finally{}i=rd(e,n,c,a),i!==null&&(c=Ft(),On(i,e,a,c),Id(i,n,a))}}function Ad(e){var n=e.alternate;return e===tt||n!==null&&n===tt}function Sd(e,n){_s=xa=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Id(e,n,i){if(i&4194240){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,Zu(e,i)}}var ma={readContext:Cn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},sp={readContext:Cn,useCallback:function(e,n){return Hn().memoizedState=[e,n===void 0?null:n],e},useContext:Cn,useEffect:Q1,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Go(4194308,4,xd.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Go(4194308,4,e,n)},useInsertionEffect:function(e,n){return Go(4,2,e,n)},useMemo:function(e,n){var i=Hn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=Hn();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=rp.bind(null,tt,e),[a.memoizedState,e]},useRef:function(e){var n=Hn();return e={current:e},n.memoizedState=e},useState:X1,useDebugValue:wc,useDeferredValue:function(e){return Hn().memoizedState=e},useTransition:function(){var e=X1(!1),n=e[0];return e=np.bind(null,e[1]),Hn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=tt,c=Hn();if(Ke){if(i===void 0)throw Error(J(407));i=i()}else{if(i=n(),Et===null)throw Error(J(349));ri&30||ld(a,n,i)}c.memoizedState=i;var f={value:i,getSnapshot:n};return c.queue=f,Q1(cd.bind(null,a,f,e),[e]),a.flags|=2048,Xs(9,ud.bind(null,a,f,i,n),void 0,null),i},useId:function(){var e=Hn(),n=Et.identifierPrefix;if(Ke){var i=Jn,a=qn;i=(a&~(1<<32-bn(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=Gs++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=tp++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},op={readContext:Cn,useCallback:wd,useContext:Cn,useEffect:mc,useImperativeHandle:md,useInsertionEffect:gd,useLayoutEffect:pd,useMemo:yd,useReducer:bl,useRef:hd,useState:function(){return bl(Ys)},useDebugValue:wc,useDeferredValue:function(e){var n=En();return Cd(n,pt.memoizedState,e)},useTransition:function(){var e=bl(Ys)[0],n=En().memoizedState;return[e,n]},useMutableSource:od,useSyncExternalStore:ad,useId:Ed,unstable_isNewReconciler:!1},ap={readContext:Cn,useCallback:wd,useContext:Cn,useEffect:mc,useImperativeHandle:md,useInsertionEffect:gd,useLayoutEffect:pd,useMemo:yd,useReducer:Ol,useRef:hd,useState:function(){return Ol(Ys)},useDebugValue:wc,useDeferredValue:function(e){var n=En();return pt===null?n.memoizedState=e:Cd(n,pt.memoizedState,e)},useTransition:function(){var e=Ol(Ys)[0],n=En().memoizedState;return[e,n]},useMutableSource:od,useSyncExternalStore:ad,useId:Ed,unstable_isNewReconciler:!1};function Nn(e,n){if(e&&e.defaultProps){n=nt({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function mu(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:nt({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var La={isMounted:function(e){return(e=e._reactInternals)?ai(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=Ft(),c=br(e),f=er(a,c);f.payload=n,i!=null&&(f.callback=i),n=Mr(e,f,c),n!==null&&(On(n,e,c,a),Vo(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=Ft(),c=br(e),f=er(a,c);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Mr(e,f,c),n!==null&&(On(n,e,c,a),Vo(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ft(),a=br(e),c=er(i,a);c.tag=2,n!=null&&(c.callback=n),n=Mr(e,c,a),n!==null&&(On(n,e,a,i),Vo(n,e,a))}};function Z1(e,n,i,a,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):n.prototype&&n.prototype.isPureReactComponent?!Us(i,a)||!Us(c,f):!0}function vd(e,n,i){var a=!1,c=kr,f=n.contextType;return typeof f=="object"&&f!==null?f=Cn(f):(c=Kt(n)?ti:Lt.current,a=n.contextTypes,f=(a=a!=null)?ji(e,c):kr),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=La,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),n}function K1(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&La.enqueueReplaceState(n,n.state,null)}function wu(e,n,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},cc(e);var f=n.contextType;typeof f=="object"&&f!==null?c.context=Cn(f):(f=Kt(n)?ti:Lt.current,c.context=ji(e,f)),c.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(mu(e,n,f,i),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&La.enqueueReplaceState(c,c.state,null),ga(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Wi(e,n){try{var i="",a=n;do i+=kg(a),a=a.return;while(a);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:c,digest:null}}function Dl(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function yu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var lp=typeof WeakMap=="function"?WeakMap:Map;function Td(e,n,i){i=er(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){ya||(ya=!0,Mu=a),yu(e,n)},i}function Nd(e,n,i){i=er(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;i.payload=function(){return a(c)},i.callback=function(){yu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){yu(e,n),typeof a!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),i}function q1(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new lp;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(i)||(c.add(i),e=Ap.bind(null,e,n,i),n.then(e,e))}function J1(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function $1(e,n,i,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=er(-1,1),n.tag=2,Mr(i,n,1))),i.lanes|=1),e)}var up=ar.ReactCurrentOwner,Qt=!1;function Pt(e,n,i,a){n.child=e===null?nd(n,null,i,a):Hi(n,e.child,i,a)}function ef(e,n,i,a,c){i=i.render;var f=n.ref;return Pi(n,c),a=pc(e,n,i,a,f,c),i=xc(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,sr(e,n,c)):(Ke&&i&&rc(n),n.flags|=1,Pt(e,n,a,c),n.child)}function tf(e,n,i,a,c){if(e===null){var f=i.type;return typeof f=="function"&&!Tc(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,_d(e,n,f,a,c)):(e=Zo(i.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Us,i(g,a)&&e.ref===n.ref)return sr(e,n,c)}return n.flags|=1,e=Or(f,a),e.ref=n.ref,e.return=n,n.child=e}function _d(e,n,i,a,c){if(e!==null){var f=e.memoizedProps;if(Us(f,a)&&e.ref===n.ref)if(Qt=!1,n.pendingProps=a=f,(e.lanes&c)!==0)e.flags&131072&&(Qt=!0);else return n.lanes=e.lanes,sr(e,n,c)}return Cu(e,n,i,a,c)}function Md(e,n,i){var a=n.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(bi,tn),tn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ve(bi,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,Ve(bi,tn),tn|=a}else f!==null?(a=f.baseLanes|i,n.memoizedState=null):a=i,Ve(bi,tn),tn|=a;return Pt(e,n,c,i),n.child}function Rd(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Cu(e,n,i,a,c){var f=Kt(i)?ti:Lt.current;return f=ji(n,f),Pi(n,c),i=pc(e,n,i,a,f,c),a=xc(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,sr(e,n,c)):(Ke&&a&&rc(n),n.flags|=1,Pt(e,n,i,c),n.child)}function nf(e,n,i,a,c){if(Kt(i)){var f=!0;ua(n)}else f=!1;if(Pi(n,c),n.stateNode===null)Yo(e,n),vd(n,i,a),wu(n,i,a,c),a=!0;else if(e===null){var g=n.stateNode,m=n.memoizedProps;g.props=m;var y=g.context,x=i.contextType;typeof x=="object"&&x!==null?x=Cn(x):(x=Kt(i)?ti:Lt.current,x=ji(n,x));var I=i.getDerivedStateFromProps,S=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function";S||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==a||y!==x)&&K1(n,g,a,x),Cr=!1;var b=n.memoizedState;g.state=b,ga(n,a,g,c),y=n.memoizedState,m!==a||b!==y||Zt.current||Cr?(typeof I=="function"&&(mu(n,i,I,a),y=n.memoizedState),(m=Cr||Z1(n,i,m,a,b,y,x))?(S||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=y),g.props=a,g.state=y,g.context=x,a=m):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{g=n.stateNode,id(e,n),m=n.memoizedProps,x=n.type===n.elementType?m:Nn(n.type,m),g.props=x,S=n.pendingProps,b=g.context,y=i.contextType,typeof y=="object"&&y!==null?y=Cn(y):(y=Kt(i)?ti:Lt.current,y=ji(n,y));var L=i.getDerivedStateFromProps;(I=typeof L=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==S||b!==y)&&K1(n,g,a,y),Cr=!1,b=n.memoizedState,g.state=b,ga(n,a,g,c);var z=n.memoizedState;m!==S||b!==z||Zt.current||Cr?(typeof L=="function"&&(mu(n,i,L,a),z=n.memoizedState),(x=Cr||Z1(n,i,x,a,b,z,y)||!1)?(I||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,z,y),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,z,y)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=z),g.props=a,g.state=z,g.context=y,a=x):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(n.flags|=1024),a=!1)}return Eu(e,n,i,a,f,c)}function Eu(e,n,i,a,c,f){Rd(e,n);var g=(n.flags&128)!==0;if(!a&&!g)return c&&z1(n,i,!1),sr(e,n,f);a=n.stateNode,up.current=n;var m=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&g?(n.child=Hi(n,e.child,null,f),n.child=Hi(n,null,m,f)):Pt(e,n,m,f),n.memoizedState=a.state,c&&z1(n,i,!0),n.child}function bd(e){var n=e.stateNode;n.pendingContext?j1(e,n.pendingContext,n.pendingContext!==n.context):n.context&&j1(e,n.context,!1),fc(e,n.containerInfo)}function rf(e,n,i,a,c){return zi(),sc(c),n.flags|=256,Pt(e,n,i,a),n.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Su(e){return{baseLanes:e,cachePool:null,transitions:null}}function Od(e,n,i){var a=n.pendingProps,c=et.current,f=!1,g=(n.flags&128)!==0,m;if((m=g)||(m=e!==null&&e.memoizedState===null?!1:(c&2)!==0),m?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ve(et,c&1),e===null)return pu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(g=a.children,e=a.fallback,f?(a=n.mode,f=n.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Pa(g,a,0,null),e=ei(e,a,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Su(i),n.memoizedState=Au,e):yc(n,g));if(c=e.memoizedState,c!==null&&(m=c.dehydrated,m!==null))return cp(e,n,g,a,m,c,i);if(f){f=a.fallback,g=n.mode,c=e.child,m=c.sibling;var y={mode:"hidden",children:a.children};return!(g&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=y,n.deletions=null):(a=Or(c,y),a.subtreeFlags=c.subtreeFlags&14680064),m!==null?f=Or(m,f):(f=ei(f,g,i,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,g=e.child.memoizedState,g=g===null?Su(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,n.memoizedState=Au,a}return f=e.child,e=f.sibling,a=Or(f,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function yc(e,n){return n=Pa({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Oo(e,n,i,a){return a!==null&&sc(a),Hi(n,e.child,null,i),e=yc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function cp(e,n,i,a,c,f,g){if(i)return n.flags&256?(n.flags&=-257,a=Dl(Error(J(422))),Oo(e,n,g,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=a.fallback,c=n.mode,a=Pa({mode:"visible",children:a.children},c,0,null),f=ei(f,c,g,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,n.mode&1&&Hi(n,e.child,null,g),n.child.memoizedState=Su(g),n.memoizedState=Au,f);if(!(n.mode&1))return Oo(e,n,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var m=a.dgst;return a=m,f=Error(J(419)),a=Dl(f,a,void 0),Oo(e,n,g,a)}if(m=(g&e.childLanes)!==0,Qt||m){if(a=Et,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|g)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,ir(e,c),On(a,e,c,-1))}return vc(),a=Dl(Error(J(421))),Oo(e,n,g,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=Sp.bind(null,e),c._reactRetry=n,null):(e=f.treeContext,rn=_r(c.nextSibling),sn=n,Ke=!0,Rn=null,e!==null&&(xn[mn++]=qn,xn[mn++]=Jn,xn[mn++]=ni,qn=e.id,Jn=e.overflow,ni=n),n=yc(n,a.children),n.flags|=4096,n)}function sf(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),xu(e.return,n,i)}function Ll(e,n,i,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=c)}function Dd(e,n,i){var a=n.pendingProps,c=a.revealOrder,f=a.tail;if(Pt(e,n,a.children,i),a=et.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sf(e,i,n);else if(e.tag===19)sf(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ve(et,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&pa(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),Ll(n,!1,c,i,f);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&pa(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Ll(n,!0,i,null,f);break;case"together":Ll(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Yo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function sr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ii|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(J(153));if(n.child!==null){for(e=n.child,i=Or(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Or(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function fp(e,n,i){switch(n.tag){case 3:bd(n),zi();break;case 5:sd(n);break;case 1:Kt(n.type)&&ua(n);break;case 4:fc(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;Ve(da,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Ve(et,et.current&1),n.flags|=128,null):i&n.child.childLanes?Od(e,n,i):(Ve(et,et.current&1),e=sr(e,n,i),e!==null?e.sibling:null);Ve(et,et.current&1);break;case 19:if(a=(i&n.childLanes)!==0,e.flags&128){if(a)return Dd(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ve(et,et.current),a)break;return null;case 22:case 23:return n.lanes=0,Md(e,n,i)}return sr(e,n,i)}var Ld,Iu,kd,Bd;Ld=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Iu=function(){};kd=function(e,n,i,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,Jr(Yn.current);var f=null;switch(i){case"input":c=Yl(e,c),a=Yl(e,a),f=[];break;case"select":c=nt({},c,{value:void 0}),a=nt({},a,{value:void 0}),f=[];break;case"textarea":c=Zl(e,c),a=Zl(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=aa)}ql(i,a);var g;i=null;for(x in c)if(!a.hasOwnProperty(x)&&c.hasOwnProperty(x)&&c[x]!=null)if(x==="style"){var m=c[x];for(g in m)m.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Os.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in a){var y=a[x];if(m=c!=null?c[x]:void 0,a.hasOwnProperty(x)&&y!==m&&(y!=null||m!=null))if(x==="style")if(m){for(g in m)!m.hasOwnProperty(g)||y&&y.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in y)y.hasOwnProperty(g)&&m[g]!==y[g]&&(i||(i={}),i[g]=y[g])}else i||(f||(f=[]),f.push(x,i)),i=y;else x==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,m=m?m.__html:void 0,y!=null&&m!==y&&(f=f||[]).push(x,y)):x==="children"?typeof y!="string"&&typeof y!="number"||(f=f||[]).push(x,""+y):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Os.hasOwnProperty(x)?(y!=null&&x==="onScroll"&&Ge("scroll",e),f||m===y||(f=[])):(f=f||[]).push(x,y))}i&&(f=f||[]).push("style",i);var x=f;(n.updateQueue=x)&&(n.flags|=4)}};Bd=function(e,n,i,a){i!==a&&(n.flags|=4)};function xs(e,n){if(!Ke)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ot(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function dp(e,n,i){var a=n.pendingProps;switch(ic(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(n),null;case 1:return Kt(n.type)&&la(),Ot(n),null;case 3:return a=n.stateNode,Vi(),Xe(Zt),Xe(Lt),hc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ro(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Rn!==null&&(Ou(Rn),Rn=null))),Iu(e,n),Ot(n),null;case 5:dc(n);var c=Jr(Ws.current);if(i=n.type,e!==null&&n.stateNode!=null)kd(e,n,i,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(J(166));return Ot(n),null}if(e=Jr(Yn.current),Ro(n)){a=n.stateNode,i=n.type;var f=n.memoizedProps;switch(a[Wn]=n,a[Hs]=f,e=(n.mode&1)!==0,i){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(c=0;c<As.length;c++)Ge(As[c],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":h1(a,f),Ge("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ge("invalid",a);break;case"textarea":p1(a,f),Ge("invalid",a)}ql(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var m=f[g];g==="children"?typeof m=="string"?a.textContent!==m&&(f.suppressHydrationWarning!==!0&&Mo(a.textContent,m,e),c=["children",m]):typeof m=="number"&&a.textContent!==""+m&&(f.suppressHydrationWarning!==!0&&Mo(a.textContent,m,e),c=["children",""+m]):Os.hasOwnProperty(g)&&m!=null&&g==="onScroll"&&Ge("scroll",a)}switch(i){case"input":Eo(a),g1(a,f,!0);break;case"textarea":Eo(a),x1(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=aa)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=c0(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[Wn]=n,e[Hs]=a,Ld(e,n,!1,!1),n.stateNode=e;e:{switch(g=Jl(i,a),i){case"dialog":Ge("cancel",e),Ge("close",e),c=a;break;case"iframe":case"object":case"embed":Ge("load",e),c=a;break;case"video":case"audio":for(c=0;c<As.length;c++)Ge(As[c],e);c=a;break;case"source":Ge("error",e),c=a;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),c=a;break;case"details":Ge("toggle",e),c=a;break;case"input":h1(e,a),c=Yl(e,a),Ge("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=nt({},a,{value:void 0}),Ge("invalid",e);break;case"textarea":p1(e,a),c=Zl(e,a),Ge("invalid",e);break;default:c=a}ql(i,c),m=c;for(f in m)if(m.hasOwnProperty(f)){var y=m[f];f==="style"?h0(e,y):f==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&f0(e,y)):f==="children"?typeof y=="string"?(i!=="textarea"||y!=="")&&Ds(e,y):typeof y=="number"&&Ds(e,""+y):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Os.hasOwnProperty(f)?y!=null&&f==="onScroll"&&Ge("scroll",e):y!=null&&Vu(e,f,y,g))}switch(i){case"input":Eo(e),g1(e,a,!1);break;case"textarea":Eo(e),x1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Lr(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Di(e,!!a.multiple,f,!1):a.defaultValue!=null&&Di(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=aa)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ot(n),null;case 6:if(e&&n.stateNode!=null)Bd(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(J(166));if(i=Jr(Ws.current),Jr(Yn.current),Ro(n)){if(a=n.stateNode,i=n.memoizedProps,a[Wn]=n,(f=a.nodeValue!==i)&&(e=sn,e!==null))switch(e.tag){case 3:Mo(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mo(a.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Wn]=n,n.stateNode=a}return Ot(n),null;case 13:if(Xe(et),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&rn!==null&&n.mode&1&&!(n.flags&128))ed(),zi(),n.flags|=98560,f=!1;else if(f=Ro(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(J(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(J(317));f[Wn]=n}else zi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ot(n),f=!1}else Rn!==null&&(Ou(Rn),Rn=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||et.current&1?xt===0&&(xt=3):vc())),n.updateQueue!==null&&(n.flags|=4),Ot(n),null);case 4:return Vi(),Iu(e,n),e===null&&js(n.stateNode.containerInfo),Ot(n),null;case 10:return lc(n.type._context),Ot(n),null;case 17:return Kt(n.type)&&la(),Ot(n),null;case 19:if(Xe(et),f=n.memoizedState,f===null)return Ot(n),null;if(a=(n.flags&128)!==0,g=f.rendering,g===null)if(a)xs(f,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(g=pa(e),g!==null){for(n.flags|=128,xs(f,!1),a=g.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ve(et,et.current&1|2),n.child}e=e.sibling}f.tail!==null&&ut()>Gi&&(n.flags|=128,a=!0,xs(f,!1),n.lanes=4194304)}else{if(!a)if(e=pa(g),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),xs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ke)return Ot(n),null}else 2*ut()-f.renderingStartTime>Gi&&i!==1073741824&&(n.flags|=128,a=!0,xs(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(i=f.last,i!==null?i.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=ut(),n.sibling=null,i=et.current,Ve(et,a?i&1|2:i&1),n):(Ot(n),null);case 22:case 23:return Ic(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?tn&1073741824&&(Ot(n),n.subtreeFlags&6&&(n.flags|=8192)):Ot(n),null;case 24:return null;case 25:return null}throw Error(J(156,n.tag))}function hp(e,n){switch(ic(n),n.tag){case 1:return Kt(n.type)&&la(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vi(),Xe(Zt),Xe(Lt),hc(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return dc(n),null;case 13:if(Xe(et),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(J(340));zi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Xe(et),null;case 4:return Vi(),null;case 10:return lc(n.type._context),null;case 22:case 23:return Ic(),null;case 24:return null;default:return null}}var Do=!1,Dt=!1,gp=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ri(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){at(e,n,a)}else i.current=null}function vu(e,n,i){try{i()}catch(a){at(e,n,a)}}var of=!1;function pp(e,n){if(lu=ia,e=z0(),nc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,m=-1,y=-1,x=0,I=0,S=e,b=null;t:for(;;){for(var L;S!==i||c!==0&&S.nodeType!==3||(m=g+c),S!==f||a!==0&&S.nodeType!==3||(y=g+a),S.nodeType===3&&(g+=S.nodeValue.length),(L=S.firstChild)!==null;)b=S,S=L;for(;;){if(S===e)break t;if(b===i&&++x===c&&(m=g),b===f&&++I===a&&(y=g),(L=S.nextSibling)!==null)break;S=b,b=S.parentNode}S=L}i=m===-1||y===-1?null:{start:m,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(uu={focusedElem:e,selectionRange:i},ia=!1,oe=n;oe!==null;)if(n=oe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,oe=e;else for(;oe!==null;){n=oe;try{var z=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var B=z.memoizedProps,X=z.memoizedState,R=n.stateNode,T=R.getSnapshotBeforeUpdate(n.elementType===n.type?B:Nn(n.type,B),X);R.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var v=n.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(U){at(n,n.return,U)}if(e=n.sibling,e!==null){e.return=n.return,oe=e;break}oe=n.return}return z=of,of=!1,z}function Ms(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&vu(n,i,f)}c=c.next}while(c!==a)}}function ka(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Tu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Pd(e){var n=e.alternate;n!==null&&(e.alternate=null,Pd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Wn],delete n[Hs],delete n[du],delete n[q2],delete n[J2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fd(e){return e.tag===5||e.tag===3||e.tag===4}function af(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nu(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=aa));else if(a!==4&&(e=e.child,e!==null))for(Nu(e,n,i),e=e.sibling;e!==null;)Nu(e,n,i),e=e.sibling}function _u(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(_u(e,n,i),e=e.sibling;e!==null;)_u(e,n,i),e=e.sibling}var Tt=null,_n=!1;function mr(e,n,i){for(i=i.child;i!==null;)Ud(e,n,i),i=i.sibling}function Ud(e,n,i){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Na,i)}catch{}switch(i.tag){case 5:Dt||Ri(i,n);case 6:var a=Tt,c=_n;Tt=null,mr(e,n,i),Tt=a,_n=c,Tt!==null&&(_n?(e=Tt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Tt.removeChild(i.stateNode));break;case 18:Tt!==null&&(_n?(e=Tt,i=i.stateNode,e.nodeType===8?Nl(e.parentNode,i):e.nodeType===1&&Nl(e,i),Ps(e)):Nl(Tt,i.stateNode));break;case 4:a=Tt,c=_n,Tt=i.stateNode.containerInfo,_n=!0,mr(e,n,i),Tt=a,_n=c;break;case 0:case 11:case 14:case 15:if(!Dt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&vu(i,n,g),c=c.next}while(c!==a)}mr(e,n,i);break;case 1:if(!Dt&&(Ri(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(m){at(i,n,m)}mr(e,n,i);break;case 21:mr(e,n,i);break;case 22:i.mode&1?(Dt=(a=Dt)||i.memoizedState!==null,mr(e,n,i),Dt=a):mr(e,n,i);break;default:mr(e,n,i)}}function lf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new gp),n.forEach(function(a){var c=Ip.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function Tn(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var f=e,g=n,m=g;e:for(;m!==null;){switch(m.tag){case 5:Tt=m.stateNode,_n=!1;break e;case 3:Tt=m.stateNode.containerInfo,_n=!0;break e;case 4:Tt=m.stateNode.containerInfo,_n=!0;break e}m=m.return}if(Tt===null)throw Error(J(160));Ud(f,g,c),Tt=null,_n=!1;var y=c.alternate;y!==null&&(y.return=null),c.return=null}catch(x){at(c,n,x)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)jd(n,e),n=n.sibling}function jd(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tn(n,e),zn(e),a&4){try{Ms(3,e,e.return),ka(3,e)}catch(B){at(e,e.return,B)}try{Ms(5,e,e.return)}catch(B){at(e,e.return,B)}}break;case 1:Tn(n,e),zn(e),a&512&&i!==null&&Ri(i,i.return);break;case 5:if(Tn(n,e),zn(e),a&512&&i!==null&&Ri(i,i.return),e.flags&32){var c=e.stateNode;try{Ds(c,"")}catch(B){at(e,e.return,B)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,m=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{m==="input"&&f.type==="radio"&&f.name!=null&&l0(c,f),Jl(m,g);var x=Jl(m,f);for(g=0;g<y.length;g+=2){var I=y[g],S=y[g+1];I==="style"?h0(c,S):I==="dangerouslySetInnerHTML"?f0(c,S):I==="children"?Ds(c,S):Vu(c,I,S,x)}switch(m){case"input":Xl(c,f);break;case"textarea":u0(c,f);break;case"select":var b=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var L=f.value;L!=null?Di(c,!!f.multiple,L,!1):b!==!!f.multiple&&(f.defaultValue!=null?Di(c,!!f.multiple,f.defaultValue,!0):Di(c,!!f.multiple,f.multiple?[]:"",!1))}c[Hs]=f}catch(B){at(e,e.return,B)}}break;case 6:if(Tn(n,e),zn(e),a&4){if(e.stateNode===null)throw Error(J(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(B){at(e,e.return,B)}}break;case 3:if(Tn(n,e),zn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ps(n.containerInfo)}catch(B){at(e,e.return,B)}break;case 4:Tn(n,e),zn(e);break;case 13:Tn(n,e),zn(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Ac=ut())),a&4&&lf(e);break;case 22:if(I=i!==null&&i.memoizedState!==null,e.mode&1?(Dt=(x=Dt)||I,Tn(n,e),Dt=x):Tn(n,e),zn(e),a&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!I&&e.mode&1)for(oe=e,I=e.child;I!==null;){for(S=oe=I;oe!==null;){switch(b=oe,L=b.child,b.tag){case 0:case 11:case 14:case 15:Ms(4,b,b.return);break;case 1:Ri(b,b.return);var z=b.stateNode;if(typeof z.componentWillUnmount=="function"){a=b,i=b.return;try{n=a,z.props=n.memoizedProps,z.state=n.memoizedState,z.componentWillUnmount()}catch(B){at(a,i,B)}}break;case 5:Ri(b,b.return);break;case 22:if(b.memoizedState!==null){cf(S);continue}}L!==null?(L.return=b,oe=L):cf(S)}I=I.sibling}e:for(I=null,S=e;;){if(S.tag===5){if(I===null){I=S;try{c=S.stateNode,x?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(m=S.stateNode,y=S.memoizedProps.style,g=y!=null&&y.hasOwnProperty("display")?y.display:null,m.style.display=d0("display",g))}catch(B){at(e,e.return,B)}}}else if(S.tag===6){if(I===null)try{S.stateNode.nodeValue=x?"":S.memoizedProps}catch(B){at(e,e.return,B)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;I===S&&(I=null),S=S.return}I===S&&(I=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:Tn(n,e),zn(e),a&4&&lf(e);break;case 21:break;default:Tn(n,e),zn(e)}}function zn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Fd(i)){var a=i;break e}i=i.return}throw Error(J(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Ds(c,""),a.flags&=-33);var f=af(e);_u(e,f,c);break;case 3:case 4:var g=a.stateNode.containerInfo,m=af(e);Nu(e,m,g);break;default:throw Error(J(161))}}catch(y){at(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function xp(e,n,i){oe=e,zd(e)}function zd(e,n,i){for(var a=(e.mode&1)!==0;oe!==null;){var c=oe,f=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Do;if(!g){var m=c.alternate,y=m!==null&&m.memoizedState!==null||Dt;m=Do;var x=Dt;if(Do=g,(Dt=y)&&!x)for(oe=c;oe!==null;)g=oe,y=g.child,g.tag===22&&g.memoizedState!==null?ff(c):y!==null?(y.return=g,oe=y):ff(c);for(;f!==null;)oe=f,zd(f),f=f.sibling;oe=c,Do=m,Dt=x}uf(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,oe=f):uf(e)}}function uf(e){for(;oe!==null;){var n=oe;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Dt||ka(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Dt)if(i===null)a.componentDidMount();else{var c=n.elementType===n.type?i.memoizedProps:Nn(n.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Y1(n,f,a);break;case 3:var g=n.updateQueue;if(g!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Y1(n,g,i)}break;case 5:var m=n.stateNode;if(i===null&&n.flags&4){i=m;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&i.focus();break;case"img":y.src&&(i.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var x=n.alternate;if(x!==null){var I=x.memoizedState;if(I!==null){var S=I.dehydrated;S!==null&&Ps(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Dt||n.flags&512&&Tu(n)}catch(b){at(n,n.return,b)}}if(n===e){oe=null;break}if(i=n.sibling,i!==null){i.return=n.return,oe=i;break}oe=n.return}}function cf(e){for(;oe!==null;){var n=oe;if(n===e){oe=null;break}var i=n.sibling;if(i!==null){i.return=n.return,oe=i;break}oe=n.return}}function ff(e){for(;oe!==null;){var n=oe;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{ka(4,n)}catch(y){at(n,i,y)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(y){at(n,c,y)}}var f=n.return;try{Tu(n)}catch(y){at(n,f,y)}break;case 5:var g=n.return;try{Tu(n)}catch(y){at(n,g,y)}}}catch(y){at(n,n.return,y)}if(n===e){oe=null;break}var m=n.sibling;if(m!==null){m.return=n.return,oe=m;break}oe=n.return}}var mp=Math.ceil,wa=ar.ReactCurrentDispatcher,Cc=ar.ReactCurrentOwner,yn=ar.ReactCurrentBatchConfig,_e=0,Et=null,ft=null,Nt=0,tn=0,bi=Fr(0),xt=0,Qs=null,ii=0,Ba=0,Ec=0,Rs=null,Xt=null,Ac=0,Gi=1/0,Zn=null,ya=!1,Mu=null,Rr=null,Lo=!1,Ir=null,Ca=0,bs=0,Ru=null,Xo=-1,Qo=0;function Ft(){return _e&6?ut():Xo!==-1?Xo:Xo=ut()}function br(e){return e.mode&1?_e&2&&Nt!==0?Nt&-Nt:ep.transition!==null?(Qo===0&&(Qo=v0()),Qo):(e=Le,e!==0||(e=window.event,e=e===void 0?16:O0(e.type)),e):1}function On(e,n,i,a){if(50<bs)throw bs=0,Ru=null,Error(J(185));Js(e,i,a),(!(_e&2)||e!==Et)&&(e===Et&&(!(_e&2)&&(Ba|=i),xt===4&&Ar(e,Nt)),qt(e,a),i===1&&_e===0&&!(n.mode&1)&&(Gi=ut()+500,Oa&&Ur()))}function qt(e,n){var i=e.callbackNode;e2(e,n);var a=ra(e,e===Et?Nt:0);if(a===0)i!==null&&y1(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&y1(i),n===1)e.tag===0?$2(df.bind(null,e)):q0(df.bind(null,e)),Z2(function(){!(_e&6)&&Ur()}),i=null;else{switch(T0(a)){case 1:i=Qu;break;case 4:i=S0;break;case 16:i=na;break;case 536870912:i=I0;break;default:i=na}i=Zd(i,Hd.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Hd(e,n){if(Xo=-1,Qo=0,_e&6)throw Error(J(327));var i=e.callbackNode;if(Fi()&&e.callbackNode!==i)return null;var a=ra(e,e===Et?Nt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=Ea(e,a);else{n=a;var c=_e;_e|=2;var f=Wd();(Et!==e||Nt!==n)&&(Zn=null,Gi=ut()+500,$r(e,n));do try{Cp();break}catch(m){Vd(e,m)}while(!0);ac(),wa.current=f,_e=c,ft!==null?n=0:(Et=null,Nt=0,n=xt)}if(n!==0){if(n===2&&(c=ru(e),c!==0&&(a=c,n=bu(e,c))),n===1)throw i=Qs,$r(e,0),Ar(e,a),qt(e,ut()),i;if(n===6)Ar(e,a);else{if(c=e.current.alternate,!(a&30)&&!wp(c)&&(n=Ea(e,a),n===2&&(f=ru(e),f!==0&&(a=f,n=bu(e,f))),n===1))throw i=Qs,$r(e,0),Ar(e,a),qt(e,ut()),i;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(J(345));case 2:Qr(e,Xt,Zn);break;case 3:if(Ar(e,a),(a&130023424)===a&&(n=Ac+500-ut(),10<n)){if(ra(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){Ft(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=fu(Qr.bind(null,e,Xt,Zn),n);break}Qr(e,Xt,Zn);break;case 4:if(Ar(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var g=31-bn(a);f=1<<g,g=n[g],g>c&&(c=g),a&=~f}if(a=c,a=ut()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*mp(a/1960))-a,10<a){e.timeoutHandle=fu(Qr.bind(null,e,Xt,Zn),a);break}Qr(e,Xt,Zn);break;case 5:Qr(e,Xt,Zn);break;default:throw Error(J(329))}}}return qt(e,ut()),e.callbackNode===i?Hd.bind(null,e):null}function bu(e,n){var i=Rs;return e.current.memoizedState.isDehydrated&&($r(e,n).flags|=256),e=Ea(e,n),e!==2&&(n=Xt,Xt=i,n!==null&&Ou(n)),e}function Ou(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function wp(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],f=c.getSnapshot;c=c.value;try{if(!Dn(f(),c))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ar(e,n){for(n&=~Ec,n&=~Ba,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-bn(n),a=1<<i;e[i]=-1,n&=~a}}function df(e){if(_e&6)throw Error(J(327));Fi();var n=ra(e,0);if(!(n&1))return qt(e,ut()),null;var i=Ea(e,n);if(e.tag!==0&&i===2){var a=ru(e);a!==0&&(n=a,i=bu(e,a))}if(i===1)throw i=Qs,$r(e,0),Ar(e,n),qt(e,ut()),i;if(i===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Qr(e,Xt,Zn),qt(e,ut()),null}function Sc(e,n){var i=_e;_e|=1;try{return e(n)}finally{_e=i,_e===0&&(Gi=ut()+500,Oa&&Ur())}}function si(e){Ir!==null&&Ir.tag===0&&!(_e&6)&&Fi();var n=_e;_e|=1;var i=yn.transition,a=Le;try{if(yn.transition=null,Le=1,e)return e()}finally{Le=a,yn.transition=i,_e=n,!(_e&6)&&Ur()}}function Ic(){tn=bi.current,Xe(bi)}function $r(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Q2(i)),ft!==null)for(i=ft.return;i!==null;){var a=i;switch(ic(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&la();break;case 3:Vi(),Xe(Zt),Xe(Lt),hc();break;case 5:dc(a);break;case 4:Vi();break;case 13:Xe(et);break;case 19:Xe(et);break;case 10:lc(a.type._context);break;case 22:case 23:Ic()}i=i.return}if(Et=e,ft=e=Or(e.current,null),Nt=tn=n,xt=0,Qs=null,Ec=Ba=ii=0,Xt=Rs=null,qr!==null){for(n=0;n<qr.length;n++)if(i=qr[n],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,a.next=g}i.pending=a}qr=null}return e}function Vd(e,n){do{var i=ft;try{if(ac(),Wo.current=ma,xa){for(var a=tt.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}xa=!1}if(ri=0,Ct=pt=tt=null,_s=!1,Gs=0,Cc.current=null,i===null||i.return===null){xt=1,Qs=n,ft=null;break}e:{var f=e,g=i.return,m=i,y=n;if(n=Nt,m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var x=y,I=m,S=I.tag;if(!(I.mode&1)&&(S===0||S===11||S===15)){var b=I.alternate;b?(I.updateQueue=b.updateQueue,I.memoizedState=b.memoizedState,I.lanes=b.lanes):(I.updateQueue=null,I.memoizedState=null)}var L=J1(g);if(L!==null){L.flags&=-257,$1(L,g,m,f,n),L.mode&1&&q1(f,x,n),n=L,y=x;var z=n.updateQueue;if(z===null){var B=new Set;B.add(y),n.updateQueue=B}else z.add(y);break e}else{if(!(n&1)){q1(f,x,n),vc();break e}y=Error(J(426))}}else if(Ke&&m.mode&1){var X=J1(g);if(X!==null){!(X.flags&65536)&&(X.flags|=256),$1(X,g,m,f,n),sc(Wi(y,m));break e}}f=y=Wi(y,m),xt!==4&&(xt=2),Rs===null?Rs=[f]:Rs.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var R=Td(f,y,n);G1(f,R);break e;case 1:m=y;var T=f.type,v=f.stateNode;if(!(f.flags&128)&&(typeof T.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Rr===null||!Rr.has(v)))){f.flags|=65536,n&=-n,f.lanes|=n;var U=Nd(f,m,n);G1(f,U);break e}}f=f.return}while(f!==null)}Yd(i)}catch(Q){n=Q,ft===i&&i!==null&&(ft=i=i.return);continue}break}while(!0)}function Wd(){var e=wa.current;return wa.current=ma,e===null?ma:e}function vc(){(xt===0||xt===3||xt===2)&&(xt=4),Et===null||!(ii&268435455)&&!(Ba&268435455)||Ar(Et,Nt)}function Ea(e,n){var i=_e;_e|=2;var a=Wd();(Et!==e||Nt!==n)&&(Zn=null,$r(e,n));do try{yp();break}catch(c){Vd(e,c)}while(!0);if(ac(),_e=i,wa.current=a,ft!==null)throw Error(J(261));return Et=null,Nt=0,xt}function yp(){for(;ft!==null;)Gd(ft)}function Cp(){for(;ft!==null&&!Gg();)Gd(ft)}function Gd(e){var n=Qd(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?Yd(e):ft=n,Cc.current=null}function Yd(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=hp(i,n),i!==null){i.flags&=32767,ft=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ft=null;return}}else if(i=dp(i,n,tn),i!==null){ft=i;return}if(n=n.sibling,n!==null){ft=n;return}ft=n=e}while(n!==null);xt===0&&(xt=5)}function Qr(e,n,i){var a=Le,c=yn.transition;try{yn.transition=null,Le=1,Ep(e,n,i,a)}finally{yn.transition=c,Le=a}return null}function Ep(e,n,i,a){do Fi();while(Ir!==null);if(_e&6)throw Error(J(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(t2(e,f),e===Et&&(ft=Et=null,Nt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Lo||(Lo=!0,Zd(na,function(){return Fi(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=yn.transition,yn.transition=null;var g=Le;Le=1;var m=_e;_e|=4,Cc.current=null,pp(e,i),jd(i,e),z2(uu),ia=!!lu,uu=lu=null,e.current=i,xp(i),Yg(),_e=m,Le=g,yn.transition=f}else e.current=i;if(Lo&&(Lo=!1,Ir=e,Ca=c),f=e.pendingLanes,f===0&&(Rr=null),Zg(i.stateNode),qt(e,ut()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)c=n[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(ya)throw ya=!1,e=Mu,Mu=null,e;return Ca&1&&e.tag!==0&&Fi(),f=e.pendingLanes,f&1?e===Ru?bs++:(bs=0,Ru=e):bs=0,Ur(),null}function Fi(){if(Ir!==null){var e=T0(Ca),n=yn.transition,i=Le;try{if(yn.transition=null,Le=16>e?16:e,Ir===null)var a=!1;else{if(e=Ir,Ir=null,Ca=0,_e&6)throw Error(J(331));var c=_e;for(_e|=4,oe=e.current;oe!==null;){var f=oe,g=f.child;if(oe.flags&16){var m=f.deletions;if(m!==null){for(var y=0;y<m.length;y++){var x=m[y];for(oe=x;oe!==null;){var I=oe;switch(I.tag){case 0:case 11:case 15:Ms(8,I,f)}var S=I.child;if(S!==null)S.return=I,oe=S;else for(;oe!==null;){I=oe;var b=I.sibling,L=I.return;if(Pd(I),I===x){oe=null;break}if(b!==null){b.return=L,oe=b;break}oe=L}}}var z=f.alternate;if(z!==null){var B=z.child;if(B!==null){z.child=null;do{var X=B.sibling;B.sibling=null,B=X}while(B!==null)}}oe=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,oe=g;else e:for(;oe!==null;){if(f=oe,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ms(9,f,f.return)}var R=f.sibling;if(R!==null){R.return=f.return,oe=R;break e}oe=f.return}}var T=e.current;for(oe=T;oe!==null;){g=oe;var v=g.child;if(g.subtreeFlags&2064&&v!==null)v.return=g,oe=v;else e:for(g=T;oe!==null;){if(m=oe,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:ka(9,m)}}catch(Q){at(m,m.return,Q)}if(m===g){oe=null;break e}var U=m.sibling;if(U!==null){U.return=m.return,oe=U;break e}oe=m.return}}if(_e=c,Ur(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Na,e)}catch{}a=!0}return a}finally{Le=i,yn.transition=n}}return!1}function hf(e,n,i){n=Wi(i,n),n=Td(e,n,1),e=Mr(e,n,1),n=Ft(),e!==null&&(Js(e,1,n),qt(e,n))}function at(e,n,i){if(e.tag===3)hf(e,e,i);else for(;n!==null;){if(n.tag===3){hf(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Rr===null||!Rr.has(a))){e=Wi(i,e),e=Nd(n,e,1),n=Mr(n,e,1),e=Ft(),n!==null&&(Js(n,1,e),qt(n,e));break}}n=n.return}}function Ap(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=Ft(),e.pingedLanes|=e.suspendedLanes&i,Et===e&&(Nt&i)===i&&(xt===4||xt===3&&(Nt&130023424)===Nt&&500>ut()-Ac?$r(e,0):Ec|=i),qt(e,n)}function Xd(e,n){n===0&&(e.mode&1?(n=Io,Io<<=1,!(Io&130023424)&&(Io=4194304)):n=1);var i=Ft();e=ir(e,n),e!==null&&(Js(e,n,i),qt(e,i))}function Sp(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Xd(e,i)}function Ip(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(J(314))}a!==null&&a.delete(n),Xd(e,i)}var Qd;Qd=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Zt.current)Qt=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return Qt=!1,fp(e,n,i);Qt=!!(e.flags&131072)}else Qt=!1,Ke&&n.flags&1048576&&J0(n,fa,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Yo(e,n),e=n.pendingProps;var c=ji(n,Lt.current);Pi(n,i),c=pc(null,n,a,e,c,i);var f=xc();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Kt(a)?(f=!0,ua(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,cc(n),c.updater=La,n.stateNode=c,c._reactInternals=n,wu(n,a,e,i),n=Eu(null,n,a,!0,f,i)):(n.tag=0,Ke&&f&&rc(n),Pt(null,n,c,i),n=n.child),n;case 16:a=n.elementType;e:{switch(Yo(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=Tp(a),e=Nn(a,e),c){case 0:n=Cu(null,n,a,e,i);break e;case 1:n=nf(null,n,a,e,i);break e;case 11:n=ef(null,n,a,e,i);break e;case 14:n=tf(null,n,a,Nn(a.type,e),i);break e}throw Error(J(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Nn(a,c),Cu(e,n,a,c,i);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Nn(a,c),nf(e,n,a,c,i);case 3:e:{if(bd(n),e===null)throw Error(J(387));a=n.pendingProps,f=n.memoizedState,c=f.element,id(e,n),ga(n,a,null,i);var g=n.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=Wi(Error(J(423)),n),n=rf(e,n,a,i,c);break e}else if(a!==c){c=Wi(Error(J(424)),n),n=rf(e,n,a,i,c);break e}else for(rn=_r(n.stateNode.containerInfo.firstChild),sn=n,Ke=!0,Rn=null,i=nd(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(zi(),a===c){n=sr(e,n,i);break e}Pt(e,n,a,i)}n=n.child}return n;case 5:return sd(n),e===null&&pu(n),a=n.type,c=n.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,cu(a,c)?g=null:f!==null&&cu(a,f)&&(n.flags|=32),Rd(e,n),Pt(e,n,g,i),n.child;case 6:return e===null&&pu(n),null;case 13:return Od(e,n,i);case 4:return fc(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Hi(n,null,a,i):Pt(e,n,a,i),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Nn(a,c),ef(e,n,a,c,i);case 7:return Pt(e,n,n.pendingProps,i),n.child;case 8:return Pt(e,n,n.pendingProps.children,i),n.child;case 12:return Pt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,f=n.memoizedProps,g=c.value,Ve(da,a._currentValue),a._currentValue=g,f!==null)if(Dn(f.value,g)){if(f.children===c.children&&!Zt.current){n=sr(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){g=f.child;for(var y=m.firstContext;y!==null;){if(y.context===a){if(f.tag===1){y=er(-1,i&-i),y.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var I=x.pending;I===null?y.next=y:(y.next=I.next,I.next=y),x.pending=y}}f.lanes|=i,y=f.alternate,y!==null&&(y.lanes|=i),xu(f.return,i,n),m.lanes|=i;break}y=y.next}}else if(f.tag===10)g=f.type===n.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(J(341));g.lanes|=i,m=g.alternate,m!==null&&(m.lanes|=i),xu(g,i,n),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===n){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Pt(e,n,c.children,i),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,Pi(n,i),c=Cn(c),a=a(c),n.flags|=1,Pt(e,n,a,i),n.child;case 14:return a=n.type,c=Nn(a,n.pendingProps),c=Nn(a.type,c),tf(e,n,a,c,i);case 15:return _d(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Nn(a,c),Yo(e,n),n.tag=1,Kt(a)?(e=!0,ua(n)):e=!1,Pi(n,i),vd(n,a,c),wu(n,a,c,i),Eu(null,n,a,!0,e,i);case 19:return Dd(e,n,i);case 22:return Md(e,n,i)}throw Error(J(156,n.tag))};function Zd(e,n){return A0(e,n)}function vp(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,i,a){return new vp(e,n,i,a)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tp(e){if(typeof e=="function")return Tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gu)return 11;if(e===Yu)return 14}return 2}function Or(e,n){var i=e.alternate;return i===null?(i=wn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Zo(e,n,i,a,c,f){var g=2;if(a=e,typeof e=="function")Tc(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Ei:return ei(i.children,c,f,n);case Wu:g=8,c|=8;break;case Hl:return e=wn(12,i,n,c|2),e.elementType=Hl,e.lanes=f,e;case Vl:return e=wn(13,i,n,c),e.elementType=Vl,e.lanes=f,e;case Wl:return e=wn(19,i,n,c),e.elementType=Wl,e.lanes=f,e;case s0:return Pa(i,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case r0:g=10;break e;case i0:g=9;break e;case Gu:g=11;break e;case Yu:g=14;break e;case yr:g=16,a=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return n=wn(g,i,n,c),n.elementType=e,n.type=a,n.lanes=f,n}function ei(e,n,i,a){return e=wn(7,e,a,n),e.lanes=i,e}function Pa(e,n,i,a){return e=wn(22,e,a,n),e.elementType=s0,e.lanes=i,e.stateNode={isHidden:!1},e}function kl(e,n,i){return e=wn(6,e,null,n),e.lanes=i,e}function Bl(e,n,i){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Np(e,n,i,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Nc(e,n,i,a,c,f,g,m,y){return e=new Np(e,n,i,m,y),n===1?(n=1,f===!0&&(n|=8)):n=0,f=wn(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(f),e}function _p(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ci,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function Kd(e){if(!e)return kr;e=e._reactInternals;e:{if(ai(e)!==e||e.tag!==1)throw Error(J(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Kt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(J(171))}if(e.tag===1){var i=e.type;if(Kt(i))return K0(e,i,n)}return n}function qd(e,n,i,a,c,f,g,m,y){return e=Nc(i,a,!0,e,c,f,g,m,y),e.context=Kd(null),i=e.current,a=Ft(),c=br(i),f=er(a,c),f.callback=n??null,Mr(i,f,c),e.current.lanes=c,Js(e,c,a),qt(e,a),e}function Fa(e,n,i,a){var c=n.current,f=Ft(),g=br(c);return i=Kd(i),n.context===null?n.context=i:n.pendingContext=i,n=er(f,g),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Mr(c,n,g),e!==null&&(On(e,c,g,f),Vo(e,c,g)),g}function Aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function _c(e,n){gf(e,n),(e=e.alternate)&&gf(e,n)}function Mp(){return null}var Jd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mc(e){this._internalRoot=e}Ua.prototype.render=Mc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(J(409));Fa(e,n,null,null)};Ua.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;si(function(){Fa(null,e,null,null)}),n[rr]=null}};function Ua(e){this._internalRoot=e}Ua.prototype.unstable_scheduleHydration=function(e){if(e){var n=M0();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Er.length&&n!==0&&n<Er[i].priority;i++);Er.splice(i,0,e),i===0&&b0(e)}};function Rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pf(){}function Rp(e,n,i,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var x=Aa(g);f.call(x)}}var g=qd(n,a,e,0,null,!1,!1,"",pf);return e._reactRootContainer=g,e[rr]=g.current,js(e.nodeType===8?e.parentNode:e),si(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var m=a;a=function(){var x=Aa(y);m.call(x)}}var y=Nc(e,0,!1,null,null,!1,!1,"",pf);return e._reactRootContainer=y,e[rr]=y.current,js(e.nodeType===8?e.parentNode:e),si(function(){Fa(n,y,i,a)}),y}function za(e,n,i,a,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var m=c;c=function(){var y=Aa(g);m.call(y)}}Fa(n,g,e,c)}else g=Rp(i,n,e,c,a);return Aa(g)}N0=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Es(n.pendingLanes);i!==0&&(Zu(n,i|1),qt(n,ut()),!(_e&6)&&(Gi=ut()+500,Ur()))}break;case 13:si(function(){var a=ir(e,1);if(a!==null){var c=Ft();On(a,e,1,c)}}),_c(e,1)}};Ku=function(e){if(e.tag===13){var n=ir(e,134217728);if(n!==null){var i=Ft();On(n,e,134217728,i)}_c(e,134217728)}};_0=function(e){if(e.tag===13){var n=br(e),i=ir(e,n);if(i!==null){var a=Ft();On(i,e,n,a)}_c(e,n)}};M0=function(){return Le};R0=function(e,n){var i=Le;try{return Le=e,n()}finally{Le=i}};eu=function(e,n,i){switch(n){case"input":if(Xl(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var c=ba(a);if(!c)throw Error(J(90));a0(a),Xl(a,c)}}}break;case"textarea":u0(e,i);break;case"select":n=i.value,n!=null&&Di(e,!!i.multiple,n,!1)}};x0=Sc;m0=si;var bp={usingClientEntryPoint:!1,Events:[eo,vi,ba,g0,p0,Sc]},ms={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Op={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=C0(e),e===null?null:e.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||Mp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{Na=ko.inject(Op),Gn=ko}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bp;ln.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rc(n))throw Error(J(200));return _p(e,n,null,i)};ln.createRoot=function(e,n){if(!Rc(e))throw Error(J(299));var i=!1,a="",c=Jd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=Nc(e,1,!1,null,null,i,!1,a,c),e[rr]=n.current,js(e.nodeType===8?e.parentNode:e),new Mc(n)};ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=C0(n),e=e===null?null:e.stateNode,e};ln.flushSync=function(e){return si(e)};ln.hydrate=function(e,n,i){if(!ja(n))throw Error(J(200));return za(null,e,n,!0,i)};ln.hydrateRoot=function(e,n,i){if(!Rc(e))throw Error(J(405));var a=i!=null&&i.hydratedSources||null,c=!1,f="",g=Jd;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),n=qd(n,null,e,1,i??null,c,!1,f,g),e[rr]=n.current,js(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,c]:n.mutableSourceEagerHydrationData.push(i,c);return new Ua(n)};ln.render=function(e,n,i){if(!ja(n))throw Error(J(200));return za(null,e,n,!1,i)};ln.unmountComponentAtNode=function(e){if(!ja(e))throw Error(J(40));return e._reactRootContainer?(si(function(){za(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1};ln.unstable_batchedUpdates=Sc;ln.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!ja(i))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return za(e,n,i,!1,a)};ln.version="18.3.1-next-f1338f8080-20240426";function $d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($d)}catch(e){console.error(e)}}$d(),$f.exports=ln;var Dp=$f.exports,xf=Dp;jl.createRoot=xf.createRoot,jl.hydrateRoot=xf.hydrateRoot;/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mf="popstate";function Lp(e={}){function n(c,f){let{pathname:g="/",search:m="",hash:y=""}=li(c.location.hash.substring(1));return!g.startsWith("/")&&!g.startsWith(".")&&(g="/"+g),Du("",{pathname:g,search:m,hash:y},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function i(c,f){let g=c.document.querySelector("base"),m="";if(g&&g.getAttribute("href")){let y=c.location.href,x=y.indexOf("#");m=x===-1?y:y.slice(0,x)}return m+"#"+(typeof f=="string"?f:Zs(f))}function a(c,f){an(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return Bp(n,i,a,e)}function qe(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function an(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function kp(){return Math.random().toString(36).substring(2,10)}function wf(e,n){return{usr:e.state,key:e.key,idx:n}}function Du(e,n,i=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?li(n):n,state:i,key:n&&n.key||a||kp()}}function Zs({pathname:e="/",search:n="",hash:i=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function li(e){let n={};if(e){let i=e.indexOf("#");i>=0&&(n.hash=e.substring(i),e=e.substring(0,i));let a=e.indexOf("?");a>=0&&(n.search=e.substring(a),e=e.substring(0,a)),e&&(n.pathname=e)}return n}function Bp(e,n,i,a={}){let{window:c=document.defaultView,v5Compat:f=!1}=a,g=c.history,m="POP",y=null,x=I();x==null&&(x=0,g.replaceState({...g.state,idx:x},""));function I(){return(g.state||{idx:null}).idx}function S(){m="POP";let X=I(),R=X==null?null:X-x;x=X,y&&y({action:m,location:B.location,delta:R})}function b(X,R){m="PUSH";let T=Du(B.location,X,R);i&&i(T,X),x=I()+1;let v=wf(T,x),U=B.createHref(T);try{g.pushState(v,"",U)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;c.location.assign(U)}f&&y&&y({action:m,location:B.location,delta:1})}function L(X,R){m="REPLACE";let T=Du(B.location,X,R);i&&i(T,X),x=I();let v=wf(T,x),U=B.createHref(T);g.replaceState(v,"",U),f&&y&&y({action:m,location:B.location,delta:0})}function z(X){return Pp(X)}let B={get action(){return m},get location(){return e(c,g)},listen(X){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(mf,S),y=X,()=>{c.removeEventListener(mf,S),y=null}},createHref(X){return n(c,X)},createURL:z,encodeLocation(X){let R=z(X);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:L,go(X){return g.go(X)}};return B}function Pp(e,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),qe(i,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Zs(e);return a=a.replace(/ $/,"%20"),!n&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function eh(e,n,i="/"){return Fp(e,n,i,!1)}function Fp(e,n,i,a){let c=typeof n=="string"?li(n):n,f=or(c.pathname||"/",i);if(f==null)return null;let g=th(e);Up(g);let m=null;for(let y=0;m==null&&y<g.length;++y){let x=Kp(f);m=Qp(g[y],x,a)}return m}function th(e,n=[],i=[],a="",c=!1){let f=(g,m,y=c,x)=>{let I={relativePath:x===void 0?g.path||"":x,caseSensitive:g.caseSensitive===!0,childrenIndex:m,route:g};if(I.relativePath.startsWith("/")){if(!I.relativePath.startsWith(a)&&y)return;qe(I.relativePath.startsWith(a),`Absolute route path "${I.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),I.relativePath=I.relativePath.slice(a.length)}let S=tr([a,I.relativePath]),b=i.concat(I);g.children&&g.children.length>0&&(qe(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),th(g.children,n,b,S,y)),!(g.path==null&&!g.index)&&n.push({path:S,score:Yp(S,g.index),routesMeta:b})};return e.forEach((g,m)=>{var y;if(g.path===""||!((y=g.path)!=null&&y.includes("?")))f(g,m);else for(let x of nh(g.path))f(g,m,!0,x)}),n}function nh(e){let n=e.split("/");if(n.length===0)return[];let[i,...a]=n,c=i.endsWith("?"),f=i.replace(/\?$/,"");if(a.length===0)return c?[f,""]:[f];let g=nh(a.join("/")),m=[];return m.push(...g.map(y=>y===""?f:[f,y].join("/"))),c&&m.push(...g),m.map(y=>e.startsWith("/")&&y===""?"/":y)}function Up(e){e.sort((n,i)=>n.score!==i.score?i.score-n.score:Xp(n.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var jp=/^:[\w-]+$/,zp=3,Hp=2,Vp=1,Wp=10,Gp=-2,yf=e=>e==="*";function Yp(e,n){let i=e.split("/"),a=i.length;return i.some(yf)&&(a+=Gp),n&&(a+=Hp),i.filter(c=>!yf(c)).reduce((c,f)=>c+(jp.test(f)?zp:f===""?Vp:Wp),a)}function Xp(e,n){return e.length===n.length&&e.slice(0,-1).every((a,c)=>a===n[c])?e[e.length-1]-n[n.length-1]:0}function Qp(e,n,i=!1){let{routesMeta:a}=e,c={},f="/",g=[];for(let m=0;m<a.length;++m){let y=a[m],x=m===a.length-1,I=f==="/"?n:n.slice(f.length)||"/",S=Sa({path:y.relativePath,caseSensitive:y.caseSensitive,end:x},I),b=y.route;if(!S&&x&&i&&!a[a.length-1].route.index&&(S=Sa({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},I)),!S)return null;Object.assign(c,S.params),g.push({params:c,pathname:tr([f,S.pathname]),pathnameBase:ex(tr([f,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(f=tr([f,S.pathnameBase]))}return g}function Sa(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,a]=Zp(e.path,e.caseSensitive,e.end),c=n.match(i);if(!c)return null;let f=c[0],g=f.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:a.reduce((x,{paramName:I,isOptional:S},b)=>{if(I==="*"){let z=m[b]||"";g=f.slice(0,f.length-z.length).replace(/(.)\/+$/,"$1")}const L=m[b];return S&&!L?x[I]=void 0:x[I]=(L||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:g,pattern:e}}function Zp(e,n=!1,i=!0){an(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,m,y)=>(a.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),a]}function Kp(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return an(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function or(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}var rh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qp=e=>rh.test(e);function Jp(e,n="/"){let{pathname:i,search:a="",hash:c=""}=typeof e=="string"?li(e):e,f;if(i)if(qp(i))f=i;else{if(i.includes("//")){let g=i;i=i.replace(/\/\/+/g,"/"),an(!1,`Pathnames cannot have embedded double slashes - normalizing ${g} -> ${i}`)}i.startsWith("/")?f=Cf(i.substring(1),"/"):f=Cf(i,n)}else f=n;return{pathname:f,search:tx(a),hash:nx(c)}}function Cf(e,n){let i=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Pl(e,n,i,a){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $p(e){return e.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function bc(e){let n=$p(e);return n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase)}function Oc(e,n,i,a=!1){let c;typeof e=="string"?c=li(e):(c={...e},qe(!c.pathname||!c.pathname.includes("?"),Pl("?","pathname","search",c)),qe(!c.pathname||!c.pathname.includes("#"),Pl("#","pathname","hash",c)),qe(!c.search||!c.search.includes("#"),Pl("#","search","hash",c)));let f=e===""||c.pathname==="",g=f?"/":c.pathname,m;if(g==null)m=i;else{let S=n.length-1;if(!a&&g.startsWith("..")){let b=g.split("/");for(;b[0]==="..";)b.shift(),S-=1;c.pathname=b.join("/")}m=S>=0?n[S]:"/"}let y=Jp(c,m),x=g&&g!=="/"&&g.endsWith("/"),I=(f||g===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(x||I)&&(y.pathname+="/"),y}var tr=e=>e.join("/").replace(/\/\/+/g,"/"),ex=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,rx=class{constructor(e,n,i,a=!1){this.status=e,this.statusText=n||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function ix(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function sx(e){return e.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ih=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sh(e,n){let i=e;if(typeof i!="string"||!rh.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let a=i,c=!1;if(ih)try{let f=new URL(window.location.href),g=i.startsWith("//")?new URL(f.protocol+i):new URL(i),m=or(g.pathname,n);g.origin===f.origin&&m!=null?i=m+g.search+g.hash:c=!0}catch{an(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:c,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oh=["POST","PUT","PATCH","DELETE"];new Set(oh);var ox=["GET",...oh];new Set(ox);var Zi=k.createContext(null);Zi.displayName="DataRouter";var Ha=k.createContext(null);Ha.displayName="DataRouterState";var ax=k.createContext(!1),ah=k.createContext({isTransitioning:!1});ah.displayName="ViewTransition";var lx=k.createContext(new Map);lx.displayName="Fetchers";var ux=k.createContext(null);ux.displayName="Await";var cn=k.createContext(null);cn.displayName="Navigation";var no=k.createContext(null);no.displayName="Location";var Xn=k.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Dc=k.createContext(null);Dc.displayName="RouteError";var lh="REACT_ROUTER_ERROR",cx="REDIRECT",fx="ROUTE_ERROR_RESPONSE";function dx(e){if(e.startsWith(`${lh}:${cx}:{`))try{let n=JSON.parse(e.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function hx(e){if(e.startsWith(`${lh}:${fx}:{`))try{let n=JSON.parse(e.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new rx(n.status,n.statusText,n.data)}catch{}}function gx(e,{relative:n}={}){qe(Ki(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=k.useContext(cn),{hash:c,pathname:f,search:g}=ro(e,{relative:n}),m=f;return i!=="/"&&(m=f==="/"?i:tr([i,f])),a.createHref({pathname:m,search:g,hash:c})}function Ki(){return k.useContext(no)!=null}function lr(){return qe(Ki(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(no).location}var uh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ch(e){k.useContext(cn).static||k.useLayoutEffect(e)}function fh(){let{isDataRoute:e}=k.useContext(Xn);return e?Nx():px()}function px(){qe(Ki(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Zi),{basename:n,navigator:i}=k.useContext(cn),{matches:a}=k.useContext(Xn),{pathname:c}=lr(),f=JSON.stringify(bc(a)),g=k.useRef(!1);return ch(()=>{g.current=!0}),k.useCallback((y,x={})=>{if(an(g.current,uh),!g.current)return;if(typeof y=="number"){i.go(y);return}let I=Oc(y,JSON.parse(f),c,x.relative==="path");e==null&&n!=="/"&&(I.pathname=I.pathname==="/"?n:tr([n,I.pathname])),(x.replace?i.replace:i.push)(I,x.state,x)},[n,i,f,c,e])}k.createContext(null);function ro(e,{relative:n}={}){let{matches:i}=k.useContext(Xn),{pathname:a}=lr(),c=JSON.stringify(bc(i));return k.useMemo(()=>Oc(e,JSON.parse(c),a,n==="path"),[e,c,a,n])}function xx(e,n){return dh(e,n)}function dh(e,n,i,a,c){var T;qe(Ki(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=k.useContext(cn),{matches:g}=k.useContext(Xn),m=g[g.length-1],y=m?m.params:{},x=m?m.pathname:"/",I=m?m.pathnameBase:"/",S=m&&m.route;{let v=S&&S.path||"";gh(x,!S||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let b=lr(),L;if(n){let v=typeof n=="string"?li(n):n;qe(I==="/"||((T=v.pathname)==null?void 0:T.startsWith(I)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${I}" but pathname "${v.pathname}" was given in the \`location\` prop.`),L=v}else L=b;let z=L.pathname||"/",B=z;if(I!=="/"){let v=I.replace(/^\//,"").split("/");B="/"+z.replace(/^\//,"").split("/").slice(v.length).join("/")}let X=eh(e,{pathname:B});an(S||X!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),an(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Ex(X&&X.map(v=>Object.assign({},v,{params:Object.assign({},y,v.params),pathname:tr([I,f.encodeLocation?f.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?I:tr([I,f.encodeLocation?f.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),g,i,a,c);return n&&R?k.createElement(no.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},R):R}function mx(){let e=Tx(),n=ix(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:a},f={padding:"2px 4px",backgroundColor:a},g=null;return console.error("Error handled by React Router default ErrorBoundary:",e),g=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:f},"ErrorBoundary")," or"," ",k.createElement("code",{style:f},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},n),i?k.createElement("pre",{style:c},i):null,g)}var wx=k.createElement(mx,null),hh=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){this.props.onError?this.props.onError(e,n):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const i=hx(e.digest);i&&(e=i)}let n=e!==void 0?k.createElement(Xn.Provider,{value:this.props.routeContext},k.createElement(Dc.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?k.createElement(yx,{error:e},n):n}};hh.contextType=ax;var Fl=new WeakMap;function yx({children:e,error:n}){let{basename:i}=k.useContext(cn);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let a=dx(n.digest);if(a){let c=Fl.get(n);if(c)throw c;let f=sh(a.location,i);if(ih&&!Fl.get(n))if(f.isExternal||a.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const g=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:a.replace}));throw Fl.set(n,g),g}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return e}function Cx({routeContext:e,match:n,children:i}){let a=k.useContext(Zi);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Xn.Provider,{value:e},i)}function Ex(e,n=[],i=null,a=null,c=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let f=e,g=i==null?void 0:i.errors;if(g!=null){let I=f.findIndex(S=>S.route.id&&(g==null?void 0:g[S.route.id])!==void 0);qe(I>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),f=f.slice(0,Math.min(f.length,I+1))}let m=!1,y=-1;if(i)for(let I=0;I<f.length;I++){let S=f[I];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=I),S.route.id){let{loaderData:b,errors:L}=i,z=S.route.loader&&!b.hasOwnProperty(S.route.id)&&(!L||L[S.route.id]===void 0);if(S.route.lazy||z){m=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}let x=i&&a?(I,S)=>{var b,L;a(I,{location:i.location,params:((L=(b=i.matches)==null?void 0:b[0])==null?void 0:L.params)??{},unstable_pattern:sx(i.matches),errorInfo:S})}:void 0;return f.reduceRight((I,S,b)=>{let L,z=!1,B=null,X=null;i&&(L=g&&S.route.id?g[S.route.id]:void 0,B=S.route.errorElement||wx,m&&(y<0&&b===0?(gh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,X=null):y===b&&(z=!0,X=S.route.hydrateFallbackElement||null)));let R=n.concat(f.slice(0,b+1)),T=()=>{let v;return L?v=B:z?v=X:S.route.Component?v=k.createElement(S.route.Component,null):S.route.element?v=S.route.element:v=I,k.createElement(Cx,{match:S,routeContext:{outlet:I,matches:R,isDataRoute:i!=null},children:v})};return i&&(S.route.ErrorBoundary||S.route.errorElement||b===0)?k.createElement(hh,{location:i.location,revalidation:i.revalidation,component:B,error:L,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:x}):T()},null)}function Lc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ax(e){let n=k.useContext(Zi);return qe(n,Lc(e)),n}function Sx(e){let n=k.useContext(Ha);return qe(n,Lc(e)),n}function Ix(e){let n=k.useContext(Xn);return qe(n,Lc(e)),n}function kc(e){let n=Ix(e),i=n.matches[n.matches.length-1];return qe(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function vx(){return kc("useRouteId")}function Tx(){var a;let e=k.useContext(Dc),n=Sx("useRouteError"),i=kc("useRouteError");return e!==void 0?e:(a=n.errors)==null?void 0:a[i]}function Nx(){let{router:e}=Ax("useNavigate"),n=kc("useNavigate"),i=k.useRef(!1);return ch(()=>{i.current=!0}),k.useCallback(async(c,f={})=>{an(i.current,uh),i.current&&(typeof c=="number"?await e.navigate(c):await e.navigate(c,{fromRouteId:n,...f}))},[e,n])}var Ef={};function gh(e,n,i){!n&&!Ef[e]&&(Ef[e]=!0,an(!1,i))}k.memo(_x);function _x({routes:e,future:n,state:i,onError:a}){return dh(e,void 0,i,a,n)}function Mx({to:e,replace:n,state:i,relative:a}){qe(Ki(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=k.useContext(cn);an(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=k.useContext(Xn),{pathname:g}=lr(),m=fh(),y=Oc(e,bc(f),g,a==="path"),x=JSON.stringify(y);return k.useEffect(()=>{m(JSON.parse(x),{replace:n,state:i,relative:a})},[m,x,a,n,i]),null}function Zr(e){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rx({basename:e="/",children:n=null,location:i,navigationType:a="POP",navigator:c,static:f=!1,unstable_useTransitions:g}){qe(!Ki(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),y=k.useMemo(()=>({basename:m,navigator:c,static:f,unstable_useTransitions:g,future:{}}),[m,c,f,g]);typeof i=="string"&&(i=li(i));let{pathname:x="/",search:I="",hash:S="",state:b=null,key:L="default"}=i,z=k.useMemo(()=>{let B=or(x,m);return B==null?null:{location:{pathname:B,search:I,hash:S,state:b,key:L},navigationType:a}},[m,x,I,S,b,L,a]);return an(z!=null,`<Router basename="${m}"> is not able to match the URL "${x}${I}${S}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:k.createElement(cn.Provider,{value:y},k.createElement(no.Provider,{children:n,value:z}))}function bx({children:e,location:n}){return xx(Lu(e),n)}function Lu(e,n=[]){let i=[];return k.Children.forEach(e,(a,c)=>{if(!k.isValidElement(a))return;let f=[...n,c];if(a.type===k.Fragment){i.push.apply(i,Lu(a.props.children,f));return}qe(a.type===Zr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let g={id:a.props.id||f.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(g.children=Lu(a.props.children,f)),i.push(g)}),i}var Ko="get",qo="application/x-www-form-urlencoded";function Va(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Ox(e){return Va(e)&&e.tagName.toLowerCase()==="button"}function Dx(e){return Va(e)&&e.tagName.toLowerCase()==="form"}function Lx(e){return Va(e)&&e.tagName.toLowerCase()==="input"}function kx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Bx(e,n){return e.button===0&&(!n||n==="_self")&&!kx(e)}var Bo=null;function Px(){if(Bo===null)try{new FormData(document.createElement("form"),0),Bo=!1}catch{Bo=!0}return Bo}var Fx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ul(e){return e!=null&&!Fx.has(e)?(an(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qo}"`),null):e}function Ux(e,n){let i,a,c,f,g;if(Dx(e)){let m=e.getAttribute("action");a=m?or(m,n):null,i=e.getAttribute("method")||Ko,c=Ul(e.getAttribute("enctype"))||qo,f=new FormData(e)}else if(Ox(e)||Lx(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||m.getAttribute("action");if(a=y?or(y,n):null,i=e.getAttribute("formmethod")||m.getAttribute("method")||Ko,c=Ul(e.getAttribute("formenctype"))||Ul(m.getAttribute("enctype"))||qo,f=new FormData(m,e),!Px()){let{name:x,type:I,value:S}=e;if(I==="image"){let b=x?`${x}.`:"";f.append(`${b}x`,"0"),f.append(`${b}y`,"0")}else x&&f.append(x,S)}}else{if(Va(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ko,a=null,c=qo,g=e}return f&&c==="text/plain"&&(g=f,f=void 0),{action:a,method:i.toLowerCase(),encType:c,formData:f,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bc(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function jx(e,n,i,a){let c=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${a}`:c.pathname=`${c.pathname}.${a}`:c.pathname==="/"?c.pathname=`_root.${a}`:n&&or(c.pathname,n)==="/"?c.pathname=`${n.replace(/\/$/,"")}/_root.${a}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${a}`,c}async function zx(e,n){if(e.id in n)return n[e.id];try{let i=await import(e.module);return n[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hx(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Vx(e,n,i){let a=await Promise.all(e.map(async c=>{let f=n.routes[c.route.id];if(f){let g=await zx(f,i);return g.links?g.links():[]}return[]}));return Xx(a.flat(1).filter(Hx).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Af(e,n,i,a,c,f){let g=(y,x)=>i[x]?y.route.id!==i[x].route.id:!0,m=(y,x)=>{var I;return i[x].pathname!==y.pathname||((I=i[x].route.path)==null?void 0:I.endsWith("*"))&&i[x].params["*"]!==y.params["*"]};return f==="assets"?n.filter((y,x)=>g(y,x)||m(y,x)):f==="data"?n.filter((y,x)=>{var S;let I=a.routes[y.route.id];if(!I||!I.hasLoader)return!1;if(g(y,x)||m(y,x))return!0;if(y.route.shouldRevalidate){let b=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Wx(e,n,{includeHydrateFallback:i}={}){return Gx(e.map(a=>{let c=n.routes[a.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function Gx(e){return[...new Set(e)]}function Yx(e){let n={},i=Object.keys(e).sort();for(let a of i)n[a]=e[a];return n}function Xx(e,n){let i=new Set;return new Set(n),e.reduce((a,c)=>{let f=JSON.stringify(Yx(c));return i.has(f)||(i.add(f),a.push({key:f,link:c})),a},[])}function ph(){let e=k.useContext(Zi);return Bc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qx(){let e=k.useContext(Ha);return Bc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Pc=k.createContext(void 0);Pc.displayName="FrameworkContext";function xh(){let e=k.useContext(Pc);return Bc(e,"You must render this element inside a <HydratedRouter> element"),e}function Zx(e,n){let i=k.useContext(Pc),[a,c]=k.useState(!1),[f,g]=k.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:x,onMouseLeave:I,onTouchStart:S}=n,b=k.useRef(null);k.useEffect(()=>{if(e==="render"&&g(!0),e==="viewport"){let B=R=>{R.forEach(T=>{g(T.isIntersecting)})},X=new IntersectionObserver(B,{threshold:.5});return b.current&&X.observe(b.current),()=>{X.disconnect()}}},[e]),k.useEffect(()=>{if(a){let B=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(B)}}},[a]);let L=()=>{c(!0)},z=()=>{c(!1),g(!1)};return i?e!=="intent"?[f,b,{}]:[f,b,{onFocus:ws(m,L),onBlur:ws(y,z),onMouseEnter:ws(x,L),onMouseLeave:ws(I,z),onTouchStart:ws(S,L)}]:[!1,b,{}]}function ws(e,n){return i=>{e&&e(i),i.defaultPrevented||n(i)}}function Kx({page:e,...n}){let{router:i}=ph(),a=k.useMemo(()=>eh(i.routes,e,i.basename),[i.routes,e,i.basename]);return a?k.createElement(Jx,{page:e,matches:a,...n}):null}function qx(e){let{manifest:n,routeModules:i}=xh(),[a,c]=k.useState([]);return k.useEffect(()=>{let f=!1;return Vx(e,n,i).then(g=>{f||c(g)}),()=>{f=!0}},[e,n,i]),a}function Jx({page:e,matches:n,...i}){let a=lr(),{future:c,manifest:f,routeModules:g}=xh(),{basename:m}=ph(),{loaderData:y,matches:x}=Qx(),I=k.useMemo(()=>Af(e,n,x,f,a,"data"),[e,n,x,f,a]),S=k.useMemo(()=>Af(e,n,x,f,a,"assets"),[e,n,x,f,a]),b=k.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let B=new Set,X=!1;if(n.forEach(T=>{var U;let v=f.routes[T.route.id];!v||!v.hasLoader||(!I.some(Q=>Q.route.id===T.route.id)&&T.route.id in y&&((U=g[T.route.id])!=null&&U.shouldRevalidate)||v.hasClientLoader?X=!0:B.add(T.route.id))}),B.size===0)return[];let R=jx(e,m,c.unstable_trailingSlashAwareDataRequests,"data");return X&&B.size>0&&R.searchParams.set("_routes",n.filter(T=>B.has(T.route.id)).map(T=>T.route.id).join(",")),[R.pathname+R.search]},[m,c.unstable_trailingSlashAwareDataRequests,y,a,f,I,n,e,g]),L=k.useMemo(()=>Wx(S,f),[S,f]),z=qx(S);return k.createElement(k.Fragment,null,b.map(B=>k.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...i})),L.map(B=>k.createElement("link",{key:B,rel:"modulepreload",href:B,...i})),z.map(({key:B,link:X})=>k.createElement("link",{key:B,nonce:i.nonce,...X})))}function $x(...e){return n=>{e.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var em=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{em&&(window.__reactRouterVersion="7.12.0")}catch{}function tm({basename:e,children:n,unstable_useTransitions:i,window:a}){let c=k.useRef();c.current==null&&(c.current=Lp({window:a,v5Compat:!0}));let f=c.current,[g,m]=k.useState({action:f.action,location:f.location}),y=k.useCallback(x=>{i===!1?m(x):k.startTransition(()=>m(x))},[i]);return k.useLayoutEffect(()=>f.listen(y),[f,y]),k.createElement(Rx,{basename:e,children:n,location:g.location,navigationType:g.action,navigator:f,unstable_useTransitions:i})}var mh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wh=k.forwardRef(function({onClick:n,discover:i="render",prefetch:a="none",relative:c,reloadDocument:f,replace:g,state:m,target:y,to:x,preventScrollReset:I,viewTransition:S,unstable_defaultShouldRevalidate:b,...L},z){let{basename:B,unstable_useTransitions:X}=k.useContext(cn),R=typeof x=="string"&&mh.test(x),T=sh(x,B);x=T.to;let v=gx(x,{relative:c}),[U,Q,Z]=Zx(a,L),j=sm(x,{replace:g,state:m,target:y,preventScrollReset:I,relative:c,viewTransition:S,unstable_defaultShouldRevalidate:b,unstable_useTransitions:X});function W(ae){n&&n(ae),ae.defaultPrevented||j(ae)}let G=k.createElement("a",{...L,...Z,href:T.absoluteURL||v,onClick:T.isExternal||f?n:W,ref:$x(z,Q),target:y,"data-discover":!R&&i==="render"?"true":void 0});return U&&!R?k.createElement(k.Fragment,null,G,k.createElement(Kx,{page:v})):G});wh.displayName="Link";var nm=k.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:a="",end:c=!1,style:f,to:g,viewTransition:m,children:y,...x},I){let S=ro(g,{relative:x.relative}),b=lr(),L=k.useContext(Ha),{navigator:z,basename:B}=k.useContext(cn),X=L!=null&&cm(S)&&m===!0,R=z.encodeLocation?z.encodeLocation(S).pathname:S.pathname,T=b.pathname,v=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(T=T.toLowerCase(),v=v?v.toLowerCase():null,R=R.toLowerCase()),v&&B&&(v=or(v,B)||v);const U=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let Q=T===R||!c&&T.startsWith(R)&&T.charAt(U)==="/",Z=v!=null&&(v===R||!c&&v.startsWith(R)&&v.charAt(R.length)==="/"),j={isActive:Q,isPending:Z,isTransitioning:X},W=Q?n:void 0,G;typeof a=="function"?G=a(j):G=[a,Q?"active":null,Z?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let ae=typeof f=="function"?f(j):f;return k.createElement(wh,{...x,"aria-current":W,className:G,ref:I,style:ae,to:g,viewTransition:m},typeof y=="function"?y(j):y)});nm.displayName="NavLink";var rm=k.forwardRef(({discover:e="render",fetcherKey:n,navigate:i,reloadDocument:a,replace:c,state:f,method:g=Ko,action:m,onSubmit:y,relative:x,preventScrollReset:I,viewTransition:S,unstable_defaultShouldRevalidate:b,...L},z)=>{let{unstable_useTransitions:B}=k.useContext(cn),X=lm(),R=um(m,{relative:x}),T=g.toLowerCase()==="get"?"get":"post",v=typeof m=="string"&&mh.test(m),U=Q=>{if(y&&y(Q),Q.defaultPrevented)return;Q.preventDefault();let Z=Q.nativeEvent.submitter,j=(Z==null?void 0:Z.getAttribute("formmethod"))||g,W=()=>X(Z||Q.currentTarget,{fetcherKey:n,method:j,navigate:i,replace:c,state:f,relative:x,preventScrollReset:I,viewTransition:S,unstable_defaultShouldRevalidate:b});B&&i!==!1?k.startTransition(()=>W()):W()};return k.createElement("form",{ref:z,method:T,action:R,onSubmit:a?y:U,...L,"data-discover":!v&&e==="render"?"true":void 0})});rm.displayName="Form";function im(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yh(e){let n=k.useContext(Zi);return qe(n,im(e)),n}function sm(e,{target:n,replace:i,state:a,preventScrollReset:c,relative:f,viewTransition:g,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let x=fh(),I=lr(),S=ro(e,{relative:f});return k.useCallback(b=>{if(Bx(b,n)){b.preventDefault();let L=i!==void 0?i:Zs(I)===Zs(S),z=()=>x(e,{replace:L,state:a,preventScrollReset:c,relative:f,viewTransition:g,unstable_defaultShouldRevalidate:m});y?k.startTransition(()=>z()):z()}},[I,x,S,i,a,n,e,c,f,g,m,y])}var om=0,am=()=>`__${String(++om)}__`;function lm(){let{router:e}=yh("useSubmit"),{basename:n}=k.useContext(cn),i=vx(),a=e.fetch,c=e.navigate;return k.useCallback(async(f,g={})=>{let{action:m,method:y,encType:x,formData:I,body:S}=Ux(f,n);if(g.navigate===!1){let b=g.fetcherKey||am();await a(b,i,g.action||m,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:I,body:S,formMethod:g.method||y,formEncType:g.encType||x,flushSync:g.flushSync})}else await c(g.action||m,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:I,body:S,formMethod:g.method||y,formEncType:g.encType||x,replace:g.replace,state:g.state,fromRouteId:i,flushSync:g.flushSync,viewTransition:g.viewTransition})},[a,c,n,i])}function um(e,{relative:n}={}){let{basename:i}=k.useContext(cn),a=k.useContext(Xn);qe(a,"useFormAction must be used inside a RouteContext");let[c]=a.matches.slice(-1),f={...ro(e||".",{relative:n})},g=lr();if(e==null){f.search=g.search;let m=new URLSearchParams(f.search),y=m.getAll("index");if(y.some(I=>I==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let I=m.toString();f.search=I?`?${I}`:""}}return(!e||e===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:tr([i,f.pathname])),Zs(f)}function cm(e,{relative:n}={}){let i=k.useContext(ah);qe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=yh("useViewTransitionState"),c=ro(e,{relative:n});if(!i.isTransitioning)return!1;let f=or(i.currentLocation.pathname,a)||i.currentLocation.pathname,g=or(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Sa(c.pathname,g)!=null||Sa(c.pathname,f)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dm=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,a)=>a?a.toUpperCase():i.toLowerCase()),Sf=e=>{const n=dm(e);return n.charAt(0).toUpperCase()+n.slice(1)},Ch=(...e)=>e.filter((n,i,a)=>!!n&&n.trim()!==""&&a.indexOf(n)===i).join(" ").trim(),hm=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=k.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:c="",children:f,iconNode:g,...m},y)=>k.createElement("svg",{ref:y,...gm,width:n,height:n,stroke:e,strokeWidth:a?Number(i)*24/Number(n):i,className:Ch("lucide",c),...!f&&!hm(m)&&{"aria-hidden":"true"},...m},[...g.map(([x,I])=>k.createElement(x,I)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=(e,n)=>{const i=k.forwardRef(({className:a,...c},f)=>k.createElement(pm,{ref:f,iconNode:n,className:Ch(`lucide-${fm(Sf(e))}`,`lucide-${e}`,a),...c}));return i.displayName=Sf(e),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],If=An("calendar",xm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Dr=An("camera",mm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ym=An("circle-alert",wm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Em=An("circle-check-big",Cm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vf=An("download",Am);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Im=An("play",Sm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tm=An("refresh-cw",vm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_m=An("save",Nm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rm=An("search",Mm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Om=An("square-check-big",bm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Lm=An("upload",Dm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Eh=An("x",km),Bm=({children:e})=>(lr(),M.jsxs("div",{className:"min-h-screen flex flex-col",style:{width:"100vw",overflowX:"hidden"},children:[M.jsx("header",{className:"bg-[#161b22] border-b border-[#30363d] p-4 sticky top-0 z-40 backdrop-blur-md bg-opacity-80",children:M.jsx("div",{style:{width:"100%",maxWidth:"1280px",margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center"},children:M.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:""})})}),M.jsx("main",{className:"animate-fade-in relative",style:{flexGrow:1,width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1rem"},children:M.jsx("div",{style:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"95%",maxWidth:"1280px",margin:"0 auto"},children:e})})]})),Ah="gas_app_url",Fc=()=>localStorage.getItem(Ah)||"https://script.google.com/macros/s/AKfycbwhzX2lsS_qxwD80yueYq03JISp6LxBMOR8RaUVaqcQlHSgnuNw_sNx0QVlrRPJ1oB8/exec",Pm=e=>{localStorage.setItem(Ah,e)},Po=async e=>{const n=Fc();try{const i=await fetch(n,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(e)});if(!i.ok)throw new Error(`HTTP Error: ${i.status}`);return await i.json()}catch(i){throw console.error("API Call Error:",i),i}},Fm=async e=>{const n=Fc(),i=new URLSearchParams(e).toString(),a=`${n}?${i}`;try{return await(await fetch(a)).json()}catch(c){throw c}},Ks={issueOrder:(e,n)=>Po({action:"issue_order",orderId:e,image:n}),qcRecord:e=>Po({action:"qc_record",orderId:e}),startWork:e=>Po({action:"start_work",orderId:e}),finishWork:(e,n)=>Po({action:"finish_work",orderId:e,quantity:n}),queryOrders:()=>Fm({action:"query_orders"})};var se;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(se||(se={}));var Tf=new Map([[se.QR_CODE,"QR_CODE"],[se.AZTEC,"AZTEC"],[se.CODABAR,"CODABAR"],[se.CODE_39,"CODE_39"],[se.CODE_93,"CODE_93"],[se.CODE_128,"CODE_128"],[se.DATA_MATRIX,"DATA_MATRIX"],[se.MAXICODE,"MAXICODE"],[se.ITF,"ITF"],[se.EAN_13,"EAN_13"],[se.EAN_8,"EAN_8"],[se.PDF_417,"PDF_417"],[se.RSS_14,"RSS_14"],[se.RSS_EXPANDED,"RSS_EXPANDED"],[se.UPC_A,"UPC_A"],[se.UPC_E,"UPC_E"],[se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Nf;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Nf||(Nf={}));function Um(e){return Object.values(se).includes(e)}var Br;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Br||(Br={}));var Mn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Br.SCAN_TYPE_CAMERA,Br.SCAN_TYPE_FILE],e}(),Sh=function(){function e(n,i){this.format=n,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!Tf.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,Tf.get(n))},e}(),_f=function(){function e(){}return e.createFromText=function(n){var i={text:n};return{decodedText:n,result:i}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),ku;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ku||(ku={}));var Ih=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:ku.UNKWOWN_ERROR}},e}(),vh=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,i){(this.verbose||i===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Vn(e){return typeof e>"u"||e===null}function jm(e,n,i){return e>i?i:e<n?n:e}var Oi=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),De=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Mf=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Th=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,i){if(typeof n!="object"){var a=typeof n;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(c),g=Object.keys(n),m=0,y=g;m<y.length;m++){var x=y[m];if(f.has(x))return i.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Bu={exports:{}};(function(e,n){(function(i,a){a(n)})(us,function(i){function a(C){return C==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,t){C.__proto__=t}||function(C,t){for(var r in t)t.hasOwnProperty(r)&&(C[r]=t[r])};function f(C,t){c(C,t);function r(){this.constructor=C}C.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function g(C,t){var r=Object.setPrototypeOf;r?r(C,t):C.__proto__=t}function m(C,t){t===void 0&&(t=C.constructor);var r=Error.captureStackTrace;r&&r(C,t)}var y=function(C){f(t,C);function t(r){var s=this.constructor,o=C.call(this,r)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1}),g(o,s.prototype),m(o),o}return t}(Error);class x extends y{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}x.kind="Exception";class I extends x{}I.kind="ArgumentException";class S extends x{}S.kind="IllegalArgumentException";class b{constructor(t){if(this.binarizer=t,t===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,s,o){const l=this.binarizer.getLuminanceSource().crop(t,r,s,o);return new b(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends x{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class z{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class B{static arraycopy(t,r,s,o,l){for(;l--;)s[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class X extends x{}X.kind="IndexOutOfBoundsException";class R extends X{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}R.kind="ArrayIndexOutOfBoundsException";class T{static fill(t,r){for(let s=0,o=t.length;s<o;s++)t[s]=r}static fillWithin(t,r,s,o){T.rangeCheck(t.length,r,s);for(let l=r;l<s;l++)t[l]=o}static rangeCheck(t,r,s){if(r>s)throw new S("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new R(r);if(s>t)throw new R(s)}static asList(...t){return t}static create(t,r,s){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(s))}static createInt32Array(t,r,s){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(s))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let s=0,o=t.length;s<o;s++)if(t[s]!==r[s])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const s of t)r=31*r+s;return r}static fillUint8Array(t,r){for(let s=0;s!==t.length;s++)t[s]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const s=new Uint8Array(r);return s.set(t),s}return t.slice(0,r)}static copyOfRange(t,r,s){const o=s-r,l=new Int32Array(o);return B.arraycopy(t,r,l,0,o),l}static binarySearch(t,r,s){s===void 0&&(s=T.numberComparator);let o=0,l=t.length-1;for(;o<=l;){const u=l+o>>1,d=s(r,t[u]);if(d>0)o=u+1;else if(d<0)l=u-1;else return u}return-o-1}static numberComparator(t,r){return t-r}}class v{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let s=31;return r=t<<16,r!==0&&(s-=16,t=r),r=t<<8,r!==0&&(s-=8,t=r),r=t<<4,r!==0&&(s-=4,t=r),r=t<<2,r!==0&&(s-=2,t=r),s-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}v.MIN_VALUE_32_BITS=-2147483648,v.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=U.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=U.makeArray(t);B.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=s[o];l&=~((1<<(t&31))-1);const u=s.length;for(;l===0;){if(++o===u)return r;l=s[o]}const d=o*32+v.numberOfTrailingZeros(l);return d>r?r:d}getNextUnset(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=~s[o];l&=~((1<<(t&31))-1);const u=s.length;for(;l===0;){if(++o===u)return r;l=~s[o]}const d=o*32+v.numberOfTrailingZeros(l);return d>r?r:d}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new S;if(r===t)return;r--;const s=Math.floor(t/32),o=Math.floor(r/32),l=this.bits;for(let u=s;u<=o;u++){const d=u>s?0:t&31,p=(2<<(u<o?31:r&31))-(1<<d);l[u]|=p}}clear(){const t=this.bits.length,r=this.bits;for(let s=0;s<t;s++)r[s]=0}isRange(t,r,s){if(r<t||t<0||r>this.size)throw new S;if(r===t)return!0;r--;const o=Math.floor(t/32),l=Math.floor(r/32),u=this.bits;for(let d=o;d<=l;d++){const h=d>o?0:t&31,w=(2<<(d<l?31:r&31))-(1<<h)&4294967295;if((u[d]&w)!==(s?w:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let s=r;s>0;s--)this.appendBit((t>>s-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let s=0;s<r;s++)this.appendBit(t.get(s))}xor(t){if(this.size!==t.size)throw new S("Sizes don't match");const r=this.bits;for(let s=0,o=r.length;s<o;s++)r[s]^=t.bits[s]}toBytes(t,r,s,o){for(let l=0;l<o;l++){let u=0;for(let d=0;d<8;d++)this.get(t)&&(u|=1<<7-d),t++;r[s+l]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,o=this.bits;for(let l=0;l<s;l++){let u=o[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-l]=u}if(this.size!==s*32){const l=s*32-this.size;let u=t[0]>>>l;for(let d=1;d<s;d++){const h=t[d];u|=h<<32-l,t[d-1]=u,u=h>>>l}t[s-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof U))return!1;const r=t;return this.size===r.size&&T.equals(this.bits,r.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let t="";for(let r=0,s=this.size;r<s;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new U(this.size,this.bits.slice())}}var Q;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var Z=Q;class j extends x{static getFormatInstance(){return new j}}j.kind="FormatException";var W;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(W||(W={}));class G{constructor(t,r,s,...o){this.valueIdentifier=t,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,G.VALUE_IDENTIFIER_TO_ECI.set(t,this),G.NAME_TO_ECI.set(s,this);const l=this.values;for(let u=0,d=l.length;u!==d;u++){const h=l[u];G.VALUES_TO_ECI.set(h,this)}for(const u of o)G.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new j("incorect value");const r=G.VALUES_TO_ECI.get(t);if(r===void 0)throw new j("incorect value");return r}static getCharacterSetECIByName(t){const r=G.NAME_TO_ECI.get(t);if(r===void 0)throw new j("incorect value");return r}equals(t){if(!(t instanceof G))return!1;const r=t;return this.getName()===r.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(W.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(W.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(W.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(W.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(W.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(W.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(W.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(W.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(W.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(W.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(W.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(W.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(W.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(W.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(W.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(W.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(W.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(W.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(W.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(W.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(W.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(W.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(W.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(W.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(W.Big5,28,"Big5"),G.GB18030=new G(W.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(W.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends x{}ae.kind="UnsupportedOperationException";class ce{static decode(t,r){const s=this.encodingName(r);return this.customDecoder?this.customDecoder(t,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(t,s):new TextDecoder(s).decode(t)}static shouldDecodeOnFallback(t){return!ce.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const s=this.encodingName(r);return this.customEncoder?this.customEncoder(t,s):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof G?t:G.getCharacterSetECIByName(t)}static decodeFallback(t,r){const s=this.encodingCharacterSet(r);if(ce.isDecodeFallbackSupported(s)){let o="";for(let l=0,u=t.length;l<u;l++){let d=t[l].toString(16);d.length<2&&(d="0"+d),o+="%"+d}return decodeURIComponent(o)}if(s.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ae(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(G.UTF8)||t.equals(G.ISO8859_1)||t.equals(G.ASCII)}static encodeFallback(t){const s=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let l=0;l<s.length;l++)o.push(s[l].charCodeAt(0));return new Uint8Array(o)}}class ne{static castAsNonUtf8Char(t,r=null){const s=r?r.getName():this.ISO88591;return ce.decode(new Uint8Array([t]),s)}static guessEncoding(t,r){if(r!=null&&r.get(Z.CHARACTER_SET)!==void 0)return r.get(Z.CHARACTER_SET).toString();const s=t.length;let o=!0,l=!0,u=!0,d=0,h=0,p=0,w=0,E=0,A=0,_=0,O=0,D=0,P=0,V=0;const $=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ee=0;ee<s&&(o||l||u);ee++){const q=t[ee]&255;u&&(d>0?q&128?d--:u=!1:q&128&&(q&64?(d++,q&32?(d++,q&16?(d++,q&8?u=!1:w++):p++):h++):u=!1)),o&&(q>127&&q<160?o=!1:q>159&&(q<192||q===215||q===247)&&V++),l&&(E>0?q<64||q===127||q>252?l=!1:E--:q===128||q===160||q>239?l=!1:q>160&&q<224?(A++,O=0,_++,_>D&&(D=_)):q>127?(E++,_=0,O++,O>P&&(P=O)):(_=0,O=0))}return u&&d>0&&(u=!1),l&&E>0&&(l=!1),u&&($||h+p+w>0)?ne.UTF8:l&&(ne.ASSUME_SHIFT_JIS||D>=3||P>=3)?ne.SHIFT_JIS:o&&l?D===2&&A===2||V*10>=s?ne.SHIFT_JIS:ne.ISO88591:o?ne.ISO88591:l?ne.SHIFT_JIS:u?ne.UTF8:ne.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let s=-1;function o(u,d,h,p,w,E){if(u==="%%")return"%";if(r[++s]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let A=w?parseInt(w.substr(1)):void 0,_;switch(E){case"s":_=r[s];break;case"c":_=r[s][0];break;case"f":_=parseFloat(r[s]).toFixed(u);break;case"p":_=parseFloat(r[s]).toPrecision(u);break;case"e":_=parseFloat(r[s]).toExponential(u);break;case"x":_=parseInt(r[s]).toString(A||16);break;case"d":_=parseFloat(parseInt(r[s],A||10).toPrecision(u)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(A);let O=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;_.length<O;)_=d!==void 0?_+D:D+_;return _}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}static getBytes(t,r){return ce.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}ne.SHIFT_JIS=G.SJIS.getName(),ne.GB2312="GB2312",ne.ISO88591=G.ISO8859_1.getName(),ne.EUC_JP="EUC_JP",ne.UTF8=G.UTF8.getName(),ne.PLATFORM_DEFAULT_ENCODING=ne.UTF8,ne.ASSUME_SHIFT_JIS=!1;class we{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ne.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,s){for(let o=r;r<r+s;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class ke{constructor(t,r,s,o){if(this.width=t,this.height=r,this.rowSize=s,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new S("Both dimensions must be greater than 0");s==null&&(s=Math.floor((t+31)/32)),this.rowSize=s,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,s=t[0].length,o=new ke(s,r);for(let l=0;l<r;l++){const u=t[l];for(let d=0;d<s;d++)u[d]&&o.set(d,l)}return o}static parseFromString(t,r,s){if(t===null)throw new S("stringRepresentation cannot be null");const o=new Array(t.length);let l=0,u=0,d=-1,h=0,p=0;for(;p<t.length;)if(t.charAt(p)===`
`||t.charAt(p)==="\r"){if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new S("row lengths do not match");u=l,h++}p++}else if(t.substring(p,p+r.length)===r)p+=r.length,o[l]=!0,l++;else if(t.substring(p,p+s.length)===s)p+=s.length,o[l]=!1,l++;else throw new S("illegal character encountered: "+t.substring(p));if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new S("row lengths do not match");h++}const w=new ke(d,h);for(let E=0;E<l;E++)o[E]&&w.set(Math.floor(E%d),Math.floor(E/d));return w}get(t,r){const s=r*this.rowSize+Math.floor(t/32);return(this.bits[s]>>>(t&31)&1)!==0}set(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]|=1<<(t&31)&4294967295}unset(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]&=~(1<<(t&31)&4294967295)}flip(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new S("input matrix dimensions do not match");const r=new U(Math.floor(this.width/32)+1),s=this.rowSize,o=this.bits;for(let l=0,u=this.height;l<u;l++){const d=l*s,h=t.getRow(l,r).getBitArray();for(let p=0;p<s;p++)o[d+p]^=h[p]}}clear(){const t=this.bits,r=t.length;for(let s=0;s<r;s++)t[s]=0}setRegion(t,r,s,o){if(r<0||t<0)throw new S("Left and top must be nonnegative");if(o<1||s<1)throw new S("Height and width must be at least 1");const l=t+s,u=r+o;if(u>this.height||l>this.width)throw new S("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let p=r;p<u;p++){const w=p*d;for(let E=t;E<l;E++)h[w+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new U(this.width):r.clear();const s=this.rowSize,o=this.bits,l=t*s;for(let u=0;u<s;u++)r.setBulk(u*32,o[l+u]);return r}setRow(t,r){B.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let s=new U(t),o=new U(t);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)s=this.getRow(l,s),o=this.getRow(r-1-l,o),s.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,s)}getEnclosingRectangle(){const t=this.width,r=this.height,s=this.rowSize,o=this.bits;let l=t,u=r,d=-1,h=-1;for(let p=0;p<r;p++)for(let w=0;w<s;w++){const E=o[p*s+w];if(E!==0){if(p<u&&(u=p),p>h&&(h=p),w*32<l){let A=0;for(;!(E<<31-A&4294967295);)A++;w*32+A<l&&(l=w*32+A)}if(w*32+31>d){let A=31;for(;!(E>>>A);)A--;w*32+A>d&&(d=w*32+A)}}}return d<l||h<u?null:Int32Array.from([l,u,d-l+1,h-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let s=0;for(;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;const o=s/t;let l=s%t*32;const u=r[s];let d=0;for(;!(u<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let s=r.length-1;for(;s>=0&&r[s]===0;)s--;if(s<0)return null;const o=Math.floor(s/t);let l=Math.floor(s%t)*32;const u=r[s];let d=31;for(;!(u>>>d);)d--;return l+=d,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof ke))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&T.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+T.hashCode(this.bits),t}toString(t="X ",r="  ",s=`
`){return this.buildToString(t,r,s)}buildToString(t,r,s){let o=new we;for(let l=0,u=this.height;l<u;l++){for(let d=0,h=this.width;d<h;d++)o.append(this.get(d,l)?t:r);o.append(s)}return o.toString()}clone(){return new ke(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends x{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class Qe extends z{constructor(t){super(t),this.luminances=Qe.EMPTY,this.buckets=new Int32Array(Qe.LUMINANCE_BUCKETS)}getBlackRow(t,r){const s=this.getLuminanceSource(),o=s.getWidth();r==null||r.getSize()<o?r=new U(o):r.clear(),this.initArrays(o);const l=s.getRow(t,this.luminances),u=this.buckets;for(let h=0;h<o;h++)u[(l[h]&255)>>Qe.LUMINANCE_SHIFT]++;const d=Qe.estimateBlackPoint(u);if(o<3)for(let h=0;h<o;h++)(l[h]&255)<d&&r.set(h);else{let h=l[0]&255,p=l[1]&255;for(let w=1;w<o-1;w++){const E=l[w+1]&255;(p*4-h-E)/2<d&&r.set(w),h=p,p=E}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight(),o=new ke(r,s);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(s*h/5),w=t.getRow(p,this.luminances),E=Math.floor(r*4/5);for(let A=Math.floor(r/5);A<E;A++){const _=w[A]&255;l[_>>Qe.LUMINANCE_SHIFT]++}}const u=Qe.estimateBlackPoint(l),d=t.getMatrix();for(let h=0;h<s;h++){const p=h*r;for(let w=0;w<r;w++)(d[p+w]&255)<u&&o.set(w,h)}return o}createBinarizer(t){return new Qe(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let s=0;s<Qe.LUMINANCE_BUCKETS;s++)r[s]=0}static estimateBlackPoint(t){const r=t.length;let s=0,o=0,l=0;for(let w=0;w<r;w++)t[w]>l&&(o=w,l=t[w]),t[w]>s&&(s=t[w]);let u=0,d=0;for(let w=0;w<r;w++){const E=w-o,A=t[w]*E*E;A>d&&(u=w,d=A)}if(o>u){const w=o;o=u,u=w}if(u-o<=r/16)throw new Y;let h=u-1,p=-1;for(let w=u-1;w>o;w--){const E=w-o,A=E*E*(u-w)*(s-t[w]);A>p&&(h=w,p=A)}return h<<Qe.LUMINANCE_SHIFT}}Qe.LUMINANCE_BITS=5,Qe.LUMINANCE_SHIFT=8-Qe.LUMINANCE_BITS,Qe.LUMINANCE_BUCKETS=1<<Qe.LUMINANCE_BITS,Qe.EMPTY=Uint8ClampedArray.from([0]);class me extends Qe{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight();if(r>=me.MINIMUM_DIMENSION&&s>=me.MINIMUM_DIMENSION){const o=t.getMatrix();let l=r>>me.BLOCK_SIZE_POWER;r&me.BLOCK_SIZE_MASK&&l++;let u=s>>me.BLOCK_SIZE_POWER;s&me.BLOCK_SIZE_MASK&&u++;const d=me.calculateBlackPoints(o,l,u,r,s),h=new ke(r,s);me.calculateThresholdForBlock(o,l,u,r,s,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new me(t)}static calculateThresholdForBlock(t,r,s,o,l,u,d){const h=l-me.BLOCK_SIZE,p=o-me.BLOCK_SIZE;for(let w=0;w<s;w++){let E=w<<me.BLOCK_SIZE_POWER;E>h&&(E=h);const A=me.cap(w,2,s-3);for(let _=0;_<r;_++){let O=_<<me.BLOCK_SIZE_POWER;O>p&&(O=p);const D=me.cap(_,2,r-3);let P=0;for(let $=-2;$<=2;$++){const ee=u[A+$];P+=ee[D-2]+ee[D-1]+ee[D]+ee[D+1]+ee[D+2]}const V=P/25;me.thresholdBlock(t,O,E,V,o,d)}}}static cap(t,r,s){return t<r?r:t>s?s:t}static thresholdBlock(t,r,s,o,l,u){for(let d=0,h=s*l+r;d<me.BLOCK_SIZE;d++,h+=l)for(let p=0;p<me.BLOCK_SIZE;p++)(t[h+p]&255)<=o&&u.set(r+p,s+d)}static calculateBlackPoints(t,r,s,o,l){const u=l-me.BLOCK_SIZE,d=o-me.BLOCK_SIZE,h=new Array(s);for(let p=0;p<s;p++){h[p]=new Int32Array(r);let w=p<<me.BLOCK_SIZE_POWER;w>u&&(w=u);for(let E=0;E<r;E++){let A=E<<me.BLOCK_SIZE_POWER;A>d&&(A=d);let _=0,O=255,D=0;for(let V=0,$=w*o+A;V<me.BLOCK_SIZE;V++,$+=o){for(let ee=0;ee<me.BLOCK_SIZE;ee++){const q=t[$+ee]&255;_+=q,q<O&&(O=q),q>D&&(D=q)}if(D-O>me.MIN_DYNAMIC_RANGE)for(V++,$+=o;V<me.BLOCK_SIZE;V++,$+=o)for(let ee=0;ee<me.BLOCK_SIZE;ee++)_+=t[$+ee]&255}let P=_>>me.BLOCK_SIZE_POWER*2;if(D-O<=me.MIN_DYNAMIC_RANGE&&(P=O/2,p>0&&E>0)){const V=(h[p-1][E]+2*h[p][E-1]+h[p-1][E-1])/4;O<V&&(P=V)}h[p][E]=P}}return h}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class re{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,s,o){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new we;for(let s=0;s<this.height;s++){const o=this.getRow(s,t);for(let l=0;l<this.width;l++){const u=o[l]&255;let d;u<64?d="#":u<128?d="+":u<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class he extends re{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const s=this.delegate.getRow(t,r),o=this.getWidth();for(let l=0;l<o;l++)s[l]=255-(s[l]&255);return s}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(r);for(let o=0;o<r;o++)s[o]=255-(t[o]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,s,o){return new he(this.delegate.crop(t,r,s,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new he(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new he(this.delegate.rotateCounterClockwise45())}}class pe extends re{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return pe.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,s){const o=new Uint8ClampedArray(r*s);for(let l=0,u=0,d=t.length;l<d;l+=4,u++){let h;if(t[l+3]===0)h=255;else{const w=t[l],E=t[l+1],A=t[l+2];h=306*w+601*E+117*A+512>>10}o[u]=h}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const s=this.getWidth(),o=t*s;return r===null?r=this.buffer.slice(o,o+s):(r.length<s&&(r=new Uint8ClampedArray(s)),r.set(this.buffer.slice(o,o+s))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,s,o){return super.crop(t,r,s,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),s=r.getContext("2d"),o=t*pe.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*u),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*u);return r.width=d,r.height=h,s.translate(d/2,h/2),s.rotate(o),s.drawImage(this.canvas,l/-2,u/-2),this.buffer=pe.makeBufferFromCanvasImageData(r),this}invert(){return new he(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Pe{constructor(t,r,s){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ae=(globalThis||us||self||window||void 0)&&(globalThis||us||self||window||void 0).__awaiter||function(C,t,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(w){try{p(s.next(w))}catch(E){u(E)}}function h(w){try{p(s.throw(w))}catch(E){u(E)}}function p(w){w.done?l(w.value):o(w.value).then(d,h)}p((s=s.apply(C,t||[])).next())})};class fn{constructor(t,r=500,s){this.reader=t,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const s of t){const o=s.kind==="video"?"videoinput":s.kind;if(o!=="videoinput")continue;const l=s.deviceId||s.id,u=s.label||`Video device ${r.length+1}`,d=s.groupId,h={deviceId:l,label:u,kind:o,groupId:d};r.push(h)}return r})}getVideoInputDevices(){return Ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Pe(r.deviceId,r.label))})}findDeviceById(t){return Ae(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(s=>s.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return Ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return Ae(this,void 0,void 0,function*(){this.reset();let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return Ae(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(s,r)})}decodeOnceFromStream(t,r){return Ae(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(t,r,s){return Ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,s)})}decodeFromVideoDevice(t,r,s){return Ae(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,s)})}decodeFromConstraints(t,r,s){return Ae(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,s)})}decodeFromStream(t,r,s){return Ae(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return Ae(this,void 0,void 0,function*(){const s=this.prepareVideoElement(r);return this.addVideoSource(s,t),this.videoElement=s,this.stream=t,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(t){return new Promise((r,s)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const s=document.getElementById(t);if(!s)throw new I(`element with id '${t}' not found`);if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new I(`element with id '${t}' must be an ${r} element`);return s}decodeFromImage(t,r){if(!t&&!r)throw new I("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new I("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,s){if(t===void 0&&r===void 0)throw new I("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(t,s)}decodeFromImageElement(t){if(!t)throw new I("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const s=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(s,r)}_decodeFromVideoElementSetup(t){if(!t)throw new I("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const s=this._decodeOnLoadImage(r);return r.src=t,s}decodeFromVideoUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=t,s}decodeFromVideoUrlContinuously(t,r){if(!t)throw new I("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(s,r);return s.src=t,o}_decodeOnLoadImage(t){return new Promise((r,s)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,s),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return Ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,s=!0){this._stopAsyncDecode=!1;const o=(l,u)=>{if(this._stopAsyncDecode){u(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(t);l(d)}catch(d){const h=r&&d instanceof Y,w=(d instanceof L||d instanceof j)&&s;if(h||w)return setTimeout(o,this._timeBetweenDecodingAttempts,l,u);u(d)}};return new Promise((l,u)=>o(l,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(s,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof L||o instanceof j,u=o instanceof Y;(l||u)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,s){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,s=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),s=new pe(r),o=new me(s);return new b(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let s,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(s=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(s=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=s+"px",r.style.height=o+"px",r.width=s,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Je{constructor(t,r,s=r==null?0:8*r.length,o,l,u=B.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=s,this.resultPoints=o,this.format=l,this.timestamp=u,this.text=t,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=o,this.format=l,this.resultMetadata=null,u==null?this.timestamp=B.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const s=new Array(r.length+t.length);B.arraycopy(r,0,s,0,r.length),B.arraycopy(t,0,s,r.length,t.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var jr;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(jr||(jr={}));var ue=jr,ur;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ur||(ur={}));var mt=ur;class qi{constructor(t,r,s,o,l=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=s,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ji{exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class zt{constructor(t,r){if(r.length===0)throw new S;this.field=t;const s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-o),B.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let s;if(t===1){s=0;for(let u=0,d=r.length;u!==d;u++){const h=r[u];s=Ji.addOrSubtract(s,h)}return s}s=r[0];const o=r.length,l=this.field;for(let u=1;u<o;u++)s=Ji.addOrSubtract(l.multiply(t,s),r[u]);return s}addOrSubtract(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){const u=r;r=s,s=u}let o=new Int32Array(s.length);const l=s.length-r.length;B.arraycopy(s,0,o,0,l);for(let u=l;u<s.length;u++)o[u]=Ji.addOrSubtract(r[u-l],s[u]);return new zt(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,u=new Int32Array(s+l-1),d=this.field;for(let h=0;h<s;h++){const p=r[h];for(let w=0;w<l;w++)u[h+w]=Ji.addOrSubtract(u[h+w],d.multiply(p,o[w]))}return new zt(d,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,s=this.field,o=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)o[u]=s.multiply(l[u],t);return new zt(s,o)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return this.field.getZero();const s=this.coefficients,o=s.length,l=new Int32Array(o+t),u=this.field;for(let d=0;d<o;d++)l[d]=u.multiply(s[d],r);return new zt(u,l)}divide(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new S("Divide by 0");const r=this.field;let s=r.getZero(),o=this;const l=t.getCoefficient(t.getDegree()),u=r.inverse(l);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const d=o.getDegree()-t.getDegree(),h=r.multiply(o.getCoefficient(o.getDegree()),u),p=t.multiplyByMonomial(d,h),w=r.buildMonomial(d,h);s=s.addOrSubtract(w),o=o.addOrSubtract(p)}return[s,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);if(s!==0){if(s<0?(t+=" - ",s=-s):t.length>0&&(t+=" + "),r===0||s!==1){const o=this.field.log(s);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class so extends x{}so.kind="ArithmeticException";class Me extends Ji{constructor(t,r,s){super(),this.primitive=t,this.size=r,this.generatorBase=s;const o=new Int32Array(r);let l=1;for(let d=0;d<r;d++)o[d]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=o;const u=new Int32Array(r);for(let d=0;d<r-1;d++)u[o[d]]=d;this.logTable=u,this.zero=new zt(this,Int32Array.from([0])),this.one=new zt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;const s=new Int32Array(t+1);return s[0]=r,new zt(this,s)}inverse(t){if(t===0)throw new so;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+v.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Me.AZTEC_DATA_12=new Me(4201,4096,1),Me.AZTEC_DATA_10=new Me(1033,1024,1),Me.AZTEC_DATA_6=new Me(67,64,1),Me.AZTEC_PARAM=new Me(19,16,1),Me.QR_CODE_FIELD_256=new Me(285,256,0),Me.DATA_MATRIX_FIELD_256=new Me(301,256,1),Me.AZTEC_DATA_8=Me.DATA_MATRIX_FIELD_256,Me.MAXICODE_FIELD_64=Me.AZTEC_DATA_6;class ui extends x{}ui.kind="ReedSolomonException";class Ln extends x{}Ln.kind="IllegalStateException";class $i{constructor(t){this.field=t}decode(t,r){const s=this.field,o=new zt(s,t),l=new Int32Array(r);let u=!0;for(let _=0;_<r;_++){const O=o.evaluateAt(s.exp(_+s.getGeneratorBase()));l[l.length-1-_]=O,O!==0&&(u=!1)}if(u)return;const d=new zt(s,l),h=this.runEuclideanAlgorithm(s.buildMonomial(r,1),d,r),p=h[0],w=h[1],E=this.findErrorLocations(p),A=this.findErrorMagnitudes(w,E);for(let _=0;_<E.length;_++){const O=t.length-1-s.log(E[_]);if(O<0)throw new ui("Bad error location");t[O]=Me.addOrSubtract(t[O],A[_])}}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){const _=t;t=r,r=_}const o=this.field;let l=t,u=r,d=o.getZero(),h=o.getOne();for(;u.getDegree()>=(s/2|0);){let _=l,O=d;if(l=u,d=h,l.isZero())throw new ui("r_{i-1} was zero");u=_;let D=o.getZero();const P=l.getCoefficient(l.getDegree()),V=o.inverse(P);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const $=u.getDegree()-l.getDegree(),ee=o.multiply(u.getCoefficient(u.getDegree()),V);D=D.addOrSubtract(o.buildMonomial($,ee)),u=u.addOrSubtract(l.multiplyByMonomial($,ee))}if(h=D.multiply(d).addOrSubtract(O),u.getDegree()>=l.getDegree())throw new Ln("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new ui("sigmaTilde(0) was zero");const w=o.inverse(p),E=h.multiplyScalar(w),A=u.multiplyScalar(w);return[E,A]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const s=new Int32Array(r);let o=0;const l=this.field;for(let u=1;u<l.getSize()&&o<r;u++)t.evaluateAt(u)===0&&(s[o]=l.inverse(u),o++);if(o!==r)throw new ui("Error locator degree does not match number of roots");return s}findErrorMagnitudes(t,r){const s=r.length,o=new Int32Array(s),l=this.field;for(let u=0;u<s;u++){const d=l.inverse(r[u]);let h=1;for(let p=0;p<s;p++)if(u!==p){const w=l.multiply(r[p],d),E=w&1?w&-2:w|1;h=l.multiply(h,E)}o[u]=l.multiply(t.evaluateAt(d),l.inverse(h)),l.getGeneratorBase()!==0&&(o[u]=l.multiply(o[u],d))}return o}}var At;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(At||(At={}));class ze{decode(t){this.ddata=t;let r=t.getBits(),s=this.extractBits(r),o=this.correctBits(s),l=ze.convertBoolArrayToByteArray(o),u=ze.getEncodedData(o),d=new qi(l,u,null,null);return d.setNumBits(o.length),d}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,s=At.UPPER,o=At.UPPER,l="",u=0;for(;u<r;)if(o===At.BINARY){if(r-u<5)break;let d=ze.readCode(t,u,5);if(u+=5,d===0){if(r-u<11)break;d=ze.readCode(t,u,11)+31,u+=11}for(let h=0;h<d;h++){if(r-u<8){u=r;break}const p=ze.readCode(t,u,8);l+=ne.castAsNonUtf8Char(p),u+=8}o=s}else{let d=o===At.DIGIT?4:5;if(r-u<d)break;let h=ze.readCode(t,u,d);u+=d;let p=ze.getCharacter(o,h);p.startsWith("CTRL_")?(s=o,o=ze.getTable(p.charAt(5)),p.charAt(6)==="L"&&(s=o)):(l+=p,o=s)}return l}static getTable(t){switch(t){case"L":return At.LOWER;case"P":return At.PUNCT;case"M":return At.MIXED;case"D":return At.DIGIT;case"B":return At.BINARY;case"U":default:return At.UPPER}}static getCharacter(t,r){switch(t){case At.UPPER:return ze.UPPER_TABLE[r];case At.LOWER:return ze.LOWER_TABLE[r];case At.MIXED:return ze.MIXED_TABLE[r];case At.PUNCT:return ze.PUNCT_TABLE[r];case At.DIGIT:return ze.DIGIT_TABLE[r];default:throw new Ln("Bad table")}}correctBits(t){let r,s;this.ddata.getNbLayers()<=2?(s=6,r=Me.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=Me.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=Me.AZTEC_DATA_10):(s=12,r=Me.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=t.length/s;if(l<o)throw new j;let u=t.length%s,d=new Int32Array(l);for(let A=0;A<l;A++,u+=s)d[A]=ze.readCode(t,u,s);try{new $i(r).decode(d,l-o)}catch(A){throw new j(A)}let h=(1<<s)-1,p=0;for(let A=0;A<o;A++){let _=d[A];if(_===0||_===h)throw new j;(_===1||_===h-1)&&p++}let w=new Array(o*s-p),E=0;for(let A=0;A<o;A++){let _=d[A];if(_===1||_===h-1)w.fill(_>1,E,E+s-1),E+=s-1;else for(let O=s-1;O>=0;--O)w[E++]=(_&1<<O)!==0}return w}extractBits(t){let r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),o=(r?11:14)+s*4,l=new Int32Array(o),u=new Array(this.totalBitsInLayer(s,r));if(r)for(let d=0;d<l.length;d++)l[d]=d;else{let d=o+1+2*v.truncDivision(v.truncDivision(o,2)-1,15),h=o/2,p=v.truncDivision(d,2);for(let w=0;w<h;w++){let E=w+v.truncDivision(w,15);l[h-w-1]=p-E-1,l[h+w]=p+E+1}}for(let d=0,h=0;d<s;d++){let p=(s-d)*4+(r?9:12),w=d*2,E=o-1-w;for(let A=0;A<p;A++){let _=A*2;for(let O=0;O<2;O++)u[h+_+O]=t.get(l[w+O],l[w+A]),u[h+2*p+_+O]=t.get(l[w+A],l[E-O]),u[h+4*p+_+O]=t.get(l[E-O],l[E-A]),u[h+6*p+_+O]=t.get(l[E-A],l[w+O])}h+=p*8}return u}static readCode(t,r,s){let o=0;for(let l=r;l<r+s;l++)o<<=1,t[l]&&(o|=1);return o}static readByte(t,r){let s=t.length-r;return s>=8?ze.readCode(t,r,8):ze.readCode(t,r,s)<<8-s}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let s=0;s<r.length;s++)r[s]=ze.readByte(t,8*s);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Te{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,s,o){const l=t-s,u=r-o;return Math.sqrt(l*l+u*u)}static sum(t){let r=0;for(let s=0,o=t.length;s!==o;s++){const l=t[s];r+=l}return r}}class oo{static floatToIntBits(t){return t}}oo.MAX_VALUE=Number.MAX_SAFE_INTEGER;class le{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof le){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*oo.floatToIntBits(this.x)+oo.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),s=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let l,u,d;if(s>=r&&s>=o?(u=t[0],l=t[1],d=t[2]):o>=s&&o>=r?(u=t[1],l=t[0],d=t[2]):(u=t[2],l=t[0],d=t[1]),this.crossProductZ(l,u,d)<0){const h=l;l=d,d=h}t[0]=l,t[1]=u,t[2]=d}static distance(t,r){return Te.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,s){const o=r.x,l=r.y;return(s.x-o)*(t.y-l)-(s.y-l)*(t.x-o)}}class ao{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class zc extends ao{constructor(t,r,s,o,l){super(t,r),this.compact=s,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Qn{constructor(t,r,s,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Qn.INIT_SIZE),s==null&&(s=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let t=this.leftInit,r=this.rightInit,s=this.upInit,o=this.downInit,l=!1,u=!0,d=!1,h=!1,p=!1,w=!1,E=!1;const A=this.width,_=this.height;for(;u;){u=!1;let O=!0;for(;(O||!h)&&r<A;)O=this.containsBlackPoint(s,o,r,!1),O?(r++,u=!0,h=!0):h||r++;if(r>=A){l=!0;break}let D=!0;for(;(D||!p)&&o<_;)D=this.containsBlackPoint(t,r,o,!0),D?(o++,u=!0,p=!0):p||o++;if(o>=_){l=!0;break}let P=!0;for(;(P||!w)&&t>=0;)P=this.containsBlackPoint(s,o,t,!1),P?(t--,u=!0,w=!0):w||t--;if(t<0){l=!0;break}let V=!0;for(;(V||!E)&&s>=0;)V=this.containsBlackPoint(t,r,s,!0),V?(s--,u=!0,E=!0):E||s--;if(s<0){l=!0;break}u&&(d=!0)}if(!l&&d){const O=r-t;let D=null;for(let ee=1;D===null&&ee<O;ee++)D=this.getBlackPointOnSegment(t,o-ee,t+ee,o);if(D==null)throw new Y;let P=null;for(let ee=1;P===null&&ee<O;ee++)P=this.getBlackPointOnSegment(t,s+ee,t+ee,s);if(P==null)throw new Y;let V=null;for(let ee=1;V===null&&ee<O;ee++)V=this.getBlackPointOnSegment(r,s+ee,r-ee,s);if(V==null)throw new Y;let $=null;for(let ee=1;$===null&&ee<O;ee++)$=this.getBlackPointOnSegment(r,o-ee,r-ee,o);if($==null)throw new Y;return this.centerEdges($,D,V,P)}else throw new Y}getBlackPointOnSegment(t,r,s,o){const l=Te.round(Te.distance(t,r,s,o)),u=(s-t)/l,d=(o-r)/l,h=this.image;for(let p=0;p<l;p++){const w=Te.round(t+p*u),E=Te.round(r+p*d);if(h.get(w,E))return new le(w,E)}return null}centerEdges(t,r,s,o){const l=t.getX(),u=t.getY(),d=r.getX(),h=r.getY(),p=s.getX(),w=s.getY(),E=o.getX(),A=o.getY(),_=Qn.CORR;return l<this.width/2?[new le(E-_,A+_),new le(d+_,h+_),new le(p-_,w-_),new le(l+_,u-_)]:[new le(E+_,A+_),new le(d+_,h-_),new le(p-_,w+_),new le(l-_,u-_)]}containsBlackPoint(t,r,s,o){const l=this.image;if(o){for(let u=t;u<=r;u++)if(l.get(u,s))return!0}else for(let u=t;u<=r;u++)if(l.get(s,u))return!0;return!1}}Qn.INIT_SIZE=10,Qn.CORR=1;class Ga{static checkAndNudgePoints(t,r){const s=t.getWidth(),o=t.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>s||h<-1||h>o)throw new Y;l=!1,d===-1?(r[u]=0,l=!0):d===s&&(r[u]=s-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>s||h<-1||h>o)throw new Y;l=!1,d===-1?(r[u]=0,l=!0):d===s&&(r[u]=s-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}}}class Sn{constructor(t,r,s,o,l,u,d,h,p){this.a11=t,this.a21=r,this.a31=s,this.a12=o,this.a22=l,this.a32=u,this.a13=d,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(t,r,s,o,l,u,d,h,p,w,E,A,_,O,D,P){const V=Sn.quadrilateralToSquare(t,r,s,o,l,u,d,h);return Sn.squareToQuadrilateral(p,w,E,A,_,O,D,P).times(V)}transformPoints(t){const r=t.length,s=this.a11,o=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,w=this.a32,E=this.a33;for(let A=0;A<r;A+=2){const _=t[A],O=t[A+1],D=l*_+h*O+E;t[A]=(s*_+u*O+p)/D,t[A+1]=(o*_+d*O+w)/D}}transformPointsWithValues(t,r){const s=this.a11,o=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,w=this.a32,E=this.a33,A=t.length;for(let _=0;_<A;_++){const O=t[_],D=r[_],P=l*O+h*D+E;t[_]=(s*O+u*D+p)/P,r[_]=(o*O+d*D+w)/P}}static squareToQuadrilateral(t,r,s,o,l,u,d,h){const p=t-s+l-d,w=r-o+u-h;if(p===0&&w===0)return new Sn(s-t,l-s,t,o-r,u-o,r,0,0,1);{const E=s-l,A=d-l,_=o-u,O=h-u,D=E*O-A*_,P=(p*O-A*w)/D,V=(E*w-p*_)/D;return new Sn(s-t+P*s,d-t+V*d,t,o-r+P*o,h-r+V*h,r,P,V,1)}}static quadrilateralToSquare(t,r,s,o,l,u,d,h){return Sn.squareToQuadrilateral(t,r,s,o,l,u,d,h).buildAdjoint()}buildAdjoint(){return new Sn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Sn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Hc extends Ga{sampleGrid(t,r,s,o,l,u,d,h,p,w,E,A,_,O,D,P,V,$,ee){const q=Sn.quadrilateralToQuadrilateral(o,l,u,d,h,p,w,E,A,_,O,D,P,V,$,ee);return this.sampleGridWithTransform(t,r,s,q)}sampleGridWithTransform(t,r,s,o){if(r<=0||s<=0)throw new Y;const l=new ke(r,s),u=new Float32Array(2*r);for(let d=0;d<s;d++){const h=u.length,p=d+.5;for(let w=0;w<h;w+=2)u[w]=w/2+.5,u[w+1]=p;o.transformPoints(u),Ga.checkAndNudgePoints(t,u);try{for(let w=0;w<h;w+=2)t.get(Math.floor(u[w]),Math.floor(u[w+1]))&&l.set(w/2,d)}catch{throw new Y}}return l}}class cr{static setGridSampler(t){cr.gridSampler=t}static getInstance(){return cr.gridSampler}}cr.gridSampler=new Hc;class kt{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new le(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Vc{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(t){let u=s[0];s[0]=s[2],s[2]=u}this.extractParameters(s);let o=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new zc(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Y;let r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(s,r);let o=0;for(let u=0;u<4;u++){let d=s[(this.shift+u)%4];this.compact?(o<<=7,o+=d>>1&127):(o<<=10,o+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let s=0;t.forEach((o,l,u)=>{let d=(o>>r-2<<1)+(o&1);s=(s<<3)+d}),s=((s&1)<<11)+(s>>1);for(let o=0;o<4;o++)if(v.bitCount(s^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new Y}getCorrectedParameterData(t,r){let s,o;r?(s=7,o=2):(s=10,o=4);let l=s-o,u=new Int32Array(s);for(let h=s-1;h>=0;--h)u[h]=t&15,t>>=4;try{new $i(Me.AZTEC_PARAM).decode(u,l)}catch{throw new Y}let d=0;for(let h=0;h<o;h++)d=(d<<4)+u[h];return d}getBullsEyeCorners(t){let r=t,s=t,o=t,l=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(r,u,1,-1),A=this.getFirstDifferent(s,u,1,1),_=this.getFirstDifferent(o,u,-1,1),O=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let D=this.distancePoint(O,E)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(D<.75||D>1.25||!this.isWhiteOrBlackRectangle(E,A,_,O))break}r=E,s=A,o=_,l=O,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let d=new le(r.getX()+.5,r.getY()-.5),h=new le(s.getX()+.5,s.getY()+.5),p=new le(o.getX()-.5,o.getY()+.5),w=new le(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,h,p,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,s,o;try{let d=new Qn(this.image).detect();t=d[0],r=d[1],s=d[2],o=d[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;t=this.getFirstDifferent(new kt(h+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(h+7,p+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new kt(h-7,p+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new kt(h-7,p-7),!1,-1,-1).toResultPoint()}let l=Te.round((t.getX()+o.getX()+r.getX()+s.getX())/4),u=Te.round((t.getY()+o.getY()+r.getY()+s.getY())/4);try{let d=new Qn(this.image,15,l,u).detect();t=d[0],r=d[1],s=d[2],o=d[3]}catch{t=this.getFirstDifferent(new kt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(l+7,u+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new kt(l-7,u+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new kt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Te.round((t.getX()+o.getX()+r.getX()+s.getX())/4),u=Te.round((t.getY()+o.getY()+r.getY()+s.getY())/4),new kt(l,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,s,o,l){let u=cr.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return u.sampleGrid(t,d,d,h,h,p,h,p,p,h,p,r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(t,r,s){let o=0,l=this.distanceResultPoint(t,r),u=l/s,d=t.getX(),h=t.getY(),p=u*(r.getX()-t.getX())/l,w=u*(r.getY()-t.getY())/l;for(let E=0;E<s;E++)this.image.get(Te.round(d+E*p),Te.round(h+E*w))&&(o|=1<<s-E-1);return o}isWhiteOrBlackRectangle(t,r,s,o){let l=3;t=new kt(t.getX()-l,t.getY()+l),r=new kt(r.getX()-l,r.getY()-l),s=new kt(s.getX()+l,s.getY()-l),o=new kt(o.getX()+l,o.getY()+l);let u=this.getColor(o,t);if(u===0)return!1;let d=this.getColor(t,r);return d!==u||(d=this.getColor(r,s),d!==u)?!1:(d=this.getColor(s,o),d===u)}getColor(t,r){let s=this.distancePoint(t,r),o=(r.getX()-t.getX())/s,l=(r.getY()-t.getY())/s,u=0,d=t.getX(),h=t.getY(),p=this.image.get(t.getX(),t.getY()),w=Math.ceil(s);for(let A=0;A<w;A++)d+=o,h+=l,this.image.get(Te.round(d),Te.round(h))!==p&&u++;let E=u/s;return E>.1&&E<.9?0:E<=.1===p?1:-1}getFirstDifferent(t,r,s,o){let l=t.getX()+s,u=t.getY()+o;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=s,u+=o;for(l-=s,u-=o;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=s;for(l-=s;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=o;return u-=o,new kt(l,u)}expandSquare(t,r,s){let o=s/(2*r),l=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),d=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,p=new le(d+o*l,h+o*u),w=new le(d-o*l,h-o*u);l=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),d=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let E=new le(d+o*l,h+o*u),A=new le(d-o*l,h-o*u);return[p,E,w,A]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Te.round(t.getX()),s=Te.round(t.getY());return this.isValid(r,s)}distancePoint(t,r){return Te.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Te.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(v.truncDivision(this.nbLayers-4,8)+1)+15}}class lo{decode(t,r=null){let s=null,o=new Vc(t.getBlackMatrix()),l=null,u=null;try{let w=o.detectMirror(!1);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new ze().decode(w)}catch(w){s=w}if(u==null)try{let w=o.detectMirror(!0);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new ze().decode(w)}catch(w){throw s??w}let d=new Je(u.getText(),u.getRawBytes(),u.getNumBits(),l,ue.AZTEC,B.currentTimeMillis()),h=u.getByteSegments();h!=null&&d.putMetadata(mt.BYTE_SEGMENTS,h);let p=u.getECLevel();return p!=null&&d.putMetadata(mt.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(t,r){if(t!=null){let s=t.get(Z.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach((o,l,u)=>{s.foundPossibleResultPoint(o)})}}reset(){}}class Rh extends fn{constructor(t=500){super(new lo,t)}}class ct{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(Z.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),u=this.doDecode(l,r),d=u.getResultMetadata();let h=270;d!==null&&d.get(mt.ORIENTATION)===!0&&(h=h+d.get(mt.ORIENTATION)%360),u.putMetadata(mt.ORIENTATION,h);const p=u.getResultPoints();if(p!==null){const w=l.getHeight();for(let E=0;E<p.length;E++)p[E]=new le(w-p[E].getY()-1,p[E].getX())}return u}else throw new Y}}reset(){}doDecode(t,r){const s=t.getWidth(),o=t.getHeight();let l=new U(s);const u=r&&r.get(Z.TRY_HARDER)===!0,d=Math.max(1,o>>(u?8:5));let h;u?h=o:h=15;const p=Math.trunc(o/2);for(let w=0;w<h;w++){const E=Math.trunc((w+1)/2),A=(w&1)===0,_=p+d*(A?E:-E);if(_<0||_>=o)break;try{l=t.getBlackRow(_,l)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(l.reverse(),r&&r.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const D=new Map;r.forEach((P,V)=>D.set(V,P)),D.delete(Z.NEED_RESULT_POINT_CALLBACK),r=D}try{const D=this.decodeRow(_,l,r);if(O===1){D.putMetadata(mt.ORIENTATION,180);const P=D.getResultPoints();P!==null&&(P[0]=new le(s-P[0].getX()-1,P[0].getY()),P[1]=new le(s-P[1].getX()-1,P[1].getY()))}return D}catch{}}}throw new Y}static recordPattern(t,r,s){const o=s.length;for(let p=0;p<o;p++)s[p]=0;const l=t.getSize();if(r>=l)throw new Y;let u=!t.get(r),d=0,h=r;for(;h<l;){if(t.get(h)!==u)s[d]++;else{if(++d===o)break;s[d]=1,u=!u}h++}if(!(d===o||d===o-1&&h===l))throw new Y}static recordPatternInReverse(t,r,s){let o=s.length,l=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new Y;ct.recordPattern(t,r+1,s)}static patternMatchVariance(t,r,s){const o=t.length;let l=0,u=0;for(let p=0;p<o;p++)l+=t[p],u+=r[p];if(l<u)return Number.POSITIVE_INFINITY;const d=l/u;s*=d;let h=0;for(let p=0;p<o;p++){const w=t[p],E=r[p]*d,A=w>E?w-E:E-w;if(A>s)return Number.POSITIVE_INFINITY;h+=A}return h/l}}class te extends ct{static findStartPattern(t){const r=t.getSize(),s=t.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),u=s,d=!1;const h=6;for(let p=s;p<r;p++)if(t.get(p)!==d)l[o]++;else{if(o===h-1){let w=te.MAX_AVG_VARIANCE,E=-1;for(let A=te.CODE_START_A;A<=te.CODE_START_C;A++){const _=ct.patternMatchVariance(l,te.CODE_PATTERNS[A],te.MAX_INDIVIDUAL_VARIANCE);_<w&&(w=_,E=A)}if(E>=0&&t.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,E]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,d=!d}throw new Y}static decodeCode(t,r,s){ct.recordPattern(t,s,r);let o=te.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<te.CODE_PATTERNS.length;u++){const d=te.CODE_PATTERNS[u],h=this.patternMatchVariance(r,d,te.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=u)}if(l>=0)return l;throw new Y}decodeRow(t,r,s){const o=s&&s.get(Z.ASSUME_GS1)===!0,l=te.findStartPattern(r),u=l[2];let d=0;const h=new Uint8Array(20);h[d++]=u;let p;switch(u){case te.CODE_START_A:p=te.CODE_CODE_A;break;case te.CODE_START_B:p=te.CODE_CODE_B;break;case te.CODE_START_C:p=te.CODE_CODE_C;break;default:throw new j}let w=!1,E=!1,A="",_=l[0],O=l[1];const D=Int32Array.from([0,0,0,0,0,0]);let P=0,V=0,$=u,ee=0,q=!0,Ie=!1,ye=!1;for(;!w;){const wi=E;switch(E=!1,P=V,V=te.decodeCode(r,D,O),h[d++]=V,V!==te.CODE_STOP&&(q=!0),V!==te.CODE_STOP&&(ee++,$+=ee*V),_=O,O+=D.reduce((sg,og)=>sg+og,0),V){case te.CODE_START_A:case te.CODE_START_B:case te.CODE_START_C:throw new j}switch(p){case te.CODE_CODE_A:if(V<64)ye===Ie?A+=String.fromCharCode(32+V):A+=String.fromCharCode(32+V+128),ye=!1;else if(V<96)ye===Ie?A+=String.fromCharCode(V-64):A+=String.fromCharCode(V+64),ye=!1;else switch(V!==te.CODE_STOP&&(q=!1),V){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_A:!Ie&&ye?(Ie=!0,ye=!1):Ie&&ye?(Ie=!1,ye=!1):ye=!0;break;case te.CODE_SHIFT:E=!0,p=te.CODE_CODE_B;break;case te.CODE_CODE_B:p=te.CODE_CODE_B;break;case te.CODE_CODE_C:p=te.CODE_CODE_C;break;case te.CODE_STOP:w=!0;break}break;case te.CODE_CODE_B:if(V<96)ye===Ie?A+=String.fromCharCode(32+V):A+=String.fromCharCode(32+V+128),ye=!1;else switch(V!==te.CODE_STOP&&(q=!1),V){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_B:!Ie&&ye?(Ie=!0,ye=!1):Ie&&ye?(Ie=!1,ye=!1):ye=!0;break;case te.CODE_SHIFT:E=!0,p=te.CODE_CODE_A;break;case te.CODE_CODE_A:p=te.CODE_CODE_A;break;case te.CODE_CODE_C:p=te.CODE_CODE_C;break;case te.CODE_STOP:w=!0;break}break;case te.CODE_CODE_C:if(V<100)V<10&&(A+="0"),A+=V;else switch(V!==te.CODE_STOP&&(q=!1),V){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_CODE_A:p=te.CODE_CODE_A;break;case te.CODE_CODE_B:p=te.CODE_CODE_B;break;case te.CODE_STOP:w=!0;break}break}wi&&(p=p===te.CODE_CODE_A?te.CODE_CODE_B:te.CODE_CODE_A)}const Gt=O-_;if(O=r.getNextUnset(O),!r.isRange(O,Math.min(r.getSize(),O+(O-_)/2),!1))throw new Y;if($-=ee*P,$%103!==P)throw new L;const vn=A.length;if(vn===0)throw new Y;vn>0&&q&&(p===te.CODE_CODE_C?A=A.substring(0,vn-2):A=A.substring(0,vn-1));const Yt=(l[1]+l[0])/2,je=_+Gt/2,vt=h.length,Jt=new Uint8Array(vt);for(let wi=0;wi<vt;wi++)Jt[wi]=h[wi];const mi=[new le(Yt,t),new le(je,t)];return new Je(A,Jt,0,mi,ue.CODE_128,new Date().getTime())}}te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],te.MAX_AVG_VARIANCE=.25,te.MAX_INDIVIDUAL_VARIANCE=.7,te.CODE_SHIFT=98,te.CODE_CODE_C=99,te.CODE_CODE_B=100,te.CODE_CODE_A=101,te.CODE_FNC_1=102,te.CODE_FNC_2=97,te.CODE_FNC_3=96,te.CODE_FNC_4_A=101,te.CODE_FNC_4_B=100,te.CODE_START_A=103,te.CODE_START_B=104,te.CODE_START_C=105,te.CODE_STOP=106;class dt extends ct{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,s){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=dt.findAsteriskPattern(r,o),u=r.getNextSet(l[1]),d=r.getSize(),h,p;do{dt.recordPattern(r,u,o);let D=dt.toNarrowWidePattern(o);if(D<0)throw new Y;h=dt.patternToChar(D),this.decodeRowResult+=h,p=u;for(let P of o)u+=P;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let D of o)w+=D;let E=u-p-w;if(u!==d&&E*2<w)throw new Y;if(this.usingCheckDigit){let D=this.decodeRowResult.length-1,P=0;for(let V=0;V<D;V++)P+=dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(V));if(this.decodeRowResult.charAt(D)!==dt.ALPHABET_STRING.charAt(P%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new Y;let A;this.extendedMode?A=dt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let _=(l[1]+l[0])/2,O=p+w/2;return new Je(A,null,0,[new le(_,t),new le(O,t)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let s=t.getSize(),o=t.getNextSet(0),l=0,u=o,d=!1,h=r.length;for(let p=o;p<s;p++)if(t.get(p)!==d)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===dt.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new Y}static toNarrowWidePattern(t){let r=t.length,s=0,o;do{let l=2147483647;for(let h of t)h<l&&h>s&&(l=h);s=l,o=0;let u=0,d=0;for(let h=0;h<r;h++){let p=t[h];p>s&&(d|=1<<r-1-h,o++,u+=p)}if(o===3){for(let h=0;h<r&&o>0;h++){let p=t[h];if(p>s&&(o--,p*2>=u))return-1}return d}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<dt.CHARACTER_ENCODINGS.length;r++)if(dt.CHARACTER_ENCODINGS[r]===t)return dt.ALPHABET_STRING.charAt(r);if(t===dt.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(t){let r=t.length,s="";for(let o=0;o<r;o++){let l=t.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=t.charAt(o+1),d="\0";switch(l){case"+":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new j;break;case"$":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new j;break;case"%":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u==="X"||u==="Y"||u==="Z")d="";else throw new j;break;case"/":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new j;break}s+=d,o++}else s+=l}return s}}dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],dt.ASTERISK_ENCODING=148;class Fe extends ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,s){let o=this.decodeStart(r),l=this.decodeEnd(r),u=new we;Fe.decodeMiddle(r,o[1],l[0],u);let d=u.toString(),h=null;s!=null&&(h=s.get(Z.ALLOWED_LENGTHS)),h==null&&(h=Fe.DEFAULT_ALLOWED_LENGTHS);let p=d.length,w=!1,E=0;for(let O of h){if(p===O){w=!0;break}O>E&&(E=O)}if(!w&&p>E&&(w=!0),!w)throw new j;const A=[new le(o[1],t),new le(l[0],t)];return new Je(d,null,0,A,ue.ITF,new Date().getTime())}static decodeMiddle(t,r,s,o){let l=new Int32Array(10),u=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),u.fill(0),d.fill(0);r<s;){ct.recordPattern(t,r,l);for(let p=0;p<5;p++){let w=2*p;u[p]=l[w],d[p]=l[w+1]}let h=Fe.decodeDigit(u);o.append(h.toString()),h=this.decodeDigit(d),o.append(h.toString()),l.forEach(function(p){r+=p})}}decodeStart(t){let r=Fe.skipWhiteSpace(t),s=Fe.findGuardPattern(t,r,Fe.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(t,s[0]),s}validateQuietZone(t,r){let s=this.narrowLineWidth*10;s=s<r?s:r;for(let o=r-1;s>0&&o>=0&&!t.get(o);o--)s--;if(s!==0)throw new Y}static skipWhiteSpace(t){const r=t.getSize(),s=t.getNextSet(0);if(s===r)throw new Y;return s}decodeEnd(t){t.reverse();try{let r=Fe.skipWhiteSpace(t),s;try{s=Fe.findGuardPattern(t,r,Fe.END_PATTERN_REVERSED[0])}catch(l){l instanceof Y&&(s=Fe.findGuardPattern(t,r,Fe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,s[0]);let o=s[0];return s[0]=t.getSize()-s[1],s[1]=t.getSize()-o,s}finally{t.reverse()}}static findGuardPattern(t,r,s){let o=s.length,l=new Int32Array(o),u=t.getSize(),d=!1,h=0,p=r;l.fill(0);for(let w=r;w<u;w++)if(t.get(w)!==d)l[h]++;else{if(h===o-1){if(ct.patternMatchVariance(l,s,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return[p,w];p+=l[0]+l[1],B.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new Y}static decodeDigit(t){let r=Fe.MAX_AVG_VARIANCE,s=-1,o=Fe.PATTERNS.length;for(let l=0;l<o;l++){let u=Fe.PATTERNS[l],d=ct.patternMatchVariance(t,u,Fe.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,s=l):d===r&&(s=-1)}if(s>=0)return s%10;throw new Y}}Fe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Fe.MAX_AVG_VARIANCE=.38,Fe.MAX_INDIVIDUAL_VARIANCE=.5,Fe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Fe.START_PATTERN=Int32Array.from([1,1,1,1]),Fe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class rt extends ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,s,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),s=rt.findGuardPattern(t,o,!1,this.START_END_PATTERN,l);let u=s[0];o=s[1];let d=u-(o-u);d>=0&&(r=t.isRange(d,u,!1))}return s}static checkChecksum(t){return rt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return rt.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new j;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new j;s+=l}return(1e3-s)%10}static decodeEnd(t,r){return rt.findGuardPattern(t,r,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,s,o){return this.findGuardPattern(t,r,s,o,new Int32Array(o.length))}static findGuardPattern(t,r,s,o,l){let u=t.getSize();r=s?t.getNextUnset(r):t.getNextSet(r);let d=0,h=r,p=o.length,w=s;for(let E=r;E<u;E++)if(t.get(E)!==w)l[d]++;else{if(d===p-1){if(ct.patternMatchVariance(l,o,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return Int32Array.from([h,E]);h+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let _=0;_<d-1;_++)l[_]=A[_];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,w=!w}throw new Y}static decodeDigit(t,r,s,o){this.recordPattern(t,s,r);let l=this.MAX_AVG_VARIANCE,u=-1,d=o.length;for(let h=0;h<d;h++){let p=o[h],w=ct.patternMatchVariance(r,p,rt.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,u=h)}if(u>=0)return u;throw new Y}}rt.MAX_AVG_VARIANCE=.48,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.START_END_PATTERN=Int32Array.from([1,1,1]),rt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),rt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class es{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),u=o.toString(),d=es.parseExtensionString(u),h=[new le((s[0]+s[1])/2,t),new le(l,t)],p=new Je(u,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],d=0;for(let p=0;p<5&&u<l;p++){let w=rt.decodeDigit(t,o,u,rt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let E of o)u+=E;w>=10&&(d|=1<<4-p),p!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(s.length!==5)throw new Y;let h=this.determineCheckDigit(d);if(es.extensionChecksum(s.toString())!==h)throw new Y;return u}static extensionChecksum(t){let r=t.length,s=0;for(let o=r-2;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;s*=3;for(let o=r-1;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Y}static parseExtensionString(t){if(t.length!==5)return null;let r=es.parseExtension5String(t);return r==null?null:new Map([[mt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let s=parseInt(t.substring(1)),o=(s/100).toString(),l=s%100,u=l<10?"0"+l:l.toString();return r+o+"."+u}}class Ya{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),u=o.toString(),d=Ya.parseExtensionString(u),h=[new le((s[0]+s[1])/2,t),new le(l,t)],p=new Je(u,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],d=0;for(let h=0;h<2&&u<l;h++){let p=rt.decodeDigit(t,o,u,rt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+p%10);for(let w of o)u+=w;p>=10&&(d|=1<<1-h),h!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(s.length!==2)throw new Y;if(parseInt(s.toString())%4!==d)throw new Y;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[mt.ISSUE_NUMBER,parseInt(t)]])}}class Wc{static decodeRow(t,r,s){let o=rt.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new es().decodeRow(t,r,o)}catch{return new Ya().decodeRow(t,r,o)}}}Wc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Re extends rt{constructor(){super(),this.decodeRowStringBuffer="",Re.L_AND_G_PATTERNS=Re.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Re.L_PATTERNS[t-10],s=new Int32Array(r.length);for(let o=0;o<r.length;o++)s[o]=r[r.length-o-1];Re.L_AND_G_PATTERNS[t]=s}}decodeRow(t,r,s){let o=Re.findStartGuardPattern(r),l=s==null?null:s.get(Z.NEED_RESULT_POINT_CALLBACK);if(l!=null){const q=new le((o[0]+o[1])/2,t);l.foundPossibleResultPoint(q)}let u=this.decodeMiddle(r,o,this.decodeRowStringBuffer),d=u.rowOffset,h=u.resultString;if(l!=null){const q=new le(d,t);l.foundPossibleResultPoint(q)}let p=this.decodeEnd(r,d);if(l!=null){const q=new le((p[0]+p[1])/2,t);l.foundPossibleResultPoint(q)}let w=p[1],E=w+(w-p[0]);if(E>=r.getSize()||!r.isRange(w,E,!1))throw new Y;let A=h.toString();if(A.length<8)throw new j;if(!Re.checkChecksum(A))throw new L;let _=(o[1]+o[0])/2,O=(p[1]+p[0])/2,D=this.getBarcodeFormat(),P=[new le(_,t),new le(O,t)],V=new Je(A,null,0,P,D,new Date().getTime()),$=0;try{let q=Wc.decodeRow(t,r,p[1]);V.putMetadata(mt.UPC_EAN_EXTENSION,q.getText()),V.putAllMetadata(q.getResultMetadata()),V.addResultPoints(q.getResultPoints()),$=q.getText().length}catch{}let ee=s==null?null:s.get(Z.ALLOWED_EAN_EXTENSIONS);if(ee!=null){let q=!1;for(let Ie in ee)if($.toString()===Ie){q=!0;break}if(!q)throw new Y}return V}decodeEnd(t,r){return Re.findGuardPattern(t,r,!1,Re.START_END_PATTERN,new Int32Array(Re.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Re.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return Re.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new j;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new j;s+=l}return(1e3-s)%10}}class zr extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],d=0;for(let p=0;p<6&&u<l;p++){let w=Re.decodeDigit(t,o,u,Re.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let E of o)u+=E;w>=10&&(d|=1<<5-p)}s=zr.determineFirstDigit(s,d),u=Re.findGuardPattern(t,u,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&u<l;p++){let w=Re.decodeDigit(t,o,u,Re.L_PATTERNS);s+=String.fromCharCode(48+w);for(let E of o)u+=E}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(t,r){for(let s=0;s<10;s++)if(r===this.FIRST_DIGIT_ENCODINGS[s])return t=String.fromCharCode(48+s)+t,t;throw new Y}}zr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Gc extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let p=Re.decodeDigit(t,o,u,Re.L_PATTERNS);s+=String.fromCharCode(48+p);for(let w of o)u+=w}u=Re.findGuardPattern(t,u,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let p=Re.decodeDigit(t,o,u,Re.L_PATTERNS);s+=String.fromCharCode(48+p);for(let w of o)u+=w}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return ue.EAN_8}}class Yc extends Re{constructor(){super(...arguments),this.ean13Reader=new zr}getBarcodeFormat(){return ue.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,s))}decodeMiddle(t,r,s){return this.ean13Reader.decodeMiddle(t,r,s)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let s=new Je(r.substring(1),null,null,t.getResultPoints(),ue.UPC_A);return t.getResultMetadata()!=null&&s.putAllMetadata(t.getResultMetadata()),s}else throw new Y}reset(){this.ean13Reader.reset()}}class In extends Re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters.map(p=>p);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=t.getSize();let u=r[1],d=0;for(let p=0;p<6&&u<l;p++){const w=In.decodeDigit(t,o,u,In.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let E of o)u+=E;w>=10&&(d|=1<<5-p)}let h=In.determineNumSysAndCheckDigit(s,d);return{rowOffset:u,resultString:h}}decodeEnd(t,r){return In.findGuardPatternWithoutCounters(t,r,!0,In.MIDDLE_END_PATTERN)}checkChecksum(t){return Re.checkChecksum(In.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let s=0;s<=1;s++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][o]){let l=String.fromCharCode(48+s),u=String.fromCharCode(48+o);return l+t+u}throw Y.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new we;s.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:s.appendChars(r,0,2),s.append(o),s.append("0000"),s.appendChars(r,2,3);break;case 3:s.appendChars(r,0,3),s.append("00000"),s.appendChars(r,3,2);break;case 4:s.appendChars(r,0,4),s.append("00000"),s.append(r[4]);break;default:s.appendChars(r,0,5),s.append("0000"),s.append(o);break}return t.length>=8&&s.append(t.charAt(7)),s.toString()}}In.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),In.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Xa extends ct{constructor(t){super();let r=t==null?null:t.get(Z.POSSIBLE_FORMATS),s=[];a(r)?(s.push(new zr),s.push(new Yc),s.push(new Gc),s.push(new In)):(r.indexOf(ue.EAN_13)>-1&&s.push(new zr),r.indexOf(ue.UPC_A)>-1&&s.push(new Yc),r.indexOf(ue.EAN_8)>-1&&s.push(new Gc),r.indexOf(ue.UPC_E)>-1&&s.push(new In)),this.readers=s}decodeRow(t,r,s){for(let o of this.readers)try{const l=o.decodeRow(t,r,s),u=l.getBarcodeFormat()===ue.EAN_13&&l.getText().charAt(0)==="0",d=s==null?null:s.get(Z.POSSIBLE_FORMATS),h=d==null||d.includes(ue.UPC_A);if(u&&h){const p=l.getRawBytes(),w=new Je(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),ue.UPC_A);return w.putAllMetadata(l.getResultMetadata()),w}return l}catch{}throw new Y}reset(){for(let t of this.readers)t.reset()}}class Mt extends ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let s=0;s<r.length;s++)if(ct.patternMatchVariance(t,r[s],Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return s;throw new Y}static count(t){return Te.sum(new Int32Array(t))}static increment(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]>o&&(o=r[l],s=l);t[s]++}static decrement(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]<o&&(o=r[l],s=l);t[s]--}static isFinderPattern(t){let r=t[0]+t[1],s=r+t[2]+t[3],o=r/s;if(o>=Mt.MIN_FINDER_PATTERN_RATIO&&o<=Mt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let d of t)d>u&&(u=d),d<l&&(l=d);return u<10*l}return!1}}Mt.MAX_AVG_VARIANCE=.2,Mt.MAX_INDIVIDUAL_VARIANCE=.45,Mt.MIN_FINDER_PATTERN_RATIO=9.5/12,Mt.MAX_FINDER_PATTERN_RATIO=12.5/14;class ci{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ci))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class uo{constructor(t,r,s,o,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new le(s,l)),this.resultPoints.push(new le(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof uo))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class kn{constructor(){}static getRSSvalue(t,r,s){let o=0;for(let h of t)o+=h;let l=0,u=0,d=t.length;for(let h=0;h<d-1;h++){let p;for(p=1,u|=1<<h;p<t[h];p++,u&=~(1<<h)){let w=kn.combins(o-p-1,d-h-2);if(s&&u===0&&o-p-(d-h-1)>=d-h-1&&(w-=kn.combins(o-p-(d-h),d-h-2)),d-h-1>1){let E=0;for(let A=o-p-(d-h-2);A>r;A--)E+=kn.combins(o-p-A-1,d-h-3);w-=E*(d-1-h)}else o-p>r&&w--;l+=w}o-=p}return l}static combins(t,r){let s,o;t-r>r?(o=r,s=t-r):(o=t-r,s=r);let l=1,u=1;for(let d=t;d>s;d--)l*=d,u<=o&&(l/=u,u++);for(;u<=o;)l/=u,u++;return l}}class bh{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let s=12*r,o=new U(s),l=0,d=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&o.set(l),l++;for(let h=1;h<t.length;++h){let p=t[h],w=p.getLeftChar().getValue();for(let E=11;E>=0;--E)w&1<<E&&o.set(l),l++;if(p.getRightChar()!=null){let E=p.getRightChar().getValue();for(let A=11;A>=0;--A)E&1<<A&&o.set(l),l++}}return o}}class Hr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Qa{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Ht extends Qa{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Ht.FNC1}}Ht.FNC1="$";class Vr extends Qa{constructor(t,r,s){super(t),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class dn extends Qa{constructor(t,r,s){if(super(t),r<0||r>10||s<0||s>10)throw new j;this.firstDigit=r,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===dn.FNC1}isSecondDigitFNC1(){return this.secondDigit===dn.FNC1}isAnyFNC1(){return this.firstDigit===dn.FNC1||this.secondDigit===dn.FNC1}}dn.FNC1=10;class ie{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new Y;let r=t.substring(0,2);for(let l of ie.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(2,l[2],t):ie.processFixedAI(2,l[1],t);if(t.length<3)throw new Y;let s=t.substring(0,3);for(let l of ie.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(3,l[2],t):ie.processFixedAI(3,l[1],t);for(let l of ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],t):ie.processFixedAI(4,l[1],t);if(t.length<4)throw new Y;let o=t.substring(0,4);for(let l of ie.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],t):ie.processFixedAI(4,l[1],t);throw new Y}static processFixedAI(t,r,s){if(s.length<t)throw new Y;let o=s.substring(0,t);if(s.length<t+r)throw new Y;let l=s.substring(t,t+r),u=s.substring(t+r),d="("+o+")"+l,h=ie.parseFieldsInGeneralPurpose(u);return h==null?d:d+h}static processVariableAI(t,r,s){let o=s.substring(0,t),l;s.length<t+r?l=s.length:l=t+r;let u=s.substring(t,l),d=s.substring(l),h="("+o+")"+u,p=ie.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}}ie.VARIABLE_LENGTH=[],ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ie.VARIABLE_LENGTH,20],["22",ie.VARIABLE_LENGTH,29],["30",ie.VARIABLE_LENGTH,8],["37",ie.VARIABLE_LENGTH,8],["90",ie.VARIABLE_LENGTH,30],["91",ie.VARIABLE_LENGTH,30],["92",ie.VARIABLE_LENGTH,30],["93",ie.VARIABLE_LENGTH,30],["94",ie.VARIABLE_LENGTH,30],["95",ie.VARIABLE_LENGTH,30],["96",ie.VARIABLE_LENGTH,30],["97",ie.VARIABLE_LENGTH,3],["98",ie.VARIABLE_LENGTH,30],["99",ie.VARIABLE_LENGTH,30]],ie.THREE_DIGIT_DATA_LENGTH=[["240",ie.VARIABLE_LENGTH,30],["241",ie.VARIABLE_LENGTH,30],["242",ie.VARIABLE_LENGTH,6],["250",ie.VARIABLE_LENGTH,30],["251",ie.VARIABLE_LENGTH,30],["253",ie.VARIABLE_LENGTH,17],["254",ie.VARIABLE_LENGTH,20],["400",ie.VARIABLE_LENGTH,30],["401",ie.VARIABLE_LENGTH,30],["402",17],["403",ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ie.VARIABLE_LENGTH,20],["421",ie.VARIABLE_LENGTH,15],["422",3],["423",ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ie.VARIABLE_LENGTH,15],["391",ie.VARIABLE_LENGTH,18],["392",ie.VARIABLE_LENGTH,15],["393",ie.VARIABLE_LENGTH,18],["703",ie.VARIABLE_LENGTH,30]],ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ie.VARIABLE_LENGTH,20],["8003",ie.VARIABLE_LENGTH,30],["8004",ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ie.VARIABLE_LENGTH,30],["8008",ie.VARIABLE_LENGTH,12],["8018",18],["8020",ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ie.VARIABLE_LENGTH,70],["8200",ie.VARIABLE_LENGTH,70]];class fi{constructor(t){this.buffer=new we,this.information=t}decodeAllCodes(t,r){let s=r,o=null;do{let l=this.decodeGeneralPurposeField(s,o),u=ie.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&t.append(u),l.isRemaining()?o=""+l.getRemainingValue():o=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new dn(this.information.getSize(),dn.FNC1,dn.FNC1):new dn(this.information.getSize(),l-1,dn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),s=(r-8)/11,o=(r-8)%11;return new dn(t+7,s,o)}extractNumericValueFromBitArray(t,r){return fi.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,s){let o=0;for(let l=0;l<s;++l)t.get(r+l)&&(o|=1<<s-l-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Vr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Vr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let s=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(s!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Vr(this.current.getPosition(),this.buffer.toString()):r=new Vr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Hr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Vr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Hr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Vr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Hr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Vr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Hr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ht(t+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<90)return new Ht(t+7,""+(s+1));if(s>=90&&s<116)return new Ht(t+7,""+(s+7));let o=this.extractNumericValueFromBitArray(t,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new j}return new Ht(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,6);return s>=16&&s<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ht(t+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,6);if(s>=32&&s<58)return new Ht(t+6,""+(s+33));let o;switch(s){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new Ln("Decoding invalid alphanumeric value: "+s)}return new Ht(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Za{constructor(t){this.information=t,this.generalDecoder=new fi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Vt extends Za{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let s=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,s)}encodeCompressedGtinWithoutAI(t,r,s){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Vt.appendCheckDigit(t,s)}static appendCheckDigit(t,r){let s=0;for(let o=0;o<13;o++){let l=t.charAt(o+r).charCodeAt(0)-48;s+=o&1?l:3*l}s=10-s%10,s===10&&(s=0),t.append(s)}}Vt.GTIN_SIZE=40;class di extends Vt{constructor(t){super(t)}parseInformation(){let t=new we;t.append("(01)");let r=t.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(di.HEADER_SIZE,4);return t.append(s),this.encodeCompressedGtinWithoutAI(t,di.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,di.HEADER_SIZE+44)}}di.HEADER_SIZE=4;class co extends Za{constructor(t){super(t)}parseInformation(){let t=new we;return this.getGeneralDecoder().decodeAllCodes(t,co.HEADER_SIZE)}}co.HEADER_SIZE=5;class fo extends Vt{constructor(t){super(t)}encodeCompressedWeight(t,r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,s);this.addWeightCode(t,o);let l=this.checkWeight(o),u=1e5;for(let d=0;d<5;++d)l/u===0&&t.append("0"),u/=10;t.append(l)}}class Bn extends fo{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Bn.HEADER_SIZE+fo.GTIN_SIZE+Bn.WEIGHT_SIZE)throw new Y;let t=new we;return this.encodeCompressedGtin(t,Bn.HEADER_SIZE),this.encodeCompressedWeight(t,Bn.HEADER_SIZE+fo.GTIN_SIZE,Bn.WEIGHT_SIZE),t.toString()}}Bn.HEADER_SIZE=5,Bn.WEIGHT_SIZE=15;class Oh extends Bn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class Dh extends Bn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Pn extends Vt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Pn.HEADER_SIZE+Vt.GTIN_SIZE)throw new Y;let t=new we;this.encodeCompressedGtin(t,Pn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Pn.HEADER_SIZE+Vt.GTIN_SIZE,Pn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Pn.HEADER_SIZE+Vt.GTIN_SIZE+Pn.LAST_DIGIT_SIZE,null);return t.append(s.getNewString()),t.toString()}}Pn.HEADER_SIZE=8,Pn.LAST_DIGIT_SIZE=2;class Bt extends Vt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Bt.HEADER_SIZE+Vt.GTIN_SIZE)throw new Y;let t=new we;this.encodeCompressedGtin(t,Bt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Bt.HEADER_SIZE+Vt.GTIN_SIZE,Bt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Bt.HEADER_SIZE+Vt.GTIN_SIZE+Bt.LAST_DIGIT_SIZE,Bt.FIRST_THREE_DIGITS_SIZE);s/100==0&&t.append("0"),s/10==0&&t.append("0"),t.append(s);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Bt.HEADER_SIZE+Vt.GTIN_SIZE+Bt.LAST_DIGIT_SIZE+Bt.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Bt.HEADER_SIZE=8,Bt.LAST_DIGIT_SIZE=2,Bt.FIRST_THREE_DIGITS_SIZE=10;class Ze extends fo{constructor(t,r,s){super(t),this.dateCode=s,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ze.HEADER_SIZE+Ze.GTIN_SIZE+Ze.WEIGHT_SIZE+Ze.DATE_SIZE)throw new Y;let t=new we;return this.encodeCompressedGtin(t,Ze.HEADER_SIZE),this.encodeCompressedWeight(t,Ze.HEADER_SIZE+Ze.GTIN_SIZE,Ze.WEIGHT_SIZE),this.encodeCompressedDate(t,Ze.HEADER_SIZE+Ze.GTIN_SIZE+Ze.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ze.DATE_SIZE);if(s==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=s%32;s/=32;let l=s%12+1;s/=12;let u=s;u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ze.HEADER_SIZE=8,Ze.WEIGHT_SIZE=20,Ze.DATE_SIZE=16;function Xc(C){try{if(C.get(1))return new di(C);if(!C.get(2))return new co(C);switch(fi.extractNumericValueFromBitArray(C,1,4)){case 4:return new Oh(C);case 5:return new Dh(C)}switch(fi.extractNumericValueFromBitArray(C,1,5)){case 12:return new Pn(C);case 13:return new Bt(C)}switch(fi.extractNumericValueFromBitArray(C,1,7)){case 56:return new Ze(C,"310","11");case 57:return new Ze(C,"320","11");case 58:return new Ze(C,"310","13");case 59:return new Ze(C,"320","13");case 60:return new Ze(C,"310","15");case 61:return new Ze(C,"320","15");case 62:return new Ze(C,"310","17");case 63:return new Ze(C,"320","17")}}catch(t){throw console.log(t),new Ln("unknown decoder: "+C)}}class fr{constructor(t,r,s,o){this.leftchar=t,this.rightchar=r,this.finderpattern=s,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof fr?fr.equalsOrNull(t.leftchar,r.leftchar)&&fr.equalsOrNull(t.rightchar,r.rightchar)&&fr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:fr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ka{constructor(t,r,s){this.pairs=t,this.rowNumber=r,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Ka?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let s;return t.forEach((o,l)=>{r.forEach(u=>{o.getLeftChar().getValue()===u.getLeftChar().getValue()&&o.getRightChar().getValue()===u.getRightChar().getValue()&&o.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(s=!0)})}),s}}class K extends Mt{constructor(t){super(...arguments),this.pairs=new Array(K.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,s){this.pairs.length=0,this.startFromEven=!1;try{return K.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,K.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof Y){if(!this.pairs.length)throw new Y;s=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new Y}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let s=r;s<this.rows.length;s++){let o=this.rows[s];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(o.getPairs()),!K.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(o);try{return this.checkRows(l,s+1)}catch(u){this.verbose&&console.log(u)}}throw new Y}static isValidSequence(t){for(let r of K.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let s=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){s=!1;break}if(s)return!0}return!1}storeRow(t,r){let s=0,o=!1,l=!1;for(;s<this.rows.length;){let u=this.rows[s];if(u.getRowNumber()>t){l=u.isEquivalent(this.pairs);break}o=u.isEquivalent(this.pairs),s++}l||o||K.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Ka(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let s of r)if(s.getPairs().length!==t.length){for(let o of s.getPairs())for(let l of t)if(fr.equals(o,l))break}}static isPartialRow(t,r){for(let s of r){let o=!0;for(let l of t){let u=!1;for(let d of s.getPairs())if(l.equals(d)){u=!0;break}if(!u){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=bh.buildBitArray(t),o=Xc(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],u[0],u[1]];return new Je(o,null,null,d,ue.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),s=t.getRightChar();if(s==null)return!1;let o=s.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);o+=h.getLeftChar().getChecksumPortion(),l++;let p=h.getRightChar();p!=null&&(o+=p.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(t,r){let s;return t.get(r)?(s=t.getNextUnset(r),s=t.getNextSet(s)):(s=t.getNextSet(r),s=t.getNextUnset(s)),s}retrieveNextPair(t,r,s){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,u=!0,d=-1;do this.findNextPair(t,r,d),l=this.parseFoundFinderPattern(t,s,o),l==null?d=K.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(t,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Y;let p;try{p=this.decodeDataCharacter(t,l,o,!1)}catch(w){p=null,this.verbose&&console.log(w)}return new fr(h,p,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u;s>=0?u=s:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;u<l&&(h=!t.get(u),!!h);)u++;let p=0,w=u;for(let E=u;E<l;E++)if(t.get(E)!=h)o[p]++;else{if(p==3){if(d&&K.reverseCounters(o),K.isFinderPattern(o)){this.startEnd[0]=w,this.startEnd[1]=E;return}d&&K.reverseCounters(o),w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,h=!h}throw new Y}static reverseCounters(t){let r=t.length;for(let s=0;s<r/2;++s){let o=t[s];t[s]=t[r-s-1],t[r-s-1]=o}}parseFoundFinderPattern(t,r,s){let o,l,u;if(s){let p=this.startEnd[0]-1;for(;p>=0&&!t.get(p);)p--;p++,o=this.startEnd[0]-p,l=p,u=this.startEnd[1]}else l=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),o=u-this.startEnd[1];let d=this.getDecodeFinderCounters();B.arraycopy(d,0,d,1,d.length-1),d[0]=o;let h;try{h=this.parseFinderValue(d,K.FINDER_PATTERNS)}catch{return null}return new uo(h,[l,u],l,u,r)}decodeDataCharacter(t,r,s,o){let l=this.getDataCharacterCounters();for(let je=0;je<l.length;je++)l[je]=0;if(o)K.recordPatternInReverse(t,r.getStartEnd()[0],l);else{K.recordPattern(t,r.getStartEnd()[1],l);for(let je=0,vt=l.length-1;je<vt;je++,vt--){let Jt=l[je];l[je]=l[vt],l[vt]=Jt}}let u=17,d=Te.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new Y;let p=this.getOddCounts(),w=this.getEvenCounts(),E=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let je=0;je<l.length;je++){let vt=1*l[je]/d,Jt=vt+.5;if(Jt<1){if(vt<.3)throw new Y;Jt=1}else if(Jt>8){if(vt>8.7)throw new Y;Jt=8}let mi=je/2;je&1?(w[mi]=Jt,A[mi]=vt-Jt):(p[mi]=Jt,E[mi]=vt-Jt)}this.adjustOddEvenCounts(u);let _=4*r.getValue()+(s?0:2)+(o?0:1)-1,O=0,D=0;for(let je=p.length-1;je>=0;je--){if(K.isNotA1left(r,s,o)){let vt=K.WEIGHTS[_][2*je];D+=p[je]*vt}O+=p[je]}let P=0;for(let je=w.length-1;je>=0;je--)if(K.isNotA1left(r,s,o)){let vt=K.WEIGHTS[_][2*je+1];P+=w[je]*vt}let V=D+P;if(O&1||O>13||O<4)throw new Y;let $=(13-O)/2,ee=K.SYMBOL_WIDEST[$],q=9-ee,Ie=kn.getRSSvalue(p,ee,!0),ye=kn.getRSSvalue(w,q,!1),Gt=K.EVEN_TOTAL_SUBSET[$],vn=K.GSUM[$],Yt=Ie*Gt+ye+vn;return new ci(Yt,V)}static isNotA1left(t,r,s){return!(t.getValue()==0&&r&&s)}adjustOddEvenCounts(t){let r=Te.sum(new Int32Array(this.getOddCounts())),s=Te.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let u=!1,d=!1;s>13?d=!0:s<4&&(u=!0);let h=r+s-t,p=(r&1)==1,w=(s&1)==0;if(h==1)if(p){if(w)throw new Y;l=!0}else{if(!w)throw new Y;d=!0}else if(h==-1)if(p){if(w)throw new Y;o=!0}else{if(!w)throw new Y;u=!0}else if(h==0){if(p){if(!w)throw new Y;r<s?(o=!0,d=!0):(l=!0,u=!0)}else if(w)throw new Y}else throw new Y;if(o){if(l)throw new Y;K.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&K.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new Y;K.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&K.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}K.SYMBOL_WIDEST=[7,5,4,3,1],K.EVEN_TOTAL_SUBSET=[4,20,52,104,204],K.GSUM=[0,348,1388,2948,3988],K.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],K.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],K.FINDER_PAT_A=0,K.FINDER_PAT_B=1,K.FINDER_PAT_C=2,K.FINDER_PAT_D=3,K.FINDER_PAT_E=4,K.FINDER_PAT_F=5,K.FINDER_PATTERN_SEQUENCES=[[K.FINDER_PAT_A,K.FINDER_PAT_A],[K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B],[K.FINDER_PAT_A,K.FINDER_PAT_C,K.FINDER_PAT_B,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_C],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F]],K.MAX_PAIRS=11;class Lh extends ci{constructor(t,r,s){super(t,r),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class it extends Mt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,s){const o=this.decodePair(r,!1,t,s);it.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,t,s);it.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&it.checkChecksum(u,d))return it.constructResult(u,d)}throw new Y}static addOrTally(t,r){if(r==null)return;let s=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),s=!0;break}s||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let s=4537077*t.getValue()+r.getValue(),o=new String(s).toString(),l=new we;for(let p=13-o.length;p>0;p--)l.append("0");l.append(o);let u=0;for(let p=0;p<13;p++){let w=l.charAt(p).charCodeAt(0)-48;u+=p&1?w:3*w}u=10-u%10,u===10&&(u=0),l.append(u.toString());let d=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new Je(l.toString(),null,0,[d[0],d[1],h[0],h[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(t,r){let s=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,s===o}decodePair(t,r,s,o){try{let l=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,s,r,l),d=o==null?null:o.get(Z.NEED_RESULT_POINT_CALLBACK);if(d!=null){let w=(l[0]+l[1])/2;r&&(w=t.getSize()-1-w),d.foundPossibleResultPoint(new le(w,s))}let h=this.decodeDataCharacter(t,u,!0),p=this.decodeDataCharacter(t,u,!1);return new Lh(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,s){let o=this.getDataCharacterCounters();for(let P=0;P<o.length;P++)o[P]=0;if(s)ct.recordPatternInReverse(t,r.getStartEnd()[0],o);else{ct.recordPattern(t,r.getStartEnd()[1]+1,o);for(let P=0,V=o.length-1;P<V;P++,V--){let $=o[P];o[P]=o[V],o[V]=$}}let l=s?16:15,u=Te.sum(new Int32Array(o))/l,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let P=0;P<o.length;P++){let V=o[P]/u,$=Math.floor(V+.5);$<1?$=1:$>8&&($=8);let ee=Math.floor(P/2);P&1?(h[ee]=$,w[ee]=V-$):(d[ee]=$,p[ee]=V-$)}this.adjustOddEvenCounts(s,l);let E=0,A=0;for(let P=d.length-1;P>=0;P--)A*=9,A+=d[P],E+=d[P];let _=0,O=0;for(let P=h.length-1;P>=0;P--)_*=9,_+=h[P],O+=h[P];let D=A+3*_;if(s){if(E&1||E>12||E<4)throw new Y;let P=(12-E)/2,V=it.OUTSIDE_ODD_WIDEST[P],$=9-V,ee=kn.getRSSvalue(d,V,!1),q=kn.getRSSvalue(h,$,!0),Ie=it.OUTSIDE_EVEN_TOTAL_SUBSET[P],ye=it.OUTSIDE_GSUM[P];return new ci(ee*Ie+q+ye,D)}else{if(O&1||O>10||O<4)throw new Y;let P=(10-O)/2,V=it.INSIDE_ODD_WIDEST[P],$=9-V,ee=kn.getRSSvalue(d,V,!0),q=kn.getRSSvalue(h,$,!1),Ie=it.INSIDE_ODD_TOTAL_SUBSET[P],ye=it.INSIDE_GSUM[P];return new ci(q*Ie+ee+ye,D)}}findFinderPattern(t,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),l=!1,u=0;for(;u<o&&(l=!t.get(u),r!==l);)u++;let d=0,h=u;for(let p=u;p<o;p++)if(t.get(p)!==l)s[d]++;else{if(d===3){if(Mt.isFinderPattern(s))return[h,p];h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,l=!l}throw new Y}parseFoundFinderPattern(t,r,s,o){let l=t.get(o[0]),u=o[0]-1;for(;u>=0&&l!==t.get(u);)u--;u++;const d=o[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);B.arraycopy(h,0,p,1,h.length-1),p[0]=d;const w=this.parseFinderValue(p,it.FINDER_PATTERNS);let E=u,A=o[1];return s&&(E=t.getSize()-1-E,A=t.getSize()-1-A),new uo(w,[u,o[1]],E,A,r)}adjustOddEvenCounts(t,r){let s=Te.sum(new Int32Array(this.getOddCounts())),o=Te.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,d=!1,h=!1;t?(s>12?u=!0:s<4&&(l=!0),o>12?h=!0:o<4&&(d=!0)):(s>11?u=!0:s<5&&(l=!0),o>10?h=!0:o<4&&(d=!0));let p=s+o-r,w=(s&1)===(t?1:0),E=(o&1)===1;if(p===1)if(w){if(E)throw new Y;u=!0}else{if(!E)throw new Y;h=!0}else if(p===-1)if(w){if(E)throw new Y;l=!0}else{if(!E)throw new Y;d=!0}else if(p===0){if(w){if(!E)throw new Y;s<o?(l=!0,h=!0):(u=!0,d=!0)}else if(E)throw new Y}else throw new Y;if(l){if(u)throw new Y;Mt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Mt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new Y;Mt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Mt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],it.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],it.OUTSIDE_GSUM=[0,161,961,2015,2715],it.INSIDE_GSUM=[0,336,1036,1516],it.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],it.INSIDE_ODD_WIDEST=[2,4,6,8],it.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class hi extends ct{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const s=t?t.get(Z.POSSIBLE_FORMATS):null,o=t&&t.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ue.EAN_13)||s.includes(ue.UPC_A)||s.includes(ue.EAN_8)||s.includes(ue.UPC_E))&&this.readers.push(new Xa(t)),s.includes(ue.CODE_39)&&this.readers.push(new dt(o)),s.includes(ue.CODE_128)&&this.readers.push(new te),s.includes(ue.ITF)&&this.readers.push(new Fe),s.includes(ue.RSS_14)&&this.readers.push(new it),s.includes(ue.RSS_EXPANDED)&&this.readers.push(new K(this.verbose))):(this.readers.push(new Xa(t)),this.readers.push(new dt),this.readers.push(new Xa(t)),this.readers.push(new te),this.readers.push(new Fe),this.readers.push(new it),this.readers.push(new K(this.verbose)))}decodeRow(t,r,s){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,s)}catch{}throw new Y}reset(){this.readers.forEach(t=>t.reset())}}class kh extends fn{constructor(t=500,r){super(new hi(r),t,r)}}class Oe{constructor(t,r,s){this.ecCodewords=t,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class be{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ve{constructor(t,r,s,o,l,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=u;let d=0;const h=u.getECCodewords(),p=u.getECBlocks();for(let w of p)d+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new j;for(let s of ve.VERSIONS)if(s.symbolSizeRows===t&&s.symbolSizeColumns===r)return s;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new ve(1,10,10,8,8,new Oe(5,new be(1,3))),new ve(2,12,12,10,10,new Oe(7,new be(1,5))),new ve(3,14,14,12,12,new Oe(10,new be(1,8))),new ve(4,16,16,14,14,new Oe(12,new be(1,12))),new ve(5,18,18,16,16,new Oe(14,new be(1,18))),new ve(6,20,20,18,18,new Oe(18,new be(1,22))),new ve(7,22,22,20,20,new Oe(20,new be(1,30))),new ve(8,24,24,22,22,new Oe(24,new be(1,36))),new ve(9,26,26,24,24,new Oe(28,new be(1,44))),new ve(10,32,32,14,14,new Oe(36,new be(1,62))),new ve(11,36,36,16,16,new Oe(42,new be(1,86))),new ve(12,40,40,18,18,new Oe(48,new be(1,114))),new ve(13,44,44,20,20,new Oe(56,new be(1,144))),new ve(14,48,48,22,22,new Oe(68,new be(1,174))),new ve(15,52,52,24,24,new Oe(42,new be(2,102))),new ve(16,64,64,14,14,new Oe(56,new be(2,140))),new ve(17,72,72,16,16,new Oe(36,new be(4,92))),new ve(18,80,80,18,18,new Oe(48,new be(4,114))),new ve(19,88,88,20,20,new Oe(56,new be(4,144))),new ve(20,96,96,22,22,new Oe(68,new be(4,174))),new ve(21,104,104,24,24,new Oe(56,new be(6,136))),new ve(22,120,120,18,18,new Oe(68,new be(6,175))),new ve(23,132,132,20,20,new Oe(62,new be(8,163))),new ve(24,144,144,22,22,new Oe(62,new be(8,156),new be(2,155))),new ve(25,8,18,6,16,new Oe(7,new be(1,5))),new ve(26,8,32,6,14,new Oe(11,new be(1,10))),new ve(27,12,26,10,24,new Oe(14,new be(1,16))),new ve(28,12,36,10,16,new Oe(18,new be(1,22))),new ve(29,16,36,14,16,new Oe(24,new be(1,32))),new ve(30,16,48,14,22,new Oe(28,new be(1,49)))]}}ve.VERSIONS=ve.buildVersions();class qa{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new j;this.version=qa.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ke(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),s=t.getWidth();return ve.getVersionForDimensions(r,s)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,s=4,o=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let d=!1,h=!1,p=!1,w=!1;do if(s===l&&o===0&&!d)t[r++]=this.readCorner1(l,u)&255,s-=2,o+=2,d=!0;else if(s===l-2&&o===0&&u&3&&!h)t[r++]=this.readCorner2(l,u)&255,s-=2,o+=2,h=!0;else if(s===l+4&&o===2&&!(u&7)&&!p)t[r++]=this.readCorner3(l,u)&255,s-=2,o+=2,p=!0;else if(s===l-2&&o===0&&(u&7)===4&&!w)t[r++]=this.readCorner4(l,u)&255,s-=2,o+=2,w=!0;else{do s<l&&o>=0&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,u)&255),s-=2,o+=2;while(s>=0&&o<u);s+=1,o+=3;do s>=0&&o<u&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,u)&255),s+=2,o-=2;while(s<l&&o>=0);s+=3,o+=1}while(s<l||o<u);if(r!==this.version.getTotalCodewords())throw new j;return t}readModule(t,r,s,o){return t<0&&(t+=s,r+=4-(s+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,s,o){let l=0;return this.readModule(t-2,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-2,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r,s,o)&&(l|=1),l<<=1,this.readModule(t,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t,r,s,o)&&(l|=1),l}readCorner1(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,1,t,r)&&(s|=1),s<<=1,this.readModule(t-1,2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}readCorner2(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-4,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner3(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-3,t,r)&&(s|=1),s<<=1,this.readModule(1,r-2,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner4(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new S("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/o|0,d=s/l|0,h=u*o,p=d*l,w=new ke(p,h);for(let E=0;E<u;++E){const A=E*o;for(let _=0;_<d;++_){const O=_*l;for(let D=0;D<o;++D){const P=E*(o+2)+1+D,V=A+D;for(let $=0;$<l;++$){const ee=_*(l+2)+1+$;if(t.get(ee,P)){const q=O+$;w.set(q,V)}}}}}return w}}class Ja{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const s=r.getECBlocks();let o=0;const l=s.getECBlocks();for(let D of l)o+=D.getCount();const u=new Array(o);let d=0;for(let D of l)for(let P=0;P<D.getCount();P++){const V=D.getDataCodewords(),$=s.getECCodewords()+V;u[d++]=new Ja(V,new Uint8Array($))}const p=u[0].codewords.length-s.getECCodewords(),w=p-1;let E=0;for(let D=0;D<w;D++)for(let P=0;P<d;P++)u[P].codewords[D]=t[E++];const A=r.getVersionNumber()===24,_=A?8:d;for(let D=0;D<_;D++)u[D].codewords[p-1]=t[E++];const O=u[0].codewords.length;for(let D=p;D<O;D++)for(let P=0;P<d;P++){const V=A?(P+8)%d:P,$=A&&V>7?D-1:D;u[V].codewords[$]=t[E++]}if(E!==t.length)throw new S;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class $a{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new S(""+t);let r=0,s=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(s>0){const u=8-s,d=t<u?t:u,h=u-d,p=255>>8-d<<h;r=(l[o]&p)>>h,t-=d,s+=d,s===8&&(s=0,o++)}if(t>0){for(;t>=8;)r=r<<8|l[o]&255,o++,t-=8;if(t>0){const u=8-t,d=255>>u<<u;r=r<<t|(l[o]&d)>>u,s+=t}}return this.bitOffset=s,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ht;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(ht||(ht={}));class dr{static decode(t){const r=new $a(t),s=new we,o=new we,l=new Array;let u=ht.ASCII_ENCODE;do if(u===ht.ASCII_ENCODE)u=this.decodeAsciiSegment(r,s,o);else{switch(u){case ht.C40_ENCODE:this.decodeC40Segment(r,s);break;case ht.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case ht.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case ht.BASE256_ENCODE:this.decodeBase256Segment(r,s,l);break;default:throw new j}u=ht.ASCII_ENCODE}while(u!==ht.PAD_ENCODE&&r.available()>0);return o.length()>0&&s.append(o.toString()),new qi(t,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,s){let o=!1;do{let l=t.readBits(8);if(l===0)throw new j;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),ht.ASCII_ENCODE;if(l===129)return ht.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return ht.C40_ENCODE;case 231:return ht.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return ht.ANSIX12_ENCODE;case 239:return ht.TEXT_ENCODE;case 240:return ht.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new j;break}}while(t.available()>0);return ht.ASCII_ENCODE}static decodeC40Segment(t,r){let s=!1;const o=[];let l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else throw new j;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new j}l=0;break;case 3:s?(r.append(String.fromCharCode(h+224)),s=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new j}}}while(t.available()>0)}static decodeTextSegment(t,r){let s=!1,o=[],l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else throw new j;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new j}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p),l=0}else throw new j;break;default:throw new j}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const s=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),s);for(let l=0;l<3;l++){const u=s[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new j;break}}}while(t.available()>0)}static parseTwoBytes(t,r,s){let o=(t<<8)+r-1,l=Math.floor(o/1600);s[0]=l,o-=l*1600,l=Math.floor(o/40),s[1]=l,s[2]=o-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let s=0;s<4;s++){let o=t.readBits(6);if(o===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,s){let o=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),o++);let u;if(l===0?u=t.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(t.readBits(8),o++),u<0)throw new j;const d=new Uint8Array(u);for(let h=0;h<u;h++){if(t.available()<8)throw new j;d[h]=this.unrandomize255State(t.readBits(8),o++)}s.push(d);try{r.append(ce.decode(d,ne.ISO88591))}catch(h){throw new Ln("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const s=149*r%255+1,o=t-s;return o>=0?o:o+256}}dr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],dr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],dr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],dr.TEXT_SHIFT2_SET_CHARS=dr.C40_SHIFT2_SET_CHARS,dr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Bh{constructor(){this.rsDecoder=new $i(Me.DATA_MATRIX_FIELD_256)}decode(t){const r=new qa(t),s=r.getVersion(),o=r.readCodewords(),l=Ja.getDataBlocks(o,s);let u=0;for(let p of l)u+=p.getNumDataCodewords();const d=new Uint8Array(u),h=l.length;for(let p=0;p<h;p++){const w=l[p],E=w.getCodewords(),A=w.getNumDataCodewords();this.correctErrors(E,A);for(let _=0;_<A;_++)d[_*h+p]=E[_]}return dr.decode(d)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new L}for(let o=0;o<r;o++)t[o]=s[o]}}class lt{constructor(t){this.image=t,this.rectangleDetector=new Qn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Y;r=this.shiftToModuleCenter(r);const s=r[0],o=r[1],l=r[2],u=r[3];let d=this.transitionsBetween(s,u)+1,h=this.transitionsBetween(l,u)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let p=lt.sampleGrid(this.image,s,o,l,u,d,h);return new ao(p,[s,o,l,u])}static shiftPoint(t,r,s){let o=(r.getX()-t.getX())/(s+1),l=(r.getY()-t.getY())/(s+1);return new le(t.getX()+o,t.getY()+l)}static moveAway(t,r,s){let o=t.getX(),l=t.getY();return o<r?o-=1:o+=1,l<s?l-=1:l+=1,new le(o,l)}detectSolid1(t){let r=t[0],s=t[1],o=t[3],l=t[2],u=this.transitionsBetween(r,s),d=this.transitionsBetween(s,o),h=this.transitionsBetween(o,l),p=this.transitionsBetween(l,r),w=u,E=[l,r,s,o];return w>d&&(w=d,E[0]=r,E[1]=s,E[2]=o,E[3]=l),w>h&&(w=h,E[0]=s,E[1]=o,E[2]=l,E[3]=r),w>p&&(E[0]=o,E[1]=l,E[2]=r,E[3]=s),E}detectSolid2(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),d=lt.shiftPoint(s,o,(u+1)*4),h=lt.shiftPoint(o,s,(u+1)*4),p=this.transitionsBetween(d,r),w=this.transitionsBetween(h,l);return p<w?(t[0]=r,t[1]=s,t[2]=o,t[3]=l):(t[0]=s,t[1]=o,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),d=this.transitionsBetween(s,l),h=lt.shiftPoint(r,s,(d+1)*4),p=lt.shiftPoint(o,s,(u+1)*4);u=this.transitionsBetween(h,l),d=this.transitionsBetween(p,l);let w=new le(l.getX()+(o.getX()-s.getX())/(u+1),l.getY()+(o.getY()-s.getY())/(u+1)),E=new le(l.getX()+(r.getX()-s.getX())/(d+1),l.getY()+(r.getY()-s.getY())/(d+1));if(!this.isValid(w))return this.isValid(E)?E:null;if(!this.isValid(E))return w;let A=this.transitionsBetween(h,w)+this.transitionsBetween(p,w),_=this.transitionsBetween(h,E)+this.transitionsBetween(p,E);return A>_?w:E}shiftToModuleCenter(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(o,l)+1,h=lt.shiftPoint(r,s,d*4),p=lt.shiftPoint(o,s,u*4);u=this.transitionsBetween(h,l)+1,d=this.transitionsBetween(p,l)+1,(u&1)===1&&(u+=1),(d&1)===1&&(d+=1);let w=(r.getX()+s.getX()+o.getX()+l.getX())/4,E=(r.getY()+s.getY()+o.getY()+l.getY())/4;r=lt.moveAway(r,w,E),s=lt.moveAway(s,w,E),o=lt.moveAway(o,w,E),l=lt.moveAway(l,w,E);let A,_;return h=lt.shiftPoint(r,s,d*4),h=lt.shiftPoint(h,l,u*4),A=lt.shiftPoint(s,r,d*4),A=lt.shiftPoint(A,o,u*4),p=lt.shiftPoint(o,l,d*4),p=lt.shiftPoint(p,s,u*4),_=lt.shiftPoint(l,o,d*4),_=lt.shiftPoint(_,r,u*4),[h,A,p,_]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,s,o,l,u,d){return cr.getInstance().sampleGrid(t,u,d,.5,.5,u-.5,.5,u-.5,d-.5,.5,d-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),s.getX(),s.getY())}transitionsBetween(t,r){let s=Math.trunc(t.getX()),o=Math.trunc(t.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),d=Math.abs(u-o)>Math.abs(l-s);if(d){let D=s;s=o,o=D,D=l,l=u,u=D}let h=Math.abs(l-s),p=Math.abs(u-o),w=-h/2,E=o<u?1:-1,A=s<l?1:-1,_=0,O=this.image.get(d?o:s,d?s:o);for(let D=s,P=o;D!==l;D+=A){let V=this.image.get(d?P:D,d?D:P);if(V!==O&&(_++,O=V),w+=p,w>0){if(P===u)break;P+=E,w-=h}}return _}}class hr{constructor(){this.decoder=new Bh}decode(t,r=null){let s,o;if(r!=null&&r.has(Z.PURE_BARCODE)){const p=hr.extractPureBits(t.getBlackMatrix());s=this.decoder.decode(p),o=hr.NO_POINTS}else{const p=new lt(t.getBlackMatrix()).detect();s=this.decoder.decode(p.getBits()),o=p.getPoints()}const l=s.getRawBytes(),u=new Je(s.getText(),l,8*l.length,o,ue.DATA_MATRIX,B.currentTimeMillis()),d=s.getByteSegments();d!=null&&u.putMetadata(mt.BYTE_SEGMENTS,d);const h=s.getECLevel();return h!=null&&u.putMetadata(mt.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r==null||s==null)throw new Y;const o=this.moduleSize(r,t);let l=r[1];const u=s[1];let d=r[0];const p=(s[0]-d+1)/o,w=(u-l+1)/o;if(p<=0||w<=0)throw new Y;const E=o/2;l+=E,d+=E;const A=new ke(p,w);for(let _=0;_<w;_++){const O=l+_*o;for(let D=0;D<p;D++)t.get(d+D*o,O)&&A.set(D,_)}return A}static moduleSize(t,r){const s=r.getWidth();let o=t[0];const l=t[1];for(;o<s&&r.get(o,l);)o++;if(o===s)throw new Y;const u=o-t[0];if(u===0)throw new Y;return u}}hr.NO_POINTS=[];class Ph extends fn{constructor(t=500){super(new hr,t)}}var gi;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(gi||(gi={}));class He{constructor(t,r,s){this.value=t,this.stringValue=r,this.bits=s,He.FOR_BITS.set(s,this),He.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return He.L;case"M":return He.M;case"Q":return He.Q;case"H":return He.H;default:throw new I(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof He))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=He.FOR_BITS.size)throw new S;return He.FOR_BITS.get(t)}}He.FOR_BITS=new Map,He.FOR_VALUE=new Map,He.L=new He(gi.L,"L",1),He.M=new He(gi.M,"M",0),He.Q=new He(gi.Q,"Q",3),He.H=new He(gi.H,"H",2);class Rt{constructor(t){this.errorCorrectionLevel=He.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return v.bitCount(t^r)}static decodeFormatInformation(t,r){const s=Rt.doDecodeFormatInformation(t,r);return s!==null?s:Rt.doDecodeFormatInformation(t^Rt.FORMAT_INFO_MASK_QR,r^Rt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let s=Number.MAX_SAFE_INTEGER,o=0;for(const l of Rt.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===t||u===r)return new Rt(l[1]);let d=Rt.numBitsDiffering(t,u);d<s&&(o=l[1],s=d),t!==r&&(d=Rt.numBitsDiffering(r,u),d<s&&(o=l[1],s=d))}return s<=3?new Rt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Rt))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Rt.FORMAT_INFO_MASK_QR=21522,Rt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class F{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const s of r)t+=s.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class N{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class fe{constructor(t,r,...s){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=s;let o=0;const l=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();for(const d of u)o+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new j;try{return this.getVersionForNumber((t-17)/4)}catch{throw new j}}static getVersionForNumber(t){if(t<1||t>40)throw new S;return fe.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,s=0;for(let o=0;o<fe.VERSION_DECODE_INFO.length;o++){const l=fe.VERSION_DECODE_INFO[o];if(l===t)return fe.getVersionForNumber(o+7);const u=Rt.numBitsDiffering(t,l);u<r&&(s=o+7,r=u)}return r<=3?fe.getVersionForNumber(s):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new ke(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const s=this.alignmentPatternCenters.length;for(let o=0;o<s;o++){const l=this.alignmentPatternCenters[o]-2;for(let u=0;u<s;u++)o===0&&(u===0||u===s-1)||o===s-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}fe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),fe.VERSIONS=[new fe(1,new Int32Array(0),new F(7,new N(1,19)),new F(10,new N(1,16)),new F(13,new N(1,13)),new F(17,new N(1,9))),new fe(2,Int32Array.from([6,18]),new F(10,new N(1,34)),new F(16,new N(1,28)),new F(22,new N(1,22)),new F(28,new N(1,16))),new fe(3,Int32Array.from([6,22]),new F(15,new N(1,55)),new F(26,new N(1,44)),new F(18,new N(2,17)),new F(22,new N(2,13))),new fe(4,Int32Array.from([6,26]),new F(20,new N(1,80)),new F(18,new N(2,32)),new F(26,new N(2,24)),new F(16,new N(4,9))),new fe(5,Int32Array.from([6,30]),new F(26,new N(1,108)),new F(24,new N(2,43)),new F(18,new N(2,15),new N(2,16)),new F(22,new N(2,11),new N(2,12))),new fe(6,Int32Array.from([6,34]),new F(18,new N(2,68)),new F(16,new N(4,27)),new F(24,new N(4,19)),new F(28,new N(4,15))),new fe(7,Int32Array.from([6,22,38]),new F(20,new N(2,78)),new F(18,new N(4,31)),new F(18,new N(2,14),new N(4,15)),new F(26,new N(4,13),new N(1,14))),new fe(8,Int32Array.from([6,24,42]),new F(24,new N(2,97)),new F(22,new N(2,38),new N(2,39)),new F(22,new N(4,18),new N(2,19)),new F(26,new N(4,14),new N(2,15))),new fe(9,Int32Array.from([6,26,46]),new F(30,new N(2,116)),new F(22,new N(3,36),new N(2,37)),new F(20,new N(4,16),new N(4,17)),new F(24,new N(4,12),new N(4,13))),new fe(10,Int32Array.from([6,28,50]),new F(18,new N(2,68),new N(2,69)),new F(26,new N(4,43),new N(1,44)),new F(24,new N(6,19),new N(2,20)),new F(28,new N(6,15),new N(2,16))),new fe(11,Int32Array.from([6,30,54]),new F(20,new N(4,81)),new F(30,new N(1,50),new N(4,51)),new F(28,new N(4,22),new N(4,23)),new F(24,new N(3,12),new N(8,13))),new fe(12,Int32Array.from([6,32,58]),new F(24,new N(2,92),new N(2,93)),new F(22,new N(6,36),new N(2,37)),new F(26,new N(4,20),new N(6,21)),new F(28,new N(7,14),new N(4,15))),new fe(13,Int32Array.from([6,34,62]),new F(26,new N(4,107)),new F(22,new N(8,37),new N(1,38)),new F(24,new N(8,20),new N(4,21)),new F(22,new N(12,11),new N(4,12))),new fe(14,Int32Array.from([6,26,46,66]),new F(30,new N(3,115),new N(1,116)),new F(24,new N(4,40),new N(5,41)),new F(20,new N(11,16),new N(5,17)),new F(24,new N(11,12),new N(5,13))),new fe(15,Int32Array.from([6,26,48,70]),new F(22,new N(5,87),new N(1,88)),new F(24,new N(5,41),new N(5,42)),new F(30,new N(5,24),new N(7,25)),new F(24,new N(11,12),new N(7,13))),new fe(16,Int32Array.from([6,26,50,74]),new F(24,new N(5,98),new N(1,99)),new F(28,new N(7,45),new N(3,46)),new F(24,new N(15,19),new N(2,20)),new F(30,new N(3,15),new N(13,16))),new fe(17,Int32Array.from([6,30,54,78]),new F(28,new N(1,107),new N(5,108)),new F(28,new N(10,46),new N(1,47)),new F(28,new N(1,22),new N(15,23)),new F(28,new N(2,14),new N(17,15))),new fe(18,Int32Array.from([6,30,56,82]),new F(30,new N(5,120),new N(1,121)),new F(26,new N(9,43),new N(4,44)),new F(28,new N(17,22),new N(1,23)),new F(28,new N(2,14),new N(19,15))),new fe(19,Int32Array.from([6,30,58,86]),new F(28,new N(3,113),new N(4,114)),new F(26,new N(3,44),new N(11,45)),new F(26,new N(17,21),new N(4,22)),new F(26,new N(9,13),new N(16,14))),new fe(20,Int32Array.from([6,34,62,90]),new F(28,new N(3,107),new N(5,108)),new F(26,new N(3,41),new N(13,42)),new F(30,new N(15,24),new N(5,25)),new F(28,new N(15,15),new N(10,16))),new fe(21,Int32Array.from([6,28,50,72,94]),new F(28,new N(4,116),new N(4,117)),new F(26,new N(17,42)),new F(28,new N(17,22),new N(6,23)),new F(30,new N(19,16),new N(6,17))),new fe(22,Int32Array.from([6,26,50,74,98]),new F(28,new N(2,111),new N(7,112)),new F(28,new N(17,46)),new F(30,new N(7,24),new N(16,25)),new F(24,new N(34,13))),new fe(23,Int32Array.from([6,30,54,78,102]),new F(30,new N(4,121),new N(5,122)),new F(28,new N(4,47),new N(14,48)),new F(30,new N(11,24),new N(14,25)),new F(30,new N(16,15),new N(14,16))),new fe(24,Int32Array.from([6,28,54,80,106]),new F(30,new N(6,117),new N(4,118)),new F(28,new N(6,45),new N(14,46)),new F(30,new N(11,24),new N(16,25)),new F(30,new N(30,16),new N(2,17))),new fe(25,Int32Array.from([6,32,58,84,110]),new F(26,new N(8,106),new N(4,107)),new F(28,new N(8,47),new N(13,48)),new F(30,new N(7,24),new N(22,25)),new F(30,new N(22,15),new N(13,16))),new fe(26,Int32Array.from([6,30,58,86,114]),new F(28,new N(10,114),new N(2,115)),new F(28,new N(19,46),new N(4,47)),new F(28,new N(28,22),new N(6,23)),new F(30,new N(33,16),new N(4,17))),new fe(27,Int32Array.from([6,34,62,90,118]),new F(30,new N(8,122),new N(4,123)),new F(28,new N(22,45),new N(3,46)),new F(30,new N(8,23),new N(26,24)),new F(30,new N(12,15),new N(28,16))),new fe(28,Int32Array.from([6,26,50,74,98,122]),new F(30,new N(3,117),new N(10,118)),new F(28,new N(3,45),new N(23,46)),new F(30,new N(4,24),new N(31,25)),new F(30,new N(11,15),new N(31,16))),new fe(29,Int32Array.from([6,30,54,78,102,126]),new F(30,new N(7,116),new N(7,117)),new F(28,new N(21,45),new N(7,46)),new F(30,new N(1,23),new N(37,24)),new F(30,new N(19,15),new N(26,16))),new fe(30,Int32Array.from([6,26,52,78,104,130]),new F(30,new N(5,115),new N(10,116)),new F(28,new N(19,47),new N(10,48)),new F(30,new N(15,24),new N(25,25)),new F(30,new N(23,15),new N(25,16))),new fe(31,Int32Array.from([6,30,56,82,108,134]),new F(30,new N(13,115),new N(3,116)),new F(28,new N(2,46),new N(29,47)),new F(30,new N(42,24),new N(1,25)),new F(30,new N(23,15),new N(28,16))),new fe(32,Int32Array.from([6,34,60,86,112,138]),new F(30,new N(17,115)),new F(28,new N(10,46),new N(23,47)),new F(30,new N(10,24),new N(35,25)),new F(30,new N(19,15),new N(35,16))),new fe(33,Int32Array.from([6,30,58,86,114,142]),new F(30,new N(17,115),new N(1,116)),new F(28,new N(14,46),new N(21,47)),new F(30,new N(29,24),new N(19,25)),new F(30,new N(11,15),new N(46,16))),new fe(34,Int32Array.from([6,34,62,90,118,146]),new F(30,new N(13,115),new N(6,116)),new F(28,new N(14,46),new N(23,47)),new F(30,new N(44,24),new N(7,25)),new F(30,new N(59,16),new N(1,17))),new fe(35,Int32Array.from([6,30,54,78,102,126,150]),new F(30,new N(12,121),new N(7,122)),new F(28,new N(12,47),new N(26,48)),new F(30,new N(39,24),new N(14,25)),new F(30,new N(22,15),new N(41,16))),new fe(36,Int32Array.from([6,24,50,76,102,128,154]),new F(30,new N(6,121),new N(14,122)),new F(28,new N(6,47),new N(34,48)),new F(30,new N(46,24),new N(10,25)),new F(30,new N(2,15),new N(64,16))),new fe(37,Int32Array.from([6,28,54,80,106,132,158]),new F(30,new N(17,122),new N(4,123)),new F(28,new N(29,46),new N(14,47)),new F(30,new N(49,24),new N(10,25)),new F(30,new N(24,15),new N(46,16))),new fe(38,Int32Array.from([6,32,58,84,110,136,162]),new F(30,new N(4,122),new N(18,123)),new F(28,new N(13,46),new N(32,47)),new F(30,new N(48,24),new N(14,25)),new F(30,new N(42,15),new N(32,16))),new fe(39,Int32Array.from([6,26,54,82,110,138,166]),new F(30,new N(20,117),new N(4,118)),new F(28,new N(40,47),new N(7,48)),new F(30,new N(43,24),new N(22,25)),new F(30,new N(10,15),new N(67,16))),new fe(40,Int32Array.from([6,30,58,86,114,142,170]),new F(30,new N(19,118),new N(6,119)),new F(28,new N(18,47),new N(31,48)),new F(30,new N(34,24),new N(34,25)),new F(30,new N(20,15),new N(61,16)))];var wt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(wt||(wt={}));class hn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let s=0;s<r;s++)for(let o=0;o<r;o++)this.isMasked(s,o)&&t.flip(o,s)}}hn.values=new Map([[wt.DATA_MASK_000,new hn(wt.DATA_MASK_000,(C,t)=>(C+t&1)===0)],[wt.DATA_MASK_001,new hn(wt.DATA_MASK_001,(C,t)=>(C&1)===0)],[wt.DATA_MASK_010,new hn(wt.DATA_MASK_010,(C,t)=>t%3===0)],[wt.DATA_MASK_011,new hn(wt.DATA_MASK_011,(C,t)=>(C+t)%3===0)],[wt.DATA_MASK_100,new hn(wt.DATA_MASK_100,(C,t)=>(Math.floor(C/2)+Math.floor(t/3)&1)===0)],[wt.DATA_MASK_101,new hn(wt.DATA_MASK_101,(C,t)=>C*t%6===0)],[wt.DATA_MASK_110,new hn(wt.DATA_MASK_110,(C,t)=>C*t%6<3)],[wt.DATA_MASK_111,new hn(wt.DATA_MASK_111,(C,t)=>(C+t+C*t%3&1)===0)]]);class Fh{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new j;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let s=0;const o=r-7;for(let l=r-1;l>=o;l--)s=this.copyBit(8,l,s);for(let l=r-8;l<r;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=Rt.decodeFormatInformation(t,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return fe.getVersionForNumber(r);let s=0;const o=t-11;for(let u=5;u>=0;u--)for(let d=t-9;d>=o;d--)s=this.copyBit(d,u,s);let l=fe.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;s=0;for(let u=5;u>=0;u--)for(let d=t-9;d>=o;d--)s=this.copyBit(u,d,s);if(l=fe.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new j}copyBit(t,r,s){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?s<<1|1:s<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),s=hn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let u=!0;const d=new Uint8Array(r.getTotalCodewords());let h=0,p=0,w=0;for(let E=o-1;E>0;E-=2){E===6&&E--;for(let A=0;A<o;A++){const _=u?o-1-A:A;for(let O=0;O<2;O++)l.get(E-O,_)||(w++,p<<=1,this.bitMatrix.get(E-O,_)&&(p|=1),w===8&&(d[h++]=p,w=0,p=0))}u=!u}if(h!==r.getTotalCodewords())throw new j;return d}remask(){if(this.parsedFormatInfo===null)return;const t=hn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,s=t.getWidth();r<s;r++)for(let o=r+1,l=t.getHeight();o<l;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class el{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,s){if(t.length!==r.getTotalCodewords())throw new S;const o=r.getECBlocksForLevel(s);let l=0;const u=o.getECBlocks();for(const O of u)l+=O.getCount();const d=new Array(l);let h=0;for(const O of u)for(let D=0;D<O.getCount();D++){const P=O.getDataCodewords(),V=o.getECCodewordsPerBlock()+P;d[h++]=new el(P,new Uint8Array(V))}const p=d[0].codewords.length;let w=d.length-1;for(;w>=0&&d[w].codewords.length!==p;)w--;w++;const E=p-o.getECCodewordsPerBlock();let A=0;for(let O=0;O<E;O++)for(let D=0;D<h;D++)d[D].codewords[O]=t[A++];for(let O=w;O<h;O++)d[O].codewords[E]=t[A++];const _=d[0].codewords.length;for(let O=E;O<_;O++)for(let D=0;D<h;D++){const P=D<w?O:O+1;d[D].codewords[P]=t[A++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gn;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(gn||(gn={}));class de{constructor(t,r,s,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=o,de.FOR_BITS.set(o,this),de.FOR_VALUE.set(t,this)}static forBits(t){const r=de.FOR_BITS.get(t);if(r===void 0)throw new S;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof de))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}de.FOR_BITS=new Map,de.FOR_VALUE=new Map,de.TERMINATOR=new de(gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),de.NUMERIC=new de(gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),de.ALPHANUMERIC=new de(gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),de.STRUCTURED_APPEND=new de(gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),de.BYTE=new de(gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),de.ECI=new de(gn.ECI,"ECI",Int32Array.from([0,0,0]),7),de.KANJI=new de(gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),de.FNC1_FIRST_POSITION=new de(gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),de.FNC1_SECOND_POSITION=new de(gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),de.HANZI=new de(gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class $e{static decode(t,r,s,o){const l=new $a(t);let u=new we;const d=new Array;let h=-1,p=-1;try{let w=null,E=!1,A;do{if(l.available()<4)A=de.TERMINATOR;else{const _=l.readBits(4);A=de.forBits(_)}switch(A){case de.TERMINATOR:break;case de.FNC1_FIRST_POSITION:case de.FNC1_SECOND_POSITION:E=!0;break;case de.STRUCTURED_APPEND:if(l.available()<16)throw new j;h=l.readBits(8),p=l.readBits(8);break;case de.ECI:const _=$e.parseECIValue(l);if(w=G.getCharacterSetECIByValue(_),w===null)throw new j;break;case de.HANZI:const O=l.readBits(4),D=l.readBits(A.getCharacterCountBits(r));O===$e.GB2312_SUBSET&&$e.decodeHanziSegment(l,u,D);break;default:const P=l.readBits(A.getCharacterCountBits(r));switch(A){case de.NUMERIC:$e.decodeNumericSegment(l,u,P);break;case de.ALPHANUMERIC:$e.decodeAlphanumericSegment(l,u,P,E);break;case de.BYTE:$e.decodeByteSegment(l,u,P,w,d,o);break;case de.KANJI:$e.decodeKanjiSegment(l,u,P);break;default:throw new j}break}}while(A!==de.TERMINATOR)}catch{throw new j}return new qi(t,u.toString(),d.length===0?null:d,s===null?null:s.toString(),h,p)}static decodeHanziSegment(t,r,s){if(s*13>t.available())throw new j;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const u=t.readBits(13);let d=u/96<<8&4294967295|u%96;d<959?d+=41377:d+=42657,o[l]=d>>8&255,o[l+1]=d&255,l+=2,s--}try{r.append(ce.decode(o,ne.GB2312))}catch(u){throw new j(u)}}static decodeKanjiSegment(t,r,s){if(s*13>t.available())throw new j;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const u=t.readBits(13);let d=u/192<<8&4294967295|u%192;d<7936?d+=33088:d+=49472,o[l]=d>>8,o[l+1]=d,l+=2,s--}try{r.append(ce.decode(o,ne.SHIFT_JIS))}catch(u){throw new j(u)}}static decodeByteSegment(t,r,s,o,l,u){if(8*s>t.available())throw new j;const d=new Uint8Array(s);for(let p=0;p<s;p++)d[p]=t.readBits(8);let h;o===null?h=ne.guessEncoding(d,u):h=o.getName();try{r.append(ce.decode(d,h))}catch(p){throw new j(p)}l.push(d)}static toAlphaNumericChar(t){if(t>=$e.ALPHANUMERIC_CHARS.length)throw new j;return $e.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,s,o){const l=r.length();for(;s>1;){if(t.available()<11)throw new j;const u=t.readBits(11);r.append($e.toAlphaNumericChar(Math.floor(u/45))),r.append($e.toAlphaNumericChar(u%45)),s-=2}if(s===1){if(t.available()<6)throw new j;r.append($e.toAlphaNumericChar(t.readBits(6)))}if(o)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,s){for(;s>=3;){if(t.available()<10)throw new j;const o=t.readBits(10);if(o>=1e3)throw new j;r.append($e.toAlphaNumericChar(Math.floor(o/100))),r.append($e.toAlphaNumericChar(Math.floor(o/10)%10)),r.append($e.toAlphaNumericChar(o%10)),s-=3}if(s===2){if(t.available()<7)throw new j;const o=t.readBits(7);if(o>=100)throw new j;r.append($e.toAlphaNumericChar(Math.floor(o/10))),r.append($e.toAlphaNumericChar(o%10))}else if(s===1){if(t.available()<4)throw new j;const o=t.readBits(4);if(o>=10)throw new j;r.append($e.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const s=t.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){const s=t.readBits(16);return(r&31)<<16&4294967295|s}throw new j}}$e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",$e.GB2312_SUBSET=1;class Qc{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class Uh{constructor(){this.rsDecoder=new $i(Me.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(ke.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const s=new Fh(t);let o=null;try{return this.decodeBitMatrixParser(s,r)}catch(l){o=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const l=this.decodeBitMatrixParser(s,r);return l.setOther(new Qc(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(t,r){const s=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=el.getDataBlocks(l,s,o);let d=0;for(const w of u)d+=w.getNumDataCodewords();const h=new Uint8Array(d);let p=0;for(const w of u){const E=w.getCodewords(),A=w.getNumDataCodewords();this.correctErrors(E,A);for(let _=0;_<A;_++)h[p++]=E[_]}return $e.decode(h,s,o,r)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new L}for(let o=0;o<r;o++)t[o]=s[o]}}class tl extends le{constructor(t,r,s){super(t,r),this.estimatedModuleSize=s}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=(this.getX()+r)/2,l=(this.getY()+t)/2,u=(this.estimatedModuleSize+s)/2;return new tl(o,l,u)}}class ho{constructor(t,r,s,o,l,u,d){this.image=t,this.startX=r,this.startY=s,this.width=o,this.height=l,this.moduleSize=u,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,s=this.width,o=t+s,l=this.startY+r/2,u=new Int32Array(3),d=this.image;for(let h=0;h<r;h++){const p=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let w=t;for(;w<o&&!d.get(w,p);)w++;let E=0;for(;w<o;){if(d.get(w,p))if(E===1)u[1]++;else if(E===2){if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,p,w);if(A!==null)return A}u[0]=u[2],u[1]=1,u[2]=0,E=1}else u[++E]++;else E===1&&E++,u[E]++;w++}if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,p,o);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,s=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=s)return!1;return!0}crossCheckVertical(t,r,s,o){const l=this.image,u=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=t;for(;h>=0&&l.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&!l.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<u&&l.get(r,h)&&d[1]<=s;)d[1]++,h++;if(h===u||d[1]>s)return NaN;for(;h<u&&!l.get(r,h)&&d[2]<=s;)d[2]++,h++;if(d[2]>s)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-o)>=2*o?NaN:this.foundPatternCross(d)?ho.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,s){const o=t[0]+t[1]+t[2],l=ho.centerFromEnd(t,s),u=this.crossCheckVertical(r,l,2*t[1],o);if(!isNaN(u)){const d=(t[0]+t[1]+t[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,u,l))return p.combineEstimate(u,l,d);const h=new tl(l,u,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class nl extends le{constructor(t,r,s,o){super(t,r),this.estimatedModuleSize=s,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=this.count+1,l=(this.count*this.getX()+r)/o,u=(this.count*this.getY()+t)/o,d=(this.count*this.estimatedModuleSize+s)/o;return new nl(l,u,d,o)}}class jh{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class yt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(Z.TRY_HARDER)!==void 0,s=t!=null&&t.get(Z.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),u=o.getWidth();let d=Math.floor(3*l/(4*yt.MAX_MODULES));(d<yt.MIN_SKIP||r)&&(d=yt.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let E=d-1;E<l&&!h;E+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let A=0;for(let _=0;_<u;_++)if(o.get(_,E))(A&1)===1&&A++,p[A]++;else if(A&1)p[A]++;else if(A===4)if(yt.foundPatternCross(p)){if(this.handlePossibleCenter(p,E,_,s)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const D=this.findRowSkip();D>p[2]&&(E+=D-p[2]-d,_=u-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;continue}A=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;else p[++A]++;yt.foundPatternCross(p)&&this.handlePossibleCenter(p,E,u,s)===!0&&(d=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return le.orderBestPatterns(w),new jh(w)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const u=t[l];if(u===0)return!1;r+=u}if(r<7)return!1;const s=r/7,o=s/2;return Math.abs(s-t[0])<o&&Math.abs(s-t[1])<o&&Math.abs(3*s-t[2])<3*o&&Math.abs(s-t[3])<o&&Math.abs(s-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,s,o){const l=this.getCrossCheckStateCount();let u=0;const d=this.image;for(;t>=u&&r>=u&&d.get(r-u,t-u);)l[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!d.get(r-u,t-u)&&l[1]<=s;)l[1]++,u++;if(t<u||r<u||l[1]>s)return!1;for(;t>=u&&r>=u&&d.get(r-u,t-u)&&l[0]<=s;)l[0]++,u++;if(l[0]>s)return!1;const h=d.getHeight(),p=d.getWidth();for(u=1;t+u<h&&r+u<p&&d.get(r+u,t+u);)l[2]++,u++;if(t+u>=h||r+u>=p)return!1;for(;t+u<h&&r+u<p&&!d.get(r+u,t+u)&&l[3]<s;)l[3]++,u++;if(t+u>=h||r+u>=p||l[3]>=s)return!1;for(;t+u<h&&r+u<p&&d.get(r+u,t+u)&&l[4]<s;)l[4]++,u++;if(l[4]>=s)return!1;const w=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(w-o)<2*o&&yt.foundPatternCross(l)}crossCheckVertical(t,r,s,o){const l=this.image,u=l.getHeight(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(r,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<u&&l.get(r,h);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&d[3]<s;)d[3]++,h++;if(h===u||d[3]>=s)return NaN;for(;h<u&&l.get(r,h)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-o)>=2*o?NaN:yt.foundPatternCross(d)?yt.centerFromEnd(d,h):NaN}crossCheckHorizontal(t,r,s,o){const l=this.image,u=l.getWidth(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,r);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(h,r)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<u&&l.get(h,r);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&d[3]<s;)d[3]++,h++;if(h===u||d[3]>=s)return NaN;for(;h<u&&l.get(h,r)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-o)>=o?NaN:yt.foundPatternCross(d)?yt.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,s,o){const l=t[0]+t[1]+t[2]+t[3]+t[4];let u=yt.centerFromEnd(t,s),d=this.crossCheckVertical(r,Math.floor(u),t[2],l);if(!isNaN(d)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(d),t[2],l),!isNaN(u)&&(!o||this.crossCheckDiagonal(Math.floor(d),Math.floor(u),t[2],l)))){const h=l/7;let p=!1;const w=this.possibleCenters;for(let E=0,A=w.length;E<A;E++){const _=w[E];if(_.aboutEquals(h,d,u)){w[E]=_.combineEstimate(d,u,h),p=!0;break}}if(!p){const E=new nl(u,d,h);w.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const s of this.possibleCenters)if(s.getCount()>=yt.CENTER_QUORUM)if(r==null)r=s;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const s=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=yt.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const o=r/s;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new Y;const r=this.possibleCenters;let s;if(t>3){let o=0,l=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();o+=p,l+=p*p}s=o/t;let u=Math.sqrt(l/t-s*s);r.sort((h,p)=>{const w=Math.abs(p.getEstimatedModuleSize()-s),E=Math.abs(h.getEstimatedModuleSize()-s);return w<E?-1:w>E?1:0});const d=Math.max(.2*s,u);for(let h=0;h<r.length&&r.length>3;h++){const p=r[h];Math.abs(p.getEstimatedModuleSize()-s)>d&&(r.splice(h,1),h--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();s=o/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const d=Math.abs(u.getEstimatedModuleSize()-s),h=Math.abs(l.getEstimatedModuleSize()-s);return d<h?1:d>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}yt.CENTER_QUORUM=2,yt.MIN_SKIP=3,yt.MAX_MODULES=57;class ts{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Z.NEED_RESULT_POINT_CALLBACK);const s=new yt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(s)}processFinderPatternInfo(t){const r=t.getTopLeft(),s=t.getTopRight(),o=t.getBottomLeft(),l=this.calculateModuleSize(r,s,o);if(l<1)throw new Y("No pattern found in proccess finder.");const u=ts.computeDimension(r,s,o,l),d=fe.getProvisionalVersionForDimension(u),h=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const _=s.getX()-r.getX()+o.getX(),O=s.getY()-r.getY()+o.getY(),D=1-3/h,P=Math.floor(r.getX()+D*(_-r.getX())),V=Math.floor(r.getY()+D*(O-r.getY()));for(let $=4;$<=16;$<<=1)try{p=this.findAlignmentInRegion(l,P,V,$);break}catch(ee){if(!(ee instanceof Y))throw ee}}const w=ts.createTransform(r,s,o,p,u),E=ts.sampleGrid(this.image,w,u);let A;return p===null?A=[o,r,s]:A=[o,r,s,p],new ao(E,A)}static createTransform(t,r,s,o,l){const u=l-3.5;let d,h,p,w;return o!==null?(d=o.getX(),h=o.getY(),p=u-3,w=p):(d=r.getX()-t.getX()+s.getX(),h=r.getY()-t.getY()+s.getY(),p=u,w=u),Sn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,p,w,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),d,h,s.getX(),s.getY())}static sampleGrid(t,r,s){return cr.getInstance().sampleGridWithTransform(t,s,s,r)}static computeDimension(t,r,s,o){const l=Te.round(le.distance(t,r)/o),u=Te.round(le.distance(t,s)/o);let d=Math.floor((l+u)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new Y("Dimensions could be not found.")}return d}calculateModuleSize(t,r,s){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,s))/2}calculateModuleSizeOneWay(t,r){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(s)?o/7:isNaN(o)?s/7:(s+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,s,o){let l=this.sizeOfBlackWhiteBlackRun(t,r,s,o),u=1,d=t-(s-t);d<0?(u=t/(t-d),d=0):d>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(d-t),d=this.image.getWidth()-1);let h=Math.floor(r-(o-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),d=Math.floor(t+(d-t)*u),l+=this.sizeOfBlackWhiteBlackRun(t,r,d,h),l-1}sizeOfBlackWhiteBlackRun(t,r,s,o){const l=Math.abs(o-r)>Math.abs(s-t);if(l){let _=t;t=r,r=_,_=s,s=o,o=_}const u=Math.abs(s-t),d=Math.abs(o-r);let h=-u/2;const p=t<s?1:-1,w=r<o?1:-1;let E=0;const A=s+p;for(let _=t,O=r;_!==A;_+=p){const D=l?O:_,P=l?_:O;if(E===1===this.image.get(D,P)){if(E===2)return Te.distance(_,O,t,r);E++}if(h+=d,h>0){if(O===o)break;O+=w,h-=u}}return E===2?Te.distance(s+p,o,t,r):NaN}findAlignmentInRegion(t,r,s,o){const l=Math.floor(o*t),u=Math.max(0,r-l),d=Math.min(this.image.getWidth()-1,r+l);if(d-u<t*3)throw new Y("Alignment top exceeds estimated module size.");const h=Math.max(0,s-l),p=Math.min(this.image.getHeight()-1,s+l);if(p-h<t*3)throw new Y("Alignment bottom exceeds estimated module size.");return new ho(this.image,u,h,d-u,p-h,t,this.resultPointCallback).find()}}class gr{constructor(){this.decoder=new Uh}getDecoder(){return this.decoder}decode(t,r){let s,o;if(r!=null&&r.get(Z.PURE_BARCODE)!==void 0){const h=gr.extractPureBits(t.getBlackMatrix());s=this.decoder.decodeBitMatrix(h,r),o=gr.NO_POINTS}else{const h=new ts(t.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(h.getBits(),r),o=h.getPoints()}s.getOther()instanceof Qc&&s.getOther().applyMirroredCorrection(o);const l=new Je(s.getText(),s.getRawBytes(),void 0,o,ue.QR_CODE,void 0),u=s.getByteSegments();u!==null&&l.putMetadata(mt.BYTE_SEGMENTS,u);const d=s.getECLevel();return d!==null&&l.putMetadata(mt.ERROR_CORRECTION_LEVEL,d),s.hasStructuredAppend()&&(l.putMetadata(mt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(mt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r===null||s===null)throw new Y;const o=this.moduleSize(r,t);let l=r[1],u=s[1],d=r[0],h=s[0];if(d>=h||l>=u)throw new Y;if(u-l!==h-d&&(h=d+(u-l),h>=t.getWidth()))throw new Y;const p=Math.round((h-d+1)/o),w=Math.round((u-l+1)/o);if(p<=0||w<=0)throw new Y;if(w!==p)throw new Y;const E=Math.floor(o/2);l+=E,d+=E;const A=d+Math.floor((p-1)*o)-h;if(A>0){if(A>E)throw new Y;d-=A}const _=l+Math.floor((w-1)*o)-u;if(_>0){if(_>E)throw new Y;l-=_}const O=new ke(p,w);for(let D=0;D<w;D++){const P=l+Math.floor(D*o);for(let V=0;V<p;V++)t.get(d+Math.floor(V*o),P)&&O.set(V,D)}return O}static moduleSize(t,r){const s=r.getHeight(),o=r.getWidth();let l=t[0],u=t[1],d=!0,h=0;for(;l<o&&u<s;){if(d!==r.get(l,u)){if(++h===5)break;d=!d}l++,u++}if(l===o||u===s)throw new Y;return(l-t[0])/7}}gr.NO_POINTS=new Array;class xe{PDF417Common(){}static getBitCountSum(t){return Te.sum(t)}static toIntArray(t){if(t==null||!t.length)return xe.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let s=0;for(const o of t)r[s++]=o;return r}static getCodeword(t){const r=T.binarySearch(xe.SYMBOL_TABLE,t&262143);return r<0?-1:(xe.CODEWORD_TABLE[r]-1)%xe.NUMBER_OF_CODEWORDS}}xe.NUMBER_OF_CODEWORDS=929,xe.MAX_CODEWORDS_IN_BARCODE=xe.NUMBER_OF_CODEWORDS-1,xe.MIN_ROWS_IN_BARCODE=3,xe.MAX_ROWS_IN_BARCODE=90,xe.MODULES_IN_CODEWORD=17,xe.MODULES_IN_STOP_PATTERN=18,xe.BARS_IN_MODULE=8,xe.EMPTY_INT_ARRAY=new Int32Array([]),xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class zh{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ce{static detectMultiple(t,r,s){let o=t.getBlackMatrix(),l=Ce.detect(s,o);return l.length||(o=o.clone(),o.rotate180(),l=Ce.detect(s,o)),new zh(o,l)}static detect(t,r){const s=new Array;let o=0,l=0,u=!1;for(;o<r.getHeight();){const d=Ce.findVertices(r,o,l);if(d[0]==null&&d[3]==null){if(!u)break;u=!1,l=0;for(const h of s)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=Ce.ROW_STEP;continue}if(u=!0,s.push(d),!t)break;d[2]!=null?(l=Math.trunc(d[2].getX()),o=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY()))}return s}static findVertices(t,r,s){const o=t.getHeight(),l=t.getWidth(),u=new Array(8);return Ce.copyToResult(u,Ce.findRowsWithPattern(t,o,l,r,s,Ce.START_PATTERN),Ce.INDEXES_START_PATTERN),u[4]!=null&&(s=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),Ce.copyToResult(u,Ce.findRowsWithPattern(t,o,l,r,s,Ce.STOP_PATTERN),Ce.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,s){for(let o=0;o<s.length;o++)t[s[o]]=r[o]}static findRowsWithPattern(t,r,s,o,l,u){const d=new Array(4);let h=!1;const p=new Int32Array(u.length);for(;o<r;o+=Ce.ROW_STEP){let E=Ce.findGuardPattern(t,l,o,s,!1,u,p);if(E!=null){for(;o>0;){const A=Ce.findGuardPattern(t,l,--o,s,!1,u,p);if(A!=null)E=A;else{o++;break}}d[0]=new le(E[0],o),d[1]=new le(E[1],o),h=!0;break}}let w=o+1;if(h){let E=0,A=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;w<r;w++){const _=Ce.findGuardPattern(t,A[0],w,s,!1,u,p);if(_!=null&&Math.abs(A[0]-_[0])<Ce.MAX_PATTERN_DRIFT&&Math.abs(A[1]-_[1])<Ce.MAX_PATTERN_DRIFT)A=_,E=0;else{if(E>Ce.SKIPPED_ROW_COUNT_MAX)break;E++}}w-=E+1,d[2]=new le(A[0],w),d[3]=new le(A[1],w)}return w-o<Ce.BARCODE_MIN_HEIGHT&&T.fill(d,null),d}static findGuardPattern(t,r,s,o,l,u,d){T.fillWithin(d,0,d.length,0);let h=r,p=0;for(;t.get(h,s)&&h>0&&p++<Ce.MAX_PIXEL_DRIFT;)h--;let w=h,E=0,A=u.length;for(let _=l;w<o;w++)if(t.get(w,s)!==_)d[E]++;else{if(E===A-1){if(Ce.patternMatchVariance(d,u,Ce.MAX_INDIVIDUAL_VARIANCE)<Ce.MAX_AVG_VARIANCE)return new Int32Array([h,w]);h+=d[0]+d[1],B.arraycopy(d,2,d,0,E-1),d[E-1]=0,d[E]=0,E--}else E++;d[E]=1,_=!_}return E===A-1&&Ce.patternMatchVariance(d,u,Ce.MAX_INDIVIDUAL_VARIANCE)<Ce.MAX_AVG_VARIANCE?new Int32Array([h,w-1]):null}static patternMatchVariance(t,r,s){let o=t.length,l=0,u=0;for(let p=0;p<o;p++)l+=t[p],u+=r[p];if(l<u)return 1/0;let d=l/u;s*=d;let h=0;for(let p=0;p<o;p++){let w=t[p],E=r[p]*d,A=w>E?w-E:E-w;if(A>s)return 1/0;h+=A}return h/l}}Ce.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ce.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ce.MAX_AVG_VARIANCE=.42,Ce.MAX_INDIVIDUAL_VARIANCE=.8,Ce.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ce.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ce.MAX_PIXEL_DRIFT=3,Ce.MAX_PATTERN_DRIFT=5,Ce.SKIPPED_ROW_COUNT_MAX=25,Ce.ROW_STEP=5,Ce.BARCODE_MIN_HEIGHT=10;class St{constructor(t,r){if(r.length===0)throw new S;this.field=t;let s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-o),B.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],s=this.coefficients.length;for(let o=1;o<s;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){let u=r;r=s,s=u}let o=new Int32Array(s.length),l=s.length-r.length;B.arraycopy(s,0,o,0,l);for(let u=l;u<s.length;u++)o[u]=this.field.add(r[u-l],s[u]);return new St(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof St?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new St(this.field,new Int32Array([0]));let r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,u=new Int32Array(s+l-1);for(let d=0;d<s;d++){let h=r[d];for(let p=0;p<l;p++)u[d+p]=this.field.add(u[d+p],this.field.multiply(h,o[p]))}return new St(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let s=0;s<t;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new St(this.field,r)}multiplyScalar(t){if(t===0)return new St(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],t);return new St(this.field,s)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return new St(this.field,new Int32Array([0]));let s=this.coefficients.length,o=new Int32Array(s+t);for(let l=0;l<s;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new St(this.field,o)}toString(){let t=new we;for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);s!==0&&(s<0?(t.append(" - "),s=-s):t.length()>0&&t.append(" + "),(r===0||s!==1)&&t.append(s),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class Hh{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}inverse(t){if(t===0)throw new so;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class rl extends Hh{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let s=1;for(let o=0;o<t;o++)this.expTable[o]=s,s=s*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new St(this,new Int32Array([0])),this.one=new St(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;let s=new Int32Array(t+1);return s[0]=r,new St(this,s)}}rl.PDF417_GF=new rl(xe.NUMBER_OF_CODEWORDS,3);class Zc{constructor(){this.field=rl.PDF417_GF}decode(t,r,s){let o=new St(this.field,t),l=new Int32Array(r),u=!1;for(let O=r;O>0;O--){let D=o.evaluateAt(this.field.exp(O));l[r-O]=D,D!==0&&(u=!0)}if(!u)return 0;let d=this.field.getOne();if(s!=null)for(const O of s){let D=this.field.exp(t.length-1-O),P=new St(this.field,new Int32Array([this.field.subtract(0,D),1]));d=d.multiply(P)}let h=new St(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),w=p[0],E=p[1],A=this.findErrorLocations(w),_=this.findErrorMagnitudes(E,w,A);for(let O=0;O<A.length;O++){let D=t.length-1-this.field.log(A[O]);if(D<0)throw L.getChecksumInstance();t[D]=this.field.subtract(t[D],_[O])}return A.length}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){let A=t;t=r,r=A}let o=t,l=r,u=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let A=o,_=u;if(o=l,u=d,o.isZero())throw L.getChecksumInstance();l=A;let O=this.field.getZero(),D=o.getCoefficient(o.getDegree()),P=this.field.inverse(D);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let V=l.getDegree()-o.getDegree(),$=this.field.multiply(l.getCoefficient(l.getDegree()),P);O=O.add(this.field.buildMonomial(V,$)),l=l.subtract(o.multiplyByMonomial(V,$))}d=O.multiply(u).subtract(_).negative()}let h=d.getCoefficient(0);if(h===0)throw L.getChecksumInstance();let p=this.field.inverse(h),w=d.multiply(p),E=l.multiply(p);return[w,E]}findErrorLocations(t){let r=t.getDegree(),s=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)t.evaluateAt(l)===0&&(s[o]=this.field.inverse(l),o++);if(o!==r)throw L.getChecksumInstance();return s}findErrorMagnitudes(t,r,s){let o=r.getDegree(),l=new Int32Array(o);for(let p=1;p<=o;p++)l[o-p]=this.field.multiply(p,r.getCoefficient(p));let u=new St(this.field,l),d=s.length,h=new Int32Array(d);for(let p=0;p<d;p++){let w=this.field.inverse(s[p]),E=this.field.subtract(0,t.evaluateAt(w)),A=this.field.inverse(u.evaluateAt(w));h[p]=this.field.multiply(E,A)}return h}}class Wr{constructor(t,r,s,o,l){t instanceof Wr?this.constructor_2(t):this.constructor_1(t,r,s,o,l)}constructor_1(t,r,s,o,l){const u=r==null||s==null,d=o==null||l==null;if(u&&d)throw new Y;u?(r=new le(0,o.getY()),s=new le(0,l.getY())):d&&(o=new le(t.getWidth()-1,r.getY()),l=new le(t.getWidth()-1,s.getY())),this.image=t,this.topLeft=r,this.bottomLeft=s,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Wr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,s){let o=this.topLeft,l=this.bottomLeft,u=this.topRight,d=this.bottomRight;if(t>0){let h=s?this.topLeft:this.topRight,p=Math.trunc(h.getY()-t);p<0&&(p=0);let w=new le(h.getX(),p);s?o=w:u=w}if(r>0){let h=s?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let w=new le(h.getX(),p);s?l=w:d=w}return new Wr(this.image,o,l,u,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Vh{constructor(t,r,s,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ns{constructor(){this.buffer=""}static form(t,r){let s=-1;function o(u,d,h,p,w,E){if(u==="%%")return"%";if(r[++s]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let A=w?parseInt(w.substr(1)):void 0,_;switch(E){case"s":_=r[s];break;case"c":_=r[s][0];break;case"f":_=parseFloat(r[s]).toFixed(u);break;case"p":_=parseFloat(r[s]).toPrecision(u);break;case"e":_=parseFloat(r[s]).toExponential(u);break;case"x":_=parseInt(r[s]).toString(A||16);break;case"d":_=parseFloat(parseInt(r[s],A||10).toPrecision(u)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(A);let O=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;_.length<O;)_=d!==void 0?_+D:D+_;return _}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}format(t,...r){this.buffer+=ns.form(t,r)}toString(){return this.buffer}}class rs{constructor(t){this.boundingBox=new Wr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let s=1;s<rs.MAX_NEARBY_DISTANCE;s++){let o=this.imageRowToCodewordIndex(t)-s;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+s,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new ns;let r=0;for(const s of this.codewords){if(s==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,s.getRowNumber(),s.getValue())}return t.toString()}}rs.MAX_NEARBY_DISTANCE=5;class is{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[s,o]of this.values.entries()){const l={getKey:()=>s,getValue:()=>o};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return xe.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Kc extends rs{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,p=1,w=0;for(let E=u;E<d;E++){if(r[E]==null)continue;let A=r[E],_=A.getRowNumber()-h;if(_===0)w++;else if(_===1)p=Math.max(p,w),w=1,h=A.getRowNumber();else if(_<0||A.getRowNumber()>=t.getRowCount()||_>E)r[E]=null;else{let O;p>2?O=(p-2)*_:O=_;let D=O>=E;for(let P=1;P<=O&&!D;P++)D=r[E-P]!=null;D?r[E]=null:(h=A.getRowNumber(),w=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let s of this.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.getCodewords(),h=-1;for(let p=l;p<u;p++){if(d[p]==null)continue;let w=d[p];w.setRowNumberAsRowIndicatorColumn();let E=w.getRowNumber()-h;E===0||(E===1?h=w.getRowNumber():w.getRowNumber()>=t.getRowCount()?d[p]=null:h=w.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new is,s=new is,o=new is,l=new is;for(let d of t){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<xe.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>xe.MAX_ROWS_IN_BARCODE)return null;let u=new Vh(r.getValue()[0],s.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let s=0;s<t.length;s++){let o=t[s];if(t[s]==null)continue;let l=o.getValue()%30,u=o.getRowNumber();if(u>r.getRowCount()){t[s]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[s]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[s]=null);break;case 2:l+1!==r.getColumnCount()&&(t[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ss{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=xe.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let s=this.detectionResultColumns[r].getCodewords();for(let o=0;o<s.length;o++)s[o]!=null&&(s[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,s))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<t.length;s++)if(t[s]!=null&&r[s]!=null&&t[s].getRowNumber()===r[s].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[s];l!=null&&(l.setRowNumber(t[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let d=this.detectionResultColumns[u].getCodewords()[s];d!=null&&(l=ss.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let d=this.detectionResultColumns[u].getCodewords()[s];d!=null&&(l=ss.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(t)?(s.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,s){if(!this.detectionResultColumns[t-1])return;let o=s[r],l=this.detectionResultColumns[t-1].getCodewords(),u=l;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let d=new Array(14);d[2]=l[r],d[3]=u[r],r>0&&(d[0]=s[r-1],d[4]=l[r-1],d[5]=u[r-1]),r>1&&(d[8]=s[r-2],d[10]=l[r-2],d[11]=u[r-2]),r<s.length-1&&(d[1]=s[r+1],d[6]=l[r+1],d[7]=u[r+1]),r<s.length-2&&(d[9]=s[r+2],d[12]=l[r+2],d[13]=u[r+2]);for(let h of d)if(ss.adjustRowNumber(o,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new ns;for(let s=0;s<t.getCodewords().length;s++){r.format("CW %3d:",s);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[s];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class os{constructor(t,r,s,o){this.rowNumber=os.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==os.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}os.BARCODE_ROW_UNKNOWN=-1;class Wt{static initialize(){for(let t=0;t<xe.SYMBOL_TABLE.length;t++){let r=xe.SYMBOL_TABLE[t],s=r&1;for(let o=0;o<xe.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===s;)l+=1,r>>=1;s=r&1,Wt.RATIOS_TABLE[t]||(Wt.RATIOS_TABLE[t]=new Array(xe.BARS_IN_MODULE)),Wt.RATIOS_TABLE[t][xe.BARS_IN_MODULE-o-1]=Math.fround(l/xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Wt.getDecodedCodewordValue(Wt.sampleBitCounts(t));return r!==-1?r:Wt.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Te.sum(t),s=new Int32Array(xe.BARS_IN_MODULE),o=0,l=0;for(let u=0;u<xe.MODULES_IN_CODEWORD;u++){let d=r/(2*xe.MODULES_IN_CODEWORD)+u*r/xe.MODULES_IN_CODEWORD;l+t[o]<=d&&(l+=t[o],o++),s[o]++}return s}static getDecodedCodewordValue(t){let r=Wt.getBitValue(t);return xe.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let s=0;s<t.length;s++)for(let o=0;o<t[s];o++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Te.sum(t),s=new Array(xe.BARS_IN_MODULE);if(r>1)for(let u=0;u<s.length;u++)s[u]=Math.fround(t[u]/r);let o=oo.MAX_VALUE,l=-1;this.bSymbolTableReady||Wt.initialize();for(let u=0;u<Wt.RATIOS_TABLE.length;u++){let d=0,h=Wt.RATIOS_TABLE[u];for(let p=0;p<xe.BARS_IN_MODULE;p++){let w=Math.fround(h[p]-s[p]);if(d+=Math.fround(w*w),d>=o)break}d<o&&(o=d,l=xe.SYMBOL_TABLE[u])}return l}}Wt.bSymbolTableReady=!1,Wt.RATIOS_TABLE=new Array(xe.SYMBOL_TABLE.length).map(C=>new Array(xe.BARS_IN_MODULE));class qc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Jc{static parseLong(t,r=void 0){return parseInt(t,r)}}class $c extends x{}$c.kind="NullPointerException";class Wh{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,s){if(t==null)throw new $c;if(r<0||r>t.length||s<0||r+s>t.length||r+s<0)throw new X;if(s===0)return;for(let o=0;o<s;o++)this.write(t[r+o])}flush(){}close(){}}class Gh extends x{}class Yh extends Wh{constructor(t=32){if(super(),this.count=0,t<0)throw new S("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let s=this.buf.length<<1;if(s-t<0&&(s=t),s<0){if(t<0)throw new Gh;s=v.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,s)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,s){if(r<0||r>t.length||s<0||r+s-t.length>0)throw new X;this.ensureCapacity(this.count+s),B.arraycopy(t,r,this.buf,this.count,s),this.count+=s}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Be;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Be||(Be={}));function e1(){if(typeof window<"u")return window.BigInt||null;if(typeof us<"u")return us.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let go;function pr(C){if(typeof go>"u"&&(go=e1()),go===null)throw new Error("BigInt is not supported!");return go(C)}function Xh(){let C=[];C[0]=pr(1);let t=pr(900);C[1]=t;for(let r=2;r<16;r++)C[r]=C[r-1]*t;return C}class H{static decode(t,r){let s=new we(""),o=G.ISO8859_1;s.enableDecoding(o);let l=1,u=t[l++],d=new qc;for(;l<t[0];){switch(u){case H.TEXT_COMPACTION_MODE_LATCH:l=H.textCompaction(t,l,s);break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:l=H.byteCompaction(u,t,o,l,s);break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[l++]);break;case H.NUMERIC_COMPACTION_MODE_LATCH:l=H.numericCompaction(t,l,s);break;case H.ECI_CHARSET:G.getCharacterSetECIByValue(t[l++]);break;case H.ECI_GENERAL_PURPOSE:l+=2;break;case H.ECI_USER_DEFINED:l++;break;case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=H.decodeMacroBlock(t,l,d);break;case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:throw new j;default:l--,l=H.textCompaction(t,l,s);break}if(l<t.length)u=t[l++];else throw j.getFormatInstance()}if(s.length()===0)throw j.getFormatInstance();let h=new qi(null,s.toString(),null,r);return h.setOther(d),h}static decodeMacroBlock(t,r,s){if(r+H.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw j.getFormatInstance();let o=new Int32Array(H.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<H.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)o[d]=t[r];s.setSegmentIndex(v.parseInt(H.decodeBase900toBase10(o,H.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new we;r=H.textCompaction(t,r,l),s.setFileId(l.toString());let u=-1;for(t[r]===H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new we;r=H.textCompaction(t,r+1,d),s.setFileName(d.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new we;r=H.textCompaction(t,r+1,h),s.setSender(h.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new we;r=H.textCompaction(t,r+1,p),s.setAddressee(p.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new we;r=H.numericCompaction(t,r+1,w),s.setSegmentCount(v.parseInt(w.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new we;r=H.numericCompaction(t,r+1,E),s.setTimestamp(Jc.parseLong(E.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new we;r=H.numericCompaction(t,r+1,A),s.setChecksum(v.parseInt(A.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let _=new we;r=H.numericCompaction(t,r+1,_),s.setFileSize(Jc.parseLong(_.toString()));break;default:throw j.getFormatInstance()}break;case H.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(u!==-1){let d=r-u;s.isLastSegment()&&d--,s.setOptionalData(T.copyOfRange(t,u,u+d))}return r}static textCompaction(t,r,s){let o=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),u=0,d=!1;for(;r<t[0]&&!d;){let h=t[r++];if(h<H.TEXT_COMPACTION_MODE_LATCH)o[u]=h/30,o[u+1]=h%30,u+=2;else switch(h){case H.TEXT_COMPACTION_MODE_LATCH:o[u++]=H.TEXT_COMPACTION_MODE_LATCH;break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[u]=H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],l[u]=h,u++;break}}return H.decodeTextCompaction(o,l,u,s),r}static decodeTextCompaction(t,r,s,o){let l=Be.ALPHA,u=Be.ALPHA,d=0;for(;d<s;){let h=t[d],p="";switch(l){case Be.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case H.LL:l=Be.LOWER;break;case H.ML:l=Be.MIXED;break;case H.PS:u=l,l=Be.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case H.AS:u=l,l=Be.ALPHA_SHIFT;break;case H.ML:l=Be.MIXED;break;case H.PS:u=l,l=Be.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.MIXED:if(h<H.PL)p=H.MIXED_CHARS[h];else switch(h){case H.PL:l=Be.PUNCT;break;case 26:p=" ";break;case H.LL:l=Be.LOWER;break;case H.AL:l=Be.ALPHA;break;case H.PS:u=l,l=Be.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.PUNCT:if(h<H.PAL)p=H.PUNCT_CHARS[h];else switch(h){case H.PAL:l=Be.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.ALPHA_SHIFT:if(l=u,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case H.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.PUNCT_SHIFT:if(l=u,h<H.PAL)p=H.PUNCT_CHARS[h];else switch(h){case H.PAL:l=Be.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break}p!==""&&o.append(p),d++}}static byteCompaction(t,r,s,o,l){let u=new Yh,d=0,h=0,p=!1;switch(t){case H.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),E=r[o++];for(;o<r[0]&&!p;)switch(w[d++]=E,h=900*h+E,E=r[o++],E){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:o--,p=!0;break;default:if(d%5===0&&d>0){for(let A=0;A<6;++A)u.write(Number(pr(h)>>pr(8*(5-A))));h=0,d=0}break}o===r[0]&&E<H.TEXT_COMPACTION_MODE_LATCH&&(w[d++]=E);for(let A=0;A<d;A++)u.write(w[A]);break;case H.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!p;){let A=r[o++];if(A<H.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+A;else switch(A){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:o--,p=!0;break}if(d%5===0&&d>0){for(let _=0;_<6;++_)u.write(Number(pr(h)>>pr(8*(5-_))));h=0,d=0}}break}return l.append(ce.decode(u.toByteArray(),s)),o}static numericCompaction(t,r,s){let o=0,l=!1,u=new Int32Array(H.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let d=t[r++];if(r===t[0]&&(l=!0),d<H.TEXT_COMPACTION_MODE_LATCH)u[o]=d,o++;else switch(d){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%H.MAX_NUMERIC_CODEWORDS===0||d===H.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(s.append(H.decodeBase900toBase10(u,o)),o=0)}return r}static decodeBase900toBase10(t,r){let s=pr(0);for(let l=0;l<r;l++)s+=H.EXP900[r-l-1]*pr(t[l]);let o=s.toString();if(o.charAt(0)!=="1")throw new j;return o.substring(1)}}H.TEXT_COMPACTION_MODE_LATCH=900,H.BYTE_COMPACTION_MODE_LATCH=901,H.NUMERIC_COMPACTION_MODE_LATCH=902,H.BYTE_COMPACTION_MODE_LATCH_6=924,H.ECI_USER_DEFINED=925,H.ECI_GENERAL_PURPOSE=926,H.ECI_CHARSET=927,H.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,H.MACRO_PDF417_TERMINATOR=922,H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,H.MAX_NUMERIC_CODEWORDS=15,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,H.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,H.PL=25,H.LL=27,H.AS=27,H.ML=28,H.AL=28,H.PS=29,H.PAL=29,H.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,H.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",H.EXP900=e1()?Xh():[],H.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ee{constructor(){}static decode(t,r,s,o,l,u,d){let h=new Wr(t,r,s,o,l),p=null,w=null,E;for(let O=!0;;O=!1){if(r!=null&&(p=Ee.getRowIndicatorColumn(t,h,r,!0,u,d)),o!=null&&(w=Ee.getRowIndicatorColumn(t,h,o,!1,u,d)),E=Ee.merge(p,w),E==null)throw Y.getNotFoundInstance();let D=E.getBoundingBox();if(O&&D!=null&&(D.getMinY()<h.getMinY()||D.getMaxY()>h.getMaxY()))h=D;else break}E.setBoundingBox(h);let A=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,p),E.setDetectionResultColumn(A,w);let _=p!=null;for(let O=1;O<=A;O++){let D=_?O:A-O;if(E.getDetectionResultColumn(D)!==void 0)continue;let P;D===0||D===A?P=new Kc(h,D===0):P=new rs(h),E.setDetectionResultColumn(D,P);let V=-1,$=V;for(let ee=h.getMinY();ee<=h.getMaxY();ee++){if(V=Ee.getStartColumn(E,D,ee,_),V<0||V>h.getMaxX()){if($===-1)continue;V=$}let q=Ee.detectCodeword(t,h.getMinX(),h.getMaxX(),_,V,ee,u,d);q!=null&&(P.setCodeword(ee,q),$=V,u=Math.min(u,q.getWidth()),d=Math.max(d,q.getWidth()))}}return Ee.createDecoderResult(E)}static merge(t,r){if(t==null&&r==null)return null;let s=Ee.getBarcodeMetadata(t,r);if(s==null)return null;let o=Wr.merge(Ee.adjustBoundingBox(t),Ee.adjustBoundingBox(r));return new ss(s,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let s=Ee.getMax(r),o=0;for(let d of r)if(o+=s-d,d>0)break;let l=t.getCodewords();for(let d=0;o>0&&l[d]==null;d++)o--;let u=0;for(let d=r.length-1;d>=0&&(u+=s-r[d],!(r[d]>0));d--);for(let d=l.length-1;u>0&&l[d]==null;d--)u--;return t.getBoundingBox().addMissingRows(o,u,t.isLeft())}static getMax(t){let r=-1;for(let s of t)r=Math.max(r,s);return r}static getBarcodeMetadata(t,r){let s;if(t==null||(s=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==o.getColumnCount()&&s.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&s.getRowCount()!==o.getRowCount()?null:s}static getRowIndicatorColumn(t,r,s,o,l,u){let d=new Kc(r,o);for(let h=0;h<2;h++){let p=h===0?1:-1,w=Math.trunc(Math.trunc(s.getX()));for(let E=Math.trunc(Math.trunc(s.getY()));E<=r.getMaxY()&&E>=r.getMinY();E+=p){let A=Ee.detectCodeword(t,0,t.getWidth(),o,w,E,l,u);A!=null&&(d.setCodeword(E,A),o?w=A.getStartX():w=A.getEndX())}}return d}static adjustCodewordCount(t,r){let s=r[0][1],o=s.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ee.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(l<1||l>xe.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();s.setValue(l)}else o[0]!==l&&s.setValue(l)}static createDecoderResult(t){let r=Ee.createBarcodeMatrix(t);Ee.adjustCodewordCount(t,r);let s=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let p=0;p<t.getBarcodeColumnCount();p++){let w=r[h][p+1].getValue(),E=h*t.getBarcodeColumnCount()+p;w.length===0?s.push(E):w.length===1?o[E]=w[0]:(u.push(E),l.push(w))}let d=new Array(l.length);for(let h=0;h<d.length;h++)d[h]=l[h];return Ee.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,xe.toIntArray(s),xe.toIntArray(u),d)}static createDecoderResultFromAmbiguousValues(t,r,s,o,l){let u=new Int32Array(o.length),d=100;for(;d-- >0;){for(let h=0;h<u.length;h++)r[o[h]]=l[h][u[h]];try{return Ee.decodeCodewords(r,t,s)}catch(h){if(!(h instanceof L))throw h}if(u.length===0)throw L.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new is;let s=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][s].setValue(l.getValue())}}}s++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,s,o){let l=o?1:-1,u=null;if(Ee.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodeword(s)),u!=null)return o?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(s),u!=null)return o?u.getStartX():u.getEndX();if(Ee.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodewordNearby(s)),u!=null)return o?u.getEndX():u.getStartX();let d=0;for(;Ee.isValidBarcodeColumn(t,r-l);){r-=l;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+l*d*(h.getEndX()-h.getStartX());d++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,s,o,l,u,d,h){l=Ee.adjustCodewordStartColumn(t,r,s,o,l,u);let p=Ee.getModuleBitCount(t,r,s,o,l,u);if(p==null)return null;let w,E=Te.sum(p);if(o)w=l+E;else{for(let O=0;O<p.length/2;O++){let D=p[O];p[O]=p[p.length-1-O],p[p.length-1-O]=D}w=l,l=w-E}if(!Ee.checkCodewordSkew(E,d,h))return null;let A=Wt.getDecodedValue(p),_=xe.getCodeword(A);return _===-1?null:new os(l,w,Ee.getCodewordBucketNumber(A),_)}static getModuleBitCount(t,r,s,o,l,u){let d=l,h=new Int32Array(8),p=0,w=o?1:-1,E=o;for(;(o?d<s:d>=r)&&p<h.length;)t.get(d,u)===E?(h[p]++,d+=w):(p++,E=!E);return p===h.length||d===(o?s:r)&&p===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,s,o,l,u){let d=l,h=o?-1:1;for(let p=0;p<2;p++){for(;(o?d>=r:d<s)&&o===t.get(d,u);){if(Math.abs(l-d)>Ee.CODEWORD_SKEW_SIZE)return l;d+=h}h=-h,o=!o}return d}static checkCodewordSkew(t,r,s){return r-Ee.CODEWORD_SKEW_SIZE<=t&&t<=s+Ee.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,s){if(t.length===0)throw j.getFormatInstance();let o=1<<r+1,l=Ee.correctErrors(t,s,o);Ee.verifyCodewordCount(t,o);let u=H.decode(t,""+r);return u.setErrorsCorrected(l),u.setErasures(s.length),u}static correctErrors(t,r,s){if(r!=null&&r.length>s/2+Ee.MAX_ERRORS||s<0||s>Ee.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return Ee.errorCorrection.decode(t,s,r)}static verifyCodewordCount(t,r){if(t.length<4)throw j.getFormatInstance();let s=t[0];if(s>t.length)throw j.getFormatInstance();if(s===0)if(r<t.length)t[0]=t.length-r;else throw j.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),s=0,o=r.length-1;for(;!((t&1)!==s&&(s=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ee.getCodewordBucketNumber(Ee.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new ns;for(let s=0;s<t.length;s++){r.format("Row %2d: ",s);for(let o=0;o<t[s].length;o++){let l=t[s][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ee.CODEWORD_SKEW_SIZE=2,Ee.MAX_ERRORS=3,Ee.MAX_EC_CODEWORDS=512,Ee.errorCorrection=new Zc;class It{decode(t,r=null){let s=It.decode(t,r,!1);if(s==null||s.length===0||s[0]==null)throw Y.getNotFoundInstance();return s[0]}decodeMultiple(t,r=null){try{return It.decode(t,r,!0)}catch(s){throw s instanceof j||s instanceof L?Y.getNotFoundInstance():s}}static decode(t,r,s){const o=new Array,l=Ce.detectMultiple(t,r,s);for(const u of l.getPoints()){const d=Ee.decode(l.getBits(),u[4],u[5],u[6],u[7],It.getMinCodewordWidth(u),It.getMaxCodewordWidth(u)),h=new Je(d.getText(),d.getRawBytes(),void 0,u,ue.PDF_417);h.putMetadata(mt.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&h.putMetadata(mt.PDF417_EXTRA_METADATA,p),o.push(h)}return o.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?v.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(It.getMaxWidth(t[0],t[4]),It.getMaxWidth(t[6],t[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.max(It.getMaxWidth(t[1],t[5]),It.getMaxWidth(t[7],t[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(It.getMinWidth(t[0],t[4]),It.getMinWidth(t[6],t[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.min(It.getMinWidth(t[1],t[5]),It.getMinWidth(t[7],t[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class po extends x{}po.kind="ReaderException";class t1{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!a(t)&&t.get(Z.TRY_HARDER)===!0,s=a(t)?null:t.get(Z.POSSIBLE_FORMATS),o=new Array;if(!a(s)){const l=s.some(u=>u===ue.UPC_A||u===ue.UPC_E||u===ue.EAN_13||u===ue.EAN_8||u===ue.CODABAR||u===ue.CODE_39||u===ue.CODE_93||u===ue.CODE_128||u===ue.ITF||u===ue.RSS_14||u===ue.RSS_EXPANDED);l&&!r&&o.push(new hi(t,this.verbose)),s.includes(ue.QR_CODE)&&o.push(new gr),s.includes(ue.DATA_MATRIX)&&o.push(new hr),s.includes(ue.AZTEC)&&o.push(new lo),s.includes(ue.PDF_417)&&o.push(new It),l&&r&&o.push(new hi(t,this.verbose))}o.length===0&&(r||o.push(new hi(t,this.verbose)),o.push(new gr),o.push(new hr),o.push(new lo),o.push(new It),r&&o.push(new hi(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new po("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(s){if(s instanceof po)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class Qh extends fn{constructor(t=null,r=500){const s=new t1;s.setHints(t),super(s,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Zh extends fn{constructor(t=500){super(new It,t)}}class Kh extends fn{constructor(t=500){super(new gr,t)}}var il;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(il||(il={}));var gt=il;class sl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new zt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let s=r[r.length-1];const o=this.field;for(let l=r.length;l<=t;l++){const u=s.multiply(new zt(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(u),s=u}}return r[t]}encode(t,r){if(r===0)throw new S("No error correction bytes");const s=t.length-r;if(s<=0)throw new S("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(s);B.arraycopy(t,0,l,0,s);let u=new zt(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(o)[1].getCoefficients(),p=r-h.length;for(let w=0;w<p;w++)t[s+w]=0;B.arraycopy(h,0,t,s+p,h.length)}}class st{constructor(){}static applyMaskPenaltyRule1(t){return st.applyMaskPenaltyRule1Internal(t,!0)+st.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l-1;u++){const d=s[u];for(let h=0;h<o-1;h++){const p=d[h];p===d[h+1]&&p===s[u+1][h]&&p===s[u+1][h+1]&&r++}}return st.N2*r}static applyMaskPenaltyRule3(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l;u++)for(let d=0;d<o;d++){const h=s[u];d+6<o&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(st.isWhiteHorizontal(h,d-4,d)||st.isWhiteHorizontal(h,d+7,d+11))&&r++,u+6<l&&s[u][d]===1&&s[u+1][d]===0&&s[u+2][d]===1&&s[u+3][d]===1&&s[u+4][d]===1&&s[u+5][d]===0&&s[u+6][d]===1&&(st.isWhiteVertical(s,d,u-4,u)||st.isWhiteVertical(s,d,u+7,u+11))&&r++}return r*st.N3}static isWhiteHorizontal(t,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let o=r;o<s;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,s,o){s=Math.max(s,0),o=Math.min(o,t.length);for(let l=s;l<o;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const p=s[h];for(let w=0;w<o;w++)p[w]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*st.N4}static getDataMaskBit(t,r,s){let o,l;switch(t){case 0:o=s+r&1;break;case 1:o=s&1;break;case 2:o=r%3;break;case 3:o=(s+r)%3;break;case 4:o=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:l=s*r,o=(l&1)+l%3;break;case 6:l=s*r,o=(l&1)+l%3&1;break;case 7:l=s*r,o=l%3+(s+r&1)&1;break;default:throw new S("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let s=0;const o=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),u=t.getArray();for(let d=0;d<o;d++){let h=0,p=-1;for(let w=0;w<l;w++){const E=r?u[d][w]:u[w][d];E===p?h++:(h>=5&&(s+=st.N1+(h-5)),h=1,p=E)}h>=5&&(s+=st.N1+(h-5))}return s}}st.N1=3,st.N2=3,st.N3=40,st.N4=10;class xo{constructor(t,r){this.width=t,this.height=r;const s=new Array(r);for(let o=0;o!==r;o++)s[o]=new Uint8Array(t);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,s){this.bytes[r][t]=s}setBoolean(t,r,s){this.bytes[r][t]=s?1:0}clear(t){for(const r of this.bytes)T.fill(r,t)}equals(t){if(!(t instanceof xo))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let s=0,o=this.height;s<o;++s){const l=this.bytes[s],u=r.bytes[s];for(let d=0,h=this.width;d<h;++d)if(l[d]!==u[d])return!1}return!0}toString(){const t=new we;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(o[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Gr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new we;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Gr.NUM_MASK_PATTERNS}}Gr.NUM_MASK_PATTERNS=8;class Ue extends x{}Ue.kind="WriterException";class ge{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,s,o,l){ge.clearMatrix(l),ge.embedBasicPatterns(s,l),ge.embedTypeInfo(r,o,l),ge.maybeEmbedVersionInfo(s,l),ge.embedDataBits(t,o,l)}static embedBasicPatterns(t,r){ge.embedPositionDetectionPatternsAndSeparators(r),ge.embedDarkDotAtLeftBottomCorner(r),ge.maybeEmbedPositionAdjustmentPatterns(t,r),ge.embedTimingPatterns(r)}static embedTypeInfo(t,r,s){const o=new U;ge.makeTypeInfoBits(t,r,o);for(let l=0,u=o.getSize();l<u;++l){const d=o.get(o.getSize()-1-l),h=ge.TYPE_INFO_COORDINATES[l],p=h[0],w=h[1];if(s.setBoolean(p,w,d),l<8){const E=s.getWidth()-l-1;s.setBoolean(E,8,d)}else{const A=s.getHeight()-7+(l-8);s.setBoolean(8,A,d)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const s=new U;ge.makeVersionInfoBits(t,s);let o=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const d=s.get(o);o--,r.setBoolean(l,r.getHeight()-11+u,d),r.setBoolean(r.getHeight()-11+u,l,d)}}static embedDataBits(t,r,s){let o=0,l=-1,u=s.getWidth()-1,d=s.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);d>=0&&d<s.getHeight();){for(let h=0;h<2;++h){const p=u-h;if(!ge.isEmpty(s.get(p,d)))continue;let w;o<t.getSize()?(w=t.get(o),++o):w=!1,r!==255&&st.getDataMaskBit(r,p,d)&&(w=!w),s.setBoolean(p,d,w)}d+=l}l=-l,d+=l,u-=2}if(o!==t.getSize())throw new Ue("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-v.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new S("0 polynomial");const s=ge.findMSBSet(r);for(t<<=s-1;ge.findMSBSet(t)>=s;)t^=r<<ge.findMSBSet(t)-s;return t}static makeTypeInfoBits(t,r,s){if(!Gr.isValidMaskPattern(r))throw new Ue("Invalid mask pattern");const o=t.getBits()<<3|r;s.appendBits(o,5);const l=ge.calculateBCHCode(o,ge.TYPE_INFO_POLY);s.appendBits(l,10);const u=new U;if(u.appendBits(ge.TYPE_INFO_MASK_PATTERN,15),s.xor(u),s.getSize()!==15)throw new Ue("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const s=ge.calculateBCHCode(t.getVersionNumber(),ge.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new Ue("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const s=(r+1)%2;ge.isEmpty(t.get(r,6))&&t.setNumber(r,6,s),ge.isEmpty(t.get(6,r))&&t.setNumber(6,r,s)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ue;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,s){for(let o=0;o<8;++o){if(!ge.isEmpty(s.get(t+o,r)))throw new Ue;s.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,s){for(let o=0;o<7;++o){if(!ge.isEmpty(s.get(t,r+o)))throw new Ue;s.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,s){for(let o=0;o<5;++o){const l=ge.POSITION_ADJUSTMENT_PATTERN[o];for(let u=0;u<5;++u)s.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPattern(t,r,s){for(let o=0;o<7;++o){const l=ge.POSITION_DETECTION_PATTERN[o];for(let u=0;u<7;++u)s.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=ge.POSITION_DETECTION_PATTERN[0].length;ge.embedPositionDetectionPattern(0,0,t),ge.embedPositionDetectionPattern(t.getWidth()-r,0,t),ge.embedPositionDetectionPattern(0,t.getWidth()-r,t);const s=8;ge.embedHorizontalSeparationPattern(0,s-1,t),ge.embedHorizontalSeparationPattern(t.getWidth()-s,s-1,t),ge.embedHorizontalSeparationPattern(0,t.getWidth()-s,t);const o=7;ge.embedVerticalSeparationPattern(o,0,t),ge.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),ge.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const s=t.getVersionNumber()-1,o=ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,u=o.length;l!==u;l++){const d=o[l];if(d>=0)for(let h=0;h!==u;h++){const p=o[h];p>=0&&ge.isEmpty(r.get(p,d))&&ge.embedPositionAdjustmentPattern(p-2,d-2,r)}}}}ge.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ge.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ge.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ge.VERSION_INFO_POLY=7973,ge.TYPE_INFO_POLY=1335,ge.TYPE_INFO_MASK_PATTERN=21522;class qh{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class We{constructor(){}static calculateMaskPenalty(t){return st.applyMaskPenaltyRule1(t)+st.applyMaskPenaltyRule2(t)+st.applyMaskPenaltyRule3(t)+st.applyMaskPenaltyRule4(t)}static encode(t,r,s=null){let o=We.DEFAULT_BYTE_MODE_ENCODING;const l=s!==null&&s.get(gt.CHARACTER_SET)!==void 0;l&&(o=s.get(gt.CHARACTER_SET).toString());const u=this.chooseMode(t,o),d=new U;if(u===de.BYTE&&(l||We.DEFAULT_BYTE_MODE_ENCODING!==o)){const ee=G.getCharacterSetECIByName(o);ee!==void 0&&this.appendECI(ee,d)}this.appendModeInfo(u,d);const h=new U;this.appendBytes(t,u,h,o);let p;if(s!==null&&s.get(gt.QR_VERSION)!==void 0){const ee=Number.parseInt(s.get(gt.QR_VERSION).toString(),10);p=fe.getVersionForNumber(ee);const q=this.calculateBitsNeeded(u,d,h,p);if(!this.willFit(q,p,r))throw new Ue("Data too big for requested version")}else p=this.recommendVersion(r,u,d,h);const w=new U;w.appendBitArray(d);const E=u===de.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(E,p,u,w),w.appendBitArray(h);const A=p.getECBlocksForLevel(r),_=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(_,w);const O=this.interleaveWithECBytes(w,p.getTotalCodewords(),_,A.getNumBlocks()),D=new Gr;D.setECLevel(r),D.setMode(u),D.setVersion(p);const P=p.getDimensionForVersion(),V=new xo(P,P),$=this.chooseMaskPattern(O,r,p,V);return D.setMaskPattern($),ge.buildMatrix(O,r,p,$,V),D.setMatrix(V),D}static recommendVersion(t,r,s,o){const l=this.calculateBitsNeeded(r,s,o,fe.getVersionForNumber(1)),u=this.chooseVersion(l,t),d=this.calculateBitsNeeded(r,s,o,u);return this.chooseVersion(d,t)}static calculateBitsNeeded(t,r,s,o){return r.getSize()+t.getCharacterCountBits(o)+s.getSize()}static getAlphanumericCode(t){return t<We.ALPHANUMERIC_TABLE.length?We.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(G.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return de.KANJI;let s=!1,o=!1;for(let l=0,u=t.length;l<u;++l){const d=t.charAt(l);if(We.isDigit(d))s=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)o=!0;else return de.BYTE}return o?de.ALPHANUMERIC:s?de.NUMERIC:de.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=ce.encode(t,G.SJIS)}catch{return!1}const s=r.length;if(s%2!==0)return!1;for(let o=0;o<s;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,s,o){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let d=0;d<Gr.NUM_MASK_PATTERNS;d++){ge.buildMatrix(t,r,s,d,o);let h=this.calculateMaskPenalty(o);h<l&&(l=h,u=d)}return u}static chooseVersion(t,r){for(let s=1;s<=40;s++){const o=fe.getVersionForNumber(s);if(We.willFit(t,o,r))return o}throw new Ue("Data too big")}static willFit(t,r,s){const o=r.getTotalCodewords(),u=r.getECBlocksForLevel(s).getTotalECCodewords(),d=o-u,h=(t+7)/8;return d>=h}static terminateBits(t,r){const s=t*8;if(r.getSize()>s)throw new Ue("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(let u=0;u<4&&r.getSize()<s;++u)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let u=o;u<8;u++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==s)throw new Ue("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,s,o,l,u){if(o>=s)throw new Ue("Block ID too large");const d=t%s,h=s-d,p=Math.floor(t/s),w=p+1,E=Math.floor(r/s),A=E+1,_=p-E,O=w-A;if(_!==O)throw new Ue("EC bytes mismatch");if(s!==h+d)throw new Ue("RS blocks mismatch");if(t!==(E+_)*h+(A+O)*d)throw new Ue("Total bytes mismatch");o<h?(l[0]=E,u[0]=_):(l[0]=A,u[0]=O)}static interleaveWithECBytes(t,r,s,o){if(t.getSizeInBytes()!==s)throw new Ue("Number of bits and data bytes does not match");let l=0,u=0,d=0;const h=new Array;for(let w=0;w<o;++w){const E=new Int32Array(1),A=new Int32Array(1);We.getNumDataBytesAndNumECBytesForBlockID(r,s,o,w,E,A);const _=E[0],O=new Uint8Array(_);t.toBytes(8*l,O,0,_);const D=We.generateECBytes(O,A[0]);h.push(new qh(O,D)),u=Math.max(u,_),d=Math.max(d,D.length),l+=E[0]}if(s!==l)throw new Ue("Data bytes does not match offset");const p=new U;for(let w=0;w<u;++w)for(const E of h){const A=E.getDataBytes();w<A.length&&p.appendBits(A[w],8)}for(let w=0;w<d;++w)for(const E of h){const A=E.getErrorCorrectionBytes();w<A.length&&p.appendBits(A[w],8)}if(r!==p.getSizeInBytes())throw new Ue("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(t,r){const s=t.length,o=new Int32Array(s+r);for(let u=0;u<s;u++)o[u]=t[u]&255;new sl(Me.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=o[s+u];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,s,o){const l=s.getCharacterCountBits(r);if(t>=1<<l)throw new Ue(t+" is bigger than "+((1<<l)-1));o.appendBits(t,l)}static appendBytes(t,r,s,o){switch(r){case de.NUMERIC:We.appendNumericBytes(t,s);break;case de.ALPHANUMERIC:We.appendAlphanumericBytes(t,s);break;case de.BYTE:We.append8BitBytes(t,s,o);break;case de.KANJI:We.appendKanjiBytes(t,s);break;default:throw new Ue("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=We.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=We.getDigit(t.charAt(o));if(o+2<s){const u=We.getDigit(t.charAt(o+1)),d=We.getDigit(t.charAt(o+2));r.appendBits(l*100+u*10+d,10),o+=3}else if(o+1<s){const u=We.getDigit(t.charAt(o+1));r.appendBits(l*10+u,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=We.getAlphanumericCode(t.charCodeAt(o));if(l===-1)throw new Ue;if(o+1<s){const u=We.getAlphanumericCode(t.charCodeAt(o+1));if(u===-1)throw new Ue;r.appendBits(l*45+u,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(t,r,s){let o;try{o=ce.encode(t,s)}catch(l){throw new Ue(l)}for(let l=0,u=o.length;l!==u;l++){const d=o[l];r.appendBits(d,8)}}static appendKanjiBytes(t,r){let s;try{s=ce.encode(t,G.SJIS)}catch(l){throw new Ue(l)}const o=s.length;for(let l=0;l<o;l+=2){const u=s[l]&255,d=s[l+1]&255,h=u<<8&4294967295|d;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new Ue("Invalid byte sequence");const w=(p>>8)*192+(p&255);r.appendBits(w,13)}}static appendECI(t,r){r.appendBits(de.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}We.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),We.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class Yr{write(t,r,s,o=null){if(t.length===0)throw new S("Found empty contents");if(r<0||s<0)throw new S("Requested dimensions are too small: "+r+"x"+s);let l=He.L,u=Yr.QUIET_ZONE_SIZE;o!==null&&(o.get(gt.ERROR_CORRECTION)!==void 0&&(l=He.fromString(o.get(gt.ERROR_CORRECTION).toString())),o.get(gt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(gt.MARGIN).toString(),10)));const d=We.encode(t,l,o);return this.renderResult(d,r,s,u)}writeToDom(t,r,s,o,l=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,s,o,l);t&&t.appendChild(u)}renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new Ln;const u=l.getWidth(),d=l.getHeight(),h=u+o*2,p=d+o*2,w=Math.max(r,h),E=Math.max(s,p),A=Math.min(Math.floor(w/h),Math.floor(E/p)),_=Math.floor((w-u*A)/2),O=Math.floor((E-d*A)/2),D=this.createSVGElement(w,E);for(let P=0,V=O;P<d;P++,V+=A)for(let $=0,ee=_;$<u;$++,ee+=A)if(l.get($,P)===1){const q=this.createSvgRectElement(ee,V,A,A);D.appendChild(q)}return D}createSVGElement(t,r){const s=document.createElementNS(Yr.SVG_NS,"svg");return s.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width",r.toString()),s}createSvgRectElement(t,r,s,o){const l=document.createElementNS(Yr.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Yr.QUIET_ZONE_SIZE=4,Yr.SVG_NS="http://www.w3.org/2000/svg";class pi{encode(t,r,s,o,l){if(t.length===0)throw new S("Found empty contents");if(r!==ue.QR_CODE)throw new S("Can only encode QR_CODE, but got "+r);if(s<0||o<0)throw new S(`Requested dimensions are too small: ${s}x${o}`);let u=He.L,d=pi.QUIET_ZONE_SIZE;l!==null&&(l.get(gt.ERROR_CORRECTION)!==void 0&&(u=He.fromString(l.get(gt.ERROR_CORRECTION).toString())),l.get(gt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(gt.MARGIN).toString(),10)));const h=We.encode(t,u,l);return pi.renderResult(h,s,o,d)}static renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new Ln;const u=l.getWidth(),d=l.getHeight(),h=u+o*2,p=d+o*2,w=Math.max(r,h),E=Math.max(s,p),A=Math.min(Math.floor(w/h),Math.floor(E/p)),_=Math.floor((w-u*A)/2),O=Math.floor((E-d*A)/2),D=new ke(w,E);for(let P=0,V=O;P<d;P++,V+=A)for(let $=0,ee=_;$<u;$++,ee+=A)l.get($,P)===1&&D.setRegion(ee,V,A,A);return D}}pi.QUIET_ZONE_SIZE=4;class Jh{encode(t,r,s,o,l){let u;switch(r){case ue.QR_CODE:u=new pi;break;default:throw new S("No encoder available for format "+r)}return u.encode(t,r,s,o,l)}}class Fn extends re{constructor(t,r,s,o,l,u,d,h){if(super(u,d),this.yuvData=t,this.dataWidth=r,this.dataHeight=s,this.left=o,this.top=l,o+u>r||l+d>s)throw new S("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,d)}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return B.arraycopy(this.yuvData,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return B.arraycopy(this.yuvData,l,o,0,s),o;for(let u=0;u<r;u++){const d=u*t;B.arraycopy(this.yuvData,l,o,d,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new Fn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,s,o,!1)}renderThumbnail(){const t=this.getWidth()/Fn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Fn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(t*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const d=u*t;for(let h=0;h<t;h++){const p=o[l+h*Fn.THUMBNAIL_SCALE_FACTOR]&255;s[d+h]=4278190080|p*65793}l+=this.dataWidth*Fn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Fn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Fn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const s=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const u=l+t/2;for(let d=l,h=l+t-1;d<u;d++,h--){const p=s[d];s[d]=s[h],s[h]=p}}}invert(){return new he(this)}}Fn.THUMBNAIL_SCALE_FACTOR=2;class ol extends re{constructor(t,r,s,o,l,u,d){if(super(r,s),this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=d,t.BYTES_PER_ELEMENT===4){const h=r*s,p=new Uint8ClampedArray(h);for(let w=0;w<h;w++){const E=t[w],A=E>>16&255,_=E>>7&510,O=E&255;p[w]=(A+_+O)/4&255}this.luminances=p}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=s),u===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+s>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return B.arraycopy(this.luminances,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return B.arraycopy(this.luminances,l,o,0,s),o;for(let u=0;u<r;u++){const d=u*t;B.arraycopy(this.luminances,l,o,d,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new ol(this.luminances,s,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new he(this)}}class n1 extends G{static forName(t){return this.getCharacterSetECIByName(t)}}class al{}al.ISO_8859_1=G.ISO8859_1;class r1{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class i1{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class $h{constructor(t){this.previous=t}getPrevious(){return this.previous}}class xi extends $h{constructor(t,r,s){super(t),this.value=r,this.bitCount=s}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new xi(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new xi(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+v.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class ll extends xi{constructor(t,r,s){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=s}appendTo(t,r){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):s===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+s],8)}addBinaryShift(t,r){return new ll(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function eg(C,t,r){return new ll(C,t,r)}function as(C,t,r){return new xi(C,t,r)}const tg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xr=0,mo=1,pn=2,s1=3,Un=4,ng=new xi(null,0,0),ul=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function rg(C){for(let t of C)T.fill(t,-1);return C[xr][Un]=0,C[mo][Un]=0,C[mo][xr]=28,C[s1][Un]=0,C[pn][Un]=0,C[pn][xr]=15,C}const o1=rg(T.createInt32Array(6,6));class jn{constructor(t,r,s,o){this.token=t,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let s=this.bitCount,o=this.token;if(t!==this.mode){let u=ul[this.mode][t];o=as(o,u&65535,u>>16),s+=u>>16}let l=t===pn?4:5;return o=as(o,r,l),new jn(o,t,0,s+l)}shiftAndAppend(t,r){let s=this.token,o=this.mode===pn?4:5;return s=as(s,o1[this.mode][t],o),s=as(s,r,5),new jn(s,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,s=this.mode,o=this.bitCount;if(this.mode===Un||this.mode===pn){let d=ul[s][xr];r=as(r,d&65535,d>>16),o+=d>>16,s=xr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new jn(r,s,this.binaryShiftByteCount+1,o+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=eg(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new jn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(ul[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=jn.calculateBinaryShiftCost(t)-jn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let s=new U;for(const o of r)o.appendTo(s,t);return s}toString(){return ne.format("%s bits=%d bytes=%d",tg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}jn.INITIAL_STATE=new jn(ng,xr,0,0);function ig(C){const t=ne.getCharCode(" "),r=ne.getCharCode("."),s=ne.getCharCode(",");C[xr][t]=1;const o=ne.getCharCode("Z"),l=ne.getCharCode("A");for(let A=l;A<=o;A++)C[xr][A]=A-l+2;C[mo][t]=1;const u=ne.getCharCode("z"),d=ne.getCharCode("a");for(let A=d;A<=u;A++)C[mo][A]=A-d+2;C[pn][t]=1;const h=ne.getCharCode("9"),p=ne.getCharCode("0");for(let A=p;A<=h;A++)C[pn][A]=A-p+2;C[pn][s]=12,C[pn][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<w.length;A++)C[s1][ne.getCharCode(w[A])]=A;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<E.length;A++)ne.getCharCode(E[A])>0&&(C[Un][ne.getCharCode(E[A])]=A);return C}const cl=ig(T.createInt32Array(5,256));class ls{constructor(t){this.text=t}encode(){const t=ne.getCharCode(" "),r=ne.getCharCode(`
`);let s=i1.singletonList(jn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ne.getCharCode("\r"):u=d===r?2:0;break;case ne.getCharCode("."):u=d===t?3:0;break;case ne.getCharCode(","):u=d===t?4:0;break;case ne.getCharCode(":"):u=d===t?5:0;break;default:u=0}u>0?(s=ls.updateStateListForPair(s,l,u),l++):s=this.updateStateListForChar(s,l)}return i1.min(s,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const s=[];for(let o of t)this.updateStateForChar(o,r,s);return ls.simplifyStates(s)}updateStateForChar(t,r,s){let o=this.text[r]&255,l=cl[t.getMode()][o]>0,u=null;for(let d=0;d<=Un;d++){let h=cl[d][o];if(h>0){if(u==null&&(u=t.endBinaryShift(r)),!l||d===t.getMode()||d===pn){const p=u.latchAndAppend(d,h);s.push(p)}if(!l&&o1[t.getMode()][d]>=0){const p=u.shiftAndAppend(d,h);s.push(p)}}}if(t.getBinaryShiftByteCount()>0||cl[t.getMode()][o]===0){let d=t.addBinaryShiftChar(r);s.push(d)}}static updateStateListForPair(t,r,s){const o=[];for(let l of t)this.updateStateForPair(l,r,s,o);return this.simplifyStates(o)}static updateStateForPair(t,r,s,o){let l=t.endBinaryShift(r);if(o.push(l.latchAndAppend(Un,s)),t.getMode()!==Un&&o.push(l.shiftAndAppend(Un,s)),s===3||s===4){let u=l.latchAndAppend(pn,16-s).latchAndAppend(pn,1);o.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(u)}}static simplifyStates(t){let r=[];for(const s of t){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(s)){o=!1;break}s.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}o&&r.push(s)}return r}}class Ne{constructor(){}static encodeBytes(t){return Ne.encode(t,Ne.DEFAULT_EC_PERCENT,Ne.DEFAULT_AZTEC_LAYERS)}static encode(t,r,s){let o=new ls(t).encode(),l=v.truncDivision(o.getSize()*r,100)+11,u=o.getSize()+l,d,h,p,w,E;if(s!==Ne.DEFAULT_AZTEC_LAYERS){if(d=s<0,h=Math.abs(s),h>(d?Ne.MAX_NB_BITS_COMPACT:Ne.MAX_NB_BITS))throw new S(ne.format("Illegal value %s for layers",s));p=Ne.totalBitsInLayer(h,d),w=Ne.WORD_SIZE[h];let q=p-p%w;if(E=Ne.stuffBits(o,w),E.getSize()+l>q)throw new S("Data to large for user specified layer");if(d&&E.getSize()>w*64)throw new S("Data to large for user specified layer")}else{w=0,E=null;for(let q=0;;q++){if(q>Ne.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(d=q<=3,h=d?q+1:q,p=Ne.totalBitsInLayer(h,d),u>p)continue;(E==null||w!==Ne.WORD_SIZE[h])&&(w=Ne.WORD_SIZE[h],E=Ne.stuffBits(o,w));let Ie=p-p%w;if(!(d&&E.getSize()>w*64)&&E.getSize()+l<=Ie)break}}let A=Ne.generateCheckWords(E,p,w),_=E.getSize()/w,O=Ne.generateModeMessage(d,h,_),D=(d?11:14)+h*4,P=new Int32Array(D),V;if(d){V=D;for(let q=0;q<P.length;q++)P[q]=q}else{V=D+1+2*v.truncDivision(v.truncDivision(D,2)-1,15);let q=v.truncDivision(D,2),Ie=v.truncDivision(V,2);for(let ye=0;ye<q;ye++){let Gt=ye+v.truncDivision(ye,15);P[q-ye-1]=Ie-Gt-1,P[q+ye]=Ie+Gt+1}}let $=new ke(V);for(let q=0,Ie=0;q<h;q++){let ye=(h-q)*4+(d?9:12);for(let Gt=0;Gt<ye;Gt++){let vn=Gt*2;for(let Yt=0;Yt<2;Yt++)A.get(Ie+vn+Yt)&&$.set(P[q*2+Yt],P[q*2+Gt]),A.get(Ie+ye*2+vn+Yt)&&$.set(P[q*2+Gt],P[D-1-q*2-Yt]),A.get(Ie+ye*4+vn+Yt)&&$.set(P[D-1-q*2-Yt],P[D-1-q*2-Gt]),A.get(Ie+ye*6+vn+Yt)&&$.set(P[D-1-q*2-Gt],P[q*2+Yt])}Ie+=ye*8}if(Ne.drawModeMessage($,d,V,O),d)Ne.drawBullsEye($,v.truncDivision(V,2),5);else{Ne.drawBullsEye($,v.truncDivision(V,2),7);for(let q=0,Ie=0;q<v.truncDivision(D,2)-1;q+=15,Ie+=16)for(let ye=v.truncDivision(V,2)&1;ye<V;ye+=2)$.set(v.truncDivision(V,2)-Ie,ye),$.set(v.truncDivision(V,2)+Ie,ye),$.set(ye,v.truncDivision(V,2)-Ie),$.set(ye,v.truncDivision(V,2)+Ie)}let ee=new r1;return ee.setCompact(d),ee.setSize(V),ee.setLayers(h),ee.setCodeWords(_),ee.setMatrix($),ee}static drawBullsEye(t,r,s){for(let o=0;o<s;o+=2)for(let l=r-o;l<=r+o;l++)t.set(l,r-o),t.set(l,r+o),t.set(r-o,l),t.set(r+o,l);t.set(r-s,r-s),t.set(r-s+1,r-s),t.set(r-s,r-s+1),t.set(r+s,r-s),t.set(r+s,r-s+1),t.set(r+s,r+s-1)}static generateModeMessage(t,r,s){let o=new U;return t?(o.appendBits(r-1,2),o.appendBits(s-1,6),o=Ne.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(s-1,11),o=Ne.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,s,o){let l=v.truncDivision(s,2);if(r)for(let u=0;u<7;u++){let d=l-3+u;o.get(u)&&t.set(d,l-5),o.get(u+7)&&t.set(l+5,d),o.get(20-u)&&t.set(d,l+5),o.get(27-u)&&t.set(l-5,d)}else for(let u=0;u<10;u++){let d=l-5+u+v.truncDivision(u,5);o.get(u)&&t.set(d,l-7),o.get(u+10)&&t.set(l+7,d),o.get(29-u)&&t.set(d,l+7),o.get(39-u)&&t.set(l-7,d)}}static generateCheckWords(t,r,s){let o=t.getSize()/s,l=new sl(Ne.getGF(s)),u=v.truncDivision(r,s),d=Ne.bitsToWords(t,s,u);l.encode(d,u-o);let h=r%s,p=new U;p.appendBits(0,h);for(const w of Array.from(d))p.appendBits(w,s);return p}static bitsToWords(t,r,s){let o=new Int32Array(s),l,u;for(l=0,u=t.getSize()/r;l<u;l++){let d=0;for(let h=0;h<r;h++)d|=t.get(l*r+h)?1<<r-h-1:0;o[l]=d}return o}static getGF(t){switch(t){case 4:return Me.AZTEC_PARAM;case 6:return Me.AZTEC_DATA_6;case 8:return Me.AZTEC_DATA_8;case 10:return Me.AZTEC_DATA_10;case 12:return Me.AZTEC_DATA_12;default:throw new S("Unsupported word size "+t)}}static stuffBits(t,r){let s=new U,o=t.getSize(),l=(1<<r)-2;for(let u=0;u<o;u+=r){let d=0;for(let h=0;h<r;h++)(u+h>=o||t.get(u+h))&&(d|=1<<r-1-h);(d&l)===l?(s.appendBits(d&l,r),u--):d&l?s.appendBits(d,r):(s.appendBits(d|1,r),u--)}return s}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Ne.DEFAULT_EC_PERCENT=33,Ne.DEFAULT_AZTEC_LAYERS=0,Ne.MAX_NB_BITS=32,Ne.MAX_NB_BITS_COMPACT=4,Ne.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class wo{encode(t,r,s,o){return this.encodeWithHints(t,r,s,o,null)}encodeWithHints(t,r,s,o,l){let u=al.ISO_8859_1,d=Ne.DEFAULT_EC_PERCENT,h=Ne.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(gt.CHARACTER_SET)&&(u=n1.forName(l.get(gt.CHARACTER_SET).toString())),l.has(gt.ERROR_CORRECTION)&&(d=v.parseInt(l.get(gt.ERROR_CORRECTION).toString())),l.has(gt.AZTEC_LAYERS)&&(h=v.parseInt(l.get(gt.AZTEC_LAYERS).toString()))),wo.encodeLayers(t,r,s,o,u,d,h)}static encodeLayers(t,r,s,o,l,u,d){if(r!==ue.AZTEC)throw new S("Can only encode AZTEC, but got "+r);let h=Ne.encode(ne.getBytes(t,l),u,d);return wo.renderResult(h,s,o)}static renderResult(t,r,s){let o=t.getMatrix();if(o==null)throw new Ln;let l=o.getWidth(),u=o.getHeight(),d=Math.max(r,l),h=Math.max(s,u),p=Math.min(d/l,h/u),w=(d-l*p)/2,E=(h-u*p)/2,A=new ke(d,h);for(let _=0,O=E;_<u;_++,O+=p)for(let D=0,P=w;D<l;D++,P+=p)o.get(D,_)&&A.setRegion(P,O,p,p);return A}}i.AbstractExpandedDecoder=Za,i.ArgumentException=I,i.ArithmeticException=so,i.AztecCode=r1,i.AztecCodeReader=lo,i.AztecCodeWriter=wo,i.AztecDecoder=ze,i.AztecDetector=Vc,i.AztecDetectorResult=zc,i.AztecEncoder=Ne,i.AztecHighLevelEncoder=ls,i.AztecPoint=kt,i.BarcodeFormat=ue,i.Binarizer=z,i.BinaryBitmap=b,i.BitArray=U,i.BitMatrix=ke,i.BitSource=$a,i.BrowserAztecCodeReader=Rh,i.BrowserBarcodeReader=kh,i.BrowserCodeReader=fn,i.BrowserDatamatrixCodeReader=Ph,i.BrowserMultiFormatReader=Qh,i.BrowserPDF417Reader=Zh,i.BrowserQRCodeReader=Kh,i.BrowserQRCodeSvgWriter=Yr,i.CharacterSetECI=G,i.ChecksumException=L,i.Code128Reader=te,i.Code39Reader=dt,i.DataMatrixDecodedBitStreamParser=dr,i.DataMatrixReader=hr,i.DecodeHintType=Z,i.DecoderResult=qi,i.DefaultGridSampler=Hc,i.DetectorResult=ao,i.EAN13Reader=zr,i.EncodeHintType=gt,i.Exception=x,i.FormatException=j,i.GenericGF=Me,i.GenericGFPoly=zt,i.GlobalHistogramBinarizer=Qe,i.GridSampler=Ga,i.GridSamplerInstance=cr,i.HTMLCanvasElementLuminanceSource=pe,i.HybridBinarizer=me,i.ITFReader=Fe,i.IllegalArgumentException=S,i.IllegalStateException=Ln,i.InvertedLuminanceSource=he,i.LuminanceSource=re,i.MathUtils=Te,i.MultiFormatOneDReader=hi,i.MultiFormatReader=t1,i.MultiFormatWriter=Jh,i.NotFoundException=Y,i.OneDReader=ct,i.PDF417DecodedBitStreamParser=H,i.PDF417DecoderErrorCorrection=Zc,i.PDF417Reader=It,i.PDF417ResultMetadata=qc,i.PerspectiveTransform=Sn,i.PlanarYUVLuminanceSource=Fn,i.QRCodeByteMatrix=xo,i.QRCodeDataMask=hn,i.QRCodeDecodedBitStreamParser=$e,i.QRCodeDecoderErrorCorrectionLevel=He,i.QRCodeDecoderFormatInformation=Rt,i.QRCodeEncoder=We,i.QRCodeEncoderQRCode=Gr,i.QRCodeMaskUtil=st,i.QRCodeMatrixUtil=ge,i.QRCodeMode=de,i.QRCodeReader=gr,i.QRCodeVersion=fe,i.QRCodeWriter=pi,i.RGBLuminanceSource=ol,i.RSS14Reader=it,i.RSSExpandedReader=K,i.ReaderException=po,i.ReedSolomonDecoder=$i,i.ReedSolomonEncoder=sl,i.ReedSolomonException=ui,i.Result=Je,i.ResultMetadataType=mt,i.ResultPoint=le,i.StringUtils=ne,i.UnsupportedOperationException=ae,i.VideoInputDevice=Pe,i.WhiteRectangleDetector=Qn,i.WriterException=Ue,i.ZXingArrays=T,i.ZXingCharset=n1,i.ZXingInteger=v,i.ZXingStandardCharsets=al,i.ZXingStringBuilder=we,i.ZXingStringEncoding=ce,i.ZXingSystem=B,i.createAbstractExpandedDecoder=Xc,Object.defineProperty(i,"__esModule",{value:!0})})})(Bu,Bu.exports);var Ye=Bu.exports;const zm=zf(Ye),Hm=ag({__proto__:null,default:zm},[Ye]);var Rf=function(){function e(n,i,a){if(this.formatMap=new Map([[se.QR_CODE,Ye.BarcodeFormat.QR_CODE],[se.AZTEC,Ye.BarcodeFormat.AZTEC],[se.CODABAR,Ye.BarcodeFormat.CODABAR],[se.CODE_39,Ye.BarcodeFormat.CODE_39],[se.CODE_93,Ye.BarcodeFormat.CODE_93],[se.CODE_128,Ye.BarcodeFormat.CODE_128],[se.DATA_MATRIX,Ye.BarcodeFormat.DATA_MATRIX],[se.MAXICODE,Ye.BarcodeFormat.MAXICODE],[se.ITF,Ye.BarcodeFormat.ITF],[se.EAN_13,Ye.BarcodeFormat.EAN_13],[se.EAN_8,Ye.BarcodeFormat.EAN_8],[se.PDF_417,Ye.BarcodeFormat.PDF_417],[se.RSS_14,Ye.BarcodeFormat.RSS_14],[se.RSS_EXPANDED,Ye.BarcodeFormat.RSS_EXPANDED],[se.UPC_A,Ye.BarcodeFormat.UPC_A],[se.UPC_E,Ye.BarcodeFormat.UPC_E],[se.UPC_EAN_EXTENSION,Ye.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Hm)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var c=this.createZXingFormats(n),f=new Map;f.set(Ye.DecodeHintType.POSSIBLE_FORMATS,c),f.set(Ye.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(n){var i=this;return new Promise(function(a,c){try{a(i.decode(n))}catch(f){c(f)}})},e.prototype.decode=function(n){var i=new Ye.MultiFormatReader(this.verbose,this.hints),a=new Ye.HTMLCanvasElementLuminanceSource(n),c=new Ye.BinaryBitmap(new Ye.HybridBinarizer(a)),f=i.decode(c);return{text:f.text,format:Sh.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,c){n.set(i,a)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var i=[],a=0,c=n;a<c.length;a++){var f=c[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Vm=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},Wm=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},bf=function(){function e(n,i,a){if(this.formatMap=new Map([[se.QR_CODE,"qr_code"],[se.AZTEC,"aztec"],[se.CODABAR,"codabar"],[se.CODE_39,"code_39"],[se.CODE_93,"code_93"],[se.CODE_128,"code_128"],[se.DATA_MATRIX,"data_matrix"],[se.ITF,"itf"],[se.EAN_13,"ean_13"],[se.EAN_8,"ean_8"],[se.PDF_417,"pdf417"],[se.UPC_A,"upc_a"],[se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var c=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Vm(this,void 0,void 0,function(){var i,a;return Wm(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(n)];case 1:if(i=c.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:Sh.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var i=null,a=0,c=0,f=n;c<f.length;c++){var g=f[c],m=g.boundingBox.width*g.boundingBox.height;m>a&&(a=m,i=g)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(n){for(var i=[],a=0,c=n;a<c.length;a++){var f=c[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,c){n.set(i,a)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Of=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},Df=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Gm=function(){function e(n,i,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&bf.isSupported()?(this.primaryDecoder=new bf(n,a,c),this.secondaryDecoder=new Rf(n,a,c)):this.primaryDecoder=new Rf(n,a,c)}return e.prototype.decodeAsync=function(n){return Of(this,void 0,void 0,function(){var i;return Df(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return Of(this,void 0,void 0,function(){var i,a;return Df(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var i=performance.now()-n;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,i=0,a=this.executionResults;i<a.length;i++){var c=a[i];n+=c}var f=n/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Uc=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),Ia=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},va=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Nh=function(){function e(n,i){this.name=n,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var i=n[this.name];return i}return null},e}(),Ym=function(e){Uc(n,e);function n(i,a){return e.call(this,i,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(i){var a={};a[this.name]=i;var c={advanced:[a]};return this.track.applyConstraints(c)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(Nh),Xm=function(e){Uc(n,e);function n(i){return e.call(this,"zoom",i)||this}return n}(Ym),Qm=function(e){Uc(n,e);function n(i){return e.call(this,"torch",i)||this}return n}(Nh),Zm=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Xm(this.track)},e.prototype.torchFeature=function(){return new Qm(this.track)},e}(),Km=function(){function e(n,i,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var i=document.createElement("video");return i.style.width="".concat(n,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=n.surface.clientWidth,c=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,c),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,i,a,c){return Ia(this,void 0,void 0,function(){var f,g;return va(this,function(m){switch(m.label){case 0:return f=new e(n,i,c),a.aspectRatio?(g={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:m.sent(),m.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var i=this,a=function(){setTimeout(n,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return Ia(this,void 0,void 0,function(){return va(this,function(i){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(i,a){var c=n.mediaStream.getVideoTracks(),f=c.length,g=0;n.mediaStream.getVideoTracks().forEach(function(m){n.mediaStream.removeTrack(m),m.stop(),++g,g>=f&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),i())})})},e.prototype.getCapabilities=function(){return new Zm(this.getFirstTrackOrFail())},e}(),qm=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,i,a){return Ia(this,void 0,void 0,function(){return va(this,function(c){return[2,Km.create(n,this.mediaStream,i,a)]})})},e.create=function(n){return Ia(this,void 0,void 0,function(){var i,a;return va(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=c.sent(),[2,new e(a)]}})})},e}(),Lf=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},kf=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Jm=function(){function e(){}return e.failIfNotSupported=function(){return Lf(this,void 0,void 0,function(){return kf(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return Lf(this,void 0,void 0,function(){return kf(this,function(i){return[2,qm.create(n)]})})},e}(),$m=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},ew=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},tw=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Oi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Oi.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return $m(this,void 0,void 0,function(){var n,i,a,c,f,g,m;return ew(this,function(y){switch(y.label){case 0:return n=function(x){for(var I=x.getVideoTracks(),S=0,b=I;S<b.length;S++){var L=b[S];L.enabled=!1,L.stop(),x.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=y.sent(),c=[],f=0,g=a;f<g.length;f++)m=g[f],m.kind==="videoinput"&&c.push({id:m.deviceId,label:m.label});return n(i),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,i){var a=function(f){for(var g=[],m=0,y=f;m<y.length;m++){var x=y[m];x.kind==="video"&&g.push({id:x.id,label:x.label})}n(g)},c=MediaStreamTrack;c.getSources(a)})},e}(),ot;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ot||(ot={}));var nw=function(){function e(){this.state=ot.NOT_STARTED,this.onGoingTransactionNewState=ot.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ot.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ot.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ot.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ot.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ot.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case ot.UNKNOWN:throw"Transition from unknown is not allowed";case ot.NOT_STARTED:this.failIfNewStateIs(n,[ot.PAUSED]);break;case ot.SCANNING:break;case ot.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,i){for(var a=0,c=i;a<c.length;a++){var f=c[a];if(n===f)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),rw=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ot.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ot.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ot.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ot.PAUSED},e}(),iw=function(){function e(){}return e.create=function(){return new rw(new nw)},e}(),sw=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),$t=function(e){sw(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(Mn),ow=function(){function e(n,i){this.logger=i,this.fps=$t.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=$t.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Th.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Vn(this.qrbox)},e.create=function(n,i){return new e(n,i)},e}(),Bf=function(){function e(n,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new vh(this.verbose),this.qrcode=new Gm(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=iw.create()}return e.prototype.start=function(n,i,a,c){var f=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;c?g=c:g=this.verbose?this.logger.log:function(){};var m=ow.create(i,this.logger);this.clearElement();var y=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=y,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:$t.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var S=this,b=this.stateManagerProxy.startTransition(ot.SCANNING);return new Promise(function(L,z){var B=x?m.videoConstraints:S.createVideoConstraints(n);if(!B){b.cancel(),z("videoConstraints should be defined");return}var X={};(!x||m.aspectRatio)&&(X.aspectRatio=m.aspectRatio);var R={onRenderSurfaceReady:function(T,v){S.setupUi(T,v,m),S.isScanning=!0,S.foreverScan(m,a,g)}};Jm.failIfNotSupported().then(function(T){T.create(B).then(function(v){return v.render(f.element,X,R).then(function(U){S.renderedCamera=U,b.execute(),L(null)}).catch(function(U){b.cancel(),z(U)})}).catch(function(v){b.cancel(),z(Oi.errorGettingUserMedia(v))})}).catch(function(T){b.cancel(),z(Oi.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ot.PAUSED),this.showPausedState(),(Vn(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,i=function(){n.stateManagerProxy.directTransition(ot.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(ot.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var f=document.getElementById($t.SHADED_REGION_ELEMENT_ID);f&&n.element.removeChild(f)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),i.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,i){return this.scanFileV2(n,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(n,i){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Vn(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var g=new Image;g.onload=function(){var m=g.width,y=g.height,x=document.getElementById(a.elementId),I=x.clientWidth?x.clientWidth:$t.DEFAULT_WIDTH,S=Math.max(x.clientHeight?x.clientHeight:y,$t.FILE_SCAN_MIN_HEIGHT),b=a.computeCanvasDrawConfig(m,y,I,S);if(i){var L=a.createCanvasElement(I,S,"qr-canvas-visible");L.style.display="inline-block",x.appendChild(L);var z=L.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=I,z.canvas.height=S,z.drawImage(g,0,0,m,y,b.x,b.y,b.width,b.height)}var B=$t.FILE_SCAN_HIDDEN_CANVAS_PADDING,X=Math.max(g.width,b.width),R=Math.max(g.height,b.height),T=X+2*B,v=R+2*B,U=a.createCanvasElement(T,v);x.appendChild(U);var Q=U.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=T,Q.canvas.height=v,Q.drawImage(g,0,0,m,y,B,B,X,R);try{a.qrcode.decodeRobustlyAsync(U).then(function(Z){c(_f.createFromQrcodeResult(Z))}).catch(f)}catch(Z){f("QR code parse error, error = ".concat(Z))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return tw.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!Th.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var i=[se.QR_CODE,se.AZTEC,se.CODABAR,se.CODE_39,se.CODE_93,se.CODE_128,se.DATA_MATRIX,se.MAXICODE,se.ITF,se.EAN_13,se.EAN_8,se.PDF_417,se.RSS_14,se.RSS_EXPANDED,se.UPC_A,se.UPC_E,se.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return i;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,f=n.formatsToSupport;c<f.length;c++){var g=f[c];Um(g)?a.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Vn(n))return!0;if(!Vn(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Vn(n.experimentalFeatures))return!0;var i=n.experimentalFeatures;return Vn(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,i,a){var c=this,f=a.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(n,i,f),m=function(x){if(x<$t.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($t.MIN_QR_BOX_SIZE,"px.")},y=function(x){return x>n&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};m(g.width),m(g.height),g.width=y(g.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,i)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(n,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,i,a);var c=Vn(a.qrbox)?{width:n,height:i}:a.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(n,i,c);f.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=a.isShadedBoxEnabled()&&f.height<=i,m={x:0,y:0,width:n,height:i},y=g?this.getShadedRegionBounds(n,i,f):m,x=this.createCanvasElement(y.width,y.height),I={willReadFrequently:!0},S=x.getContext("2d",I);S.canvas.width=y.width,S.canvas.height=y.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,n,i,f),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=S,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(n){var i=document.createElement("div");i.innerText=Oi.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",n.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(n,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return n(c.text,_f.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var f=Oi.codeParseError(c);return i(f,Ih.createFrom(f)),!1})},e.prototype.foreverScan=function(n,i,a){var c=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,m=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*g,x=this.qrRegion.height*m,I=this.qrRegion.x*g,S=this.qrRegion.y*m;this.context.drawImage(f,I,S,y,x,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(n,i,a)},c.getTimeoutFps(n.fps))};this.scanContext(i,a).then(function(L){!L&&n.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(i,a).finally(function(){b()})):b()}).catch(function(L){c.logger.logError("Error happend while scanning context",L),b()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var i="facingMode",a="deviceId",c={user:!0,environment:!0},f="exact",g=function(z){if(z in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(z,"'")},m=Object.keys(n);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var y=Object.keys(n)[0];if(y!==i&&y!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(y===i){var x=n.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(g(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var I=typeof x;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var S=n.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(f in S)return{deviceId:{exact:S["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var b=typeof S;throw"Invalid type of 'deviceId' = ".concat(b)}}}var L=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},e.prototype.computeCanvasDrawConfig=function(n,i,a,c){if(n<=a&&i<=c){var f=(a-n)/2,g=(c-i)/2;return{x:f,y:g,width:n,height:i}}else{var m=n,y=i;return n>a&&(i=a/n*i,n=a),i>c&&(n=c/i*n,i=c),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(y)+" to ".concat(n,"X").concat(i,".")),this.computeCanvasDrawConfig(n,i,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=n?$t.BORDER_SHADER_MATCH_COLOR:$t.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,i,a){var c=n,f=i,g=document.createElement("canvas");return g.style.width="".concat(c,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=Vn(a)?"qr-canvas":a,g},e.prototype.getShadedRegionBounds=function(n,i,a){if(a.width>n||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(n,i,a,c){if(!(i-c.width<1||a-c.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(i-c.width)/2,m=(a-c.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat($t.SHADED_REGION_ELEMENT_ID),i-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var y=5,x=40;this.insertShaderBorders(f,x,y,-y,null,0,!0),this.insertShaderBorders(f,x,y,-y,null,0,!1),this.insertShaderBorders(f,x,y,null,-y,0,!0),this.insertShaderBorders(f,x,y,null,-y,0,!1),this.insertShaderBorders(f,y,x+y,-y,null,-y,!0),this.insertShaderBorders(f,y,x+y,null,-y,-y,!0),this.insertShaderBorders(f,y,x+y,-y,null,-y,!1),this.insertShaderBorders(f,y,x+y,null,-y,-y,!1),this.hasBorderShaders=!0}n.append(f)}},e.prototype.insertShaderBorders=function(n,i,a,c,f,g,m){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=$t.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(i,"px"),y.style.height="".concat(a,"px"),c!==null&&(y.style.top="".concat(c,"px")),f!==null&&(y.style.bottom="".concat(f,"px")),m?y.style.left="".concat(g,"px"):y.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),n.appendChild(y)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),jc="data:image/svg+xml;base64,",aw=jc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",lw=jc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Pf=jc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",uw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Ff=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),cw=function(){function e(){this.data=Ff.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Ff.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),fw=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Mf.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var a=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(c);var f=document.createElement("a");f.innerText=Mf.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),dw=function(){function e(n,i){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Pf,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return i.onHoverIn()},this.infoIcon.onmouseout=function(a){return i.onHoverOut()},this.infoIcon.onclick=function(a){return i.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=uw,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Pf,this.infoIcon.style.opacity="0.6")},e}(),hw=function(){function e(){var n=this;this.infoDiv=new fw,this.infoIcon=new dw(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),gw=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},pw=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Uf=function(){function e(){}return e.hasPermissions=function(){return gw(this,void 0,void 0,function(){var n,i,a,c;return pw(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=f.sent(),i=0,a=n;i<a.length;i++)if(c=a[i],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},e}(),wr=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,i=this.supportedScanTypes;n<i.length;n++){var a=i[n];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(n){return n===Br.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===Br.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return Mn.DEFAULT_SUPPORTED_SCAN_TYPE;var i=Mn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var a=0,c=n;a<c.length;a++){var f=c[a];if(!Mn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return n},e}(),nn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),$n=function(){function e(){}return e.createElement=function(n,i){var a=document.createElement(n);return a.id=i,a.classList.add(nn.ALL_ELEMENT_CLASS),n==="button"&&a.setAttribute("type","button"),a},e}(),_h=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},Mh=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},jf=function(){function e(n,i,a){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=i,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return _h(this,void 0,void 0,function(){var n,i;return Mh(this,function(a){switch(a.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return i=a.sent(),this.propagateFailure(n,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,i){n===i?(this.buttonController.setText(i?De.torchOffButton():De.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(n,i){var a=n?De.torchOnFailedMessage():De.torchOffFailedMessage();i&&(a+="; Error = "+i),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),xw=function(){function e(n,i){this.onTorchActionFailureCallback=i,this.torchButton=$n.createElement("button",nn.TORCH_BUTTON_ID),this.torchController=new jf(n,this,i)}return e.prototype.render=function(n,i){var a=this;this.torchButton.innerText=De.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var c=this;this.torchButton.addEventListener("click",function(f){return _h(a,void 0,void 0,function(){return Mh(this,function(g){switch(g.label){case 0:return[4,c.torchController.flipState()];case 1:return g.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(nn.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(nn.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(nn.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(nn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new jf(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=De.torchOnButton(),this.torchController.reset()},e.create=function(n,i,a,c){var f=new e(i,c);return f.render(n,a),f},e}(),mw=function(){function e(n,i,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",n.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=$n.createElement("button",nn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(m){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=$n.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(m){if(!(m==null||m.target==null)){var y=m.target;if(!(y.files&&y.files.length===0)){var x=y.files,I=x[0],S=I.name;f.setImageNameToButton(S),a(I)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(m){m.stopPropagation(),m.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var y=m.dataTransfer;if(y){var x=y.files;if(!x||x.length===0)return;for(var I=!1,S=0;S<x.length;++S){var b=x.item(S);if(b){var L=/image.*/;if(b.type.match(L)){I=!0;var z=b.name;f.setImageNameToButton(z),a(b),g.innerText=De.dragAndDropMessage();break}}}I||(g.innerText=De.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=De.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){var i=20;if(n.length>i){var a=n.substring(0,8),c=n.length,f=n.substring(c-8,c);n="".concat(a,"....").concat(f)}var g=De.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=g},e.prototype.setInitialValueToButton=function(){var n=De.fileSelectionChooseImage()+" - "+De.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,i,a){var c=new e(n,i,a);return c},e}(),ww=function(){function e(n){this.selectElement=$n.createElement("select",nn.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var i=document.createElement("span");i.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)i.style.display="none";else{var c=De.selectCamera();i.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var f=1,g=0,m=this.cameras;g<m.length;g++){var y=m[g],x=y.id,I=y.label==null?x:y.label;(!I||I==="")&&(I=[De.anonymousCameraPrefix(),f++].join(" "));var S=document.createElement("option");S.value=x,S.innerText=I,this.options.push(S),this.selectElement.appendChild(S)}i.appendChild(this.selectElement),n.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var i=0,a=this.options;i<a.length;i++){var c=a[i];if(c.value===n)return!0}return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,i){var a=new e(i);return a.render(n),a},e}(),yw=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=$n.createElement("input",nn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=De.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=De.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,i,a,c){this.rangeInput.min=n.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,i){var a=new e;return a.render(n,i),a},e}(),en;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(en||(en={}));function Cw(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function Ew(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}var Aw=function(){function e(n,i,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(i),this.verbose=a===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new wr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new vh(this.verbose),this.persistedDataManager=new cw,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(n,i){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,g){if(n)n(f,g);else{if(a.lastMatchFound===f)return;a.lastMatchFound=f,a.setHeaderMessage(De.lastMatch(f),en.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,g){i&&i(f,g)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new Bf(this.getScanRegionId(),Ew(this.config,this.verbose))},e.prototype.pause=function(n){(Vn(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,i=function(){var a=document.getElementById(n.elementId);a&&(a.innerHTML="",n.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,c){if(!n.html5Qrcode){a();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(f){if(!n.html5Qrcode){a();return}n.html5Qrcode.clear(),i(),a()}).catch(function(f){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",f),c(f)}):(n.html5Qrcode.clear(),i(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=Mn.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!Mn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=Mn.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=Mn.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:Mn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Mn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Mn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var i=document.createElement("div"),a=this.getScanRegionId();i.id=a,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",n.appendChild(i),wr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),f=this.getDashboardId();c.id=f,c.style.width="100%",n.appendChild(c),this.setupInitialDashboard(c)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",n.appendChild(i);var a=new hw;a.renderInto(i);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",i.appendChild(c)},e.prototype.createSection=function(n){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",n.appendChild(i)},e.prototype.createCameraListUi=function(n,i,a){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(De.cameraPermissionRequesting());var f=function(){a||c.createPermissionButton(n,i)};Bf.getCameras().then(function(g){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),g&&g.length>0?(n.removeChild(i),c.renderCameraSelection(g)):(c.setHeaderMessage(De.noCameraFound(),en.STATUS_WARNING),f())}).catch(function(g){c.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:f(),c.setHeaderMessage(g,en.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,i){var a=this,c=$n.createElement("button",this.getCameraPermissionButtonId());c.innerText=De.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,a.createCameraListUi(n,i,c)}),i.appendChild(c)},e.prototype.createPermissionsUi=function(n,i){var a=this;if(wr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Uf.hasPermissions().then(function(c){c?a.createCameraListUi(n,i):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(n,i))}).catch(function(c){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(n,i)});return}this.createPermissionButton(n,i)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");n.appendChild(i);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=wr.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(a);var c=document.createElement("div");c.style.textAlign="center",a.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,c),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(n){var i=wr.isFileScanType(this.currentScanType),a=this,c=function(f){if(!a.html5Qrcode)throw"html5Qrcode not defined";wr.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(De.loadingImage()),a.html5Qrcode.scanFileV2(f,!0).then(function(g){a.resetHeaderMessage(),a.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){a.setHeaderMessage(g,en.STATUS_WARNING),a.qrCodeErrorCallback(g,Ih.createFrom(g))}))};this.fileSelectionUi=mw.create(n,i,c)},e.prototype.renderCameraSelection=function(n){var i=this,a=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var f=yw.create(c,!1),g=function(B){var X=B.zoomFeature();if(X.isSupported()){f.setOnCameraZoomValueChangeCallback(function(T){X.apply(T)});var R=1;i.config.defaultZoomValueIfSupported&&(R=i.config.defaultZoomValueIfSupported),R=jm(R,X.min(),X.max()),f.setValues(X.min(),X.max(),R,X.step()),f.show()}},m=ww.create(c,n),y=document.createElement("span"),x=$n.createElement("button",nn.CAMERA_START_BUTTON_ID);x.innerText=De.scanButtonStartScanningText(),y.appendChild(x);var I=$n.createElement("button",nn.CAMERA_STOP_BUTTON_ID);I.innerText=De.scanButtonStopScanningText(),I.style.display="none",I.disabled=!0,y.appendChild(I);var S,b=function(B){if(!B.torchFeature().isSupported()){S&&S.hide();return}S?S.updateTorchCapability(B.torchFeature()):S=xw.create(y,B.torchFeature(),{display:"none",marginLeft:"5px"},function(X){a.setHeaderMessage(X,en.STATUS_WARNING)}),S.show()};c.appendChild(y);var L=function(B){B||(x.style.display="none"),x.innerText=De.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,B&&(x.style.display="inline-block")};if(x.addEventListener("click",function(B){x.innerText=De.scanButtonScanningStarting(),m.disable(),x.disabled=!0,x.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var X=m.getValue();a.persistedDataManager.setLastUsedCameraId(X),a.html5Qrcode.start(X,Cw(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(R){I.disabled=!1,I.style.display="inline-block",L(!1);var T=a.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&b(T),i.config.showZoomSliderIfSupported===!0&&g(T)}).catch(function(R){a.showHideScanTypeSwapLink(!0),m.enable(),L(!0),a.setHeaderMessage(R,en.STATUS_WARNING)})}),m.hasSingleItem()&&x.click(),I.addEventListener("click",function(B){if(!a.html5Qrcode)throw"html5Qrcode not defined";I.disabled=!0,a.html5Qrcode.stop().then(function(X){i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),m.enable(),x.disabled=!1,I.style.display="none",x.style.display="inline-block",S&&(S.reset(),S.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(X){I.disabled=!1,a.setHeaderMessage(X,en.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var z=a.persistedDataManager.getLastUsedCameraId();m.hasValue(z)?(m.setValue(z),x.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,i=De.textIfCameraScanSelected(),a=De.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var g=$n.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=wr.isCameraScanType(this.currentScanType)?i:a,g.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,wr.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),g.innerText=a,n.currentScanType=Br.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),g.innerText=i,n.currentScanType=Br.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),f.appendChild(g),c.appendChild(f)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){Uf.hasPermissions().then(function(a){if(a){var c=document.getElementById(i.getCameraPermissionButtonId());if(!c)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(a){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},e.prototype.setHeaderMessage=function(n,i){i||(i=en.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=n,a.style.display="block",i){case en.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case en.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case en.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=aw,this.cameraScanImage.alt=De.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=lw,this.fileScanImage.alt=De.fileScanAltText()},e.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return nn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return nn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const Wa=({onScan:e,onError:n,onClose:i})=>{const a=k.useRef(null),c=k.useRef(e),f=k.useRef(n);return k.useEffect(()=>{c.current=e,f.current=n},[e,n]),k.useEffect(()=>{if(a.current)return;const g=new Aw("reader",{fps:10,qrbox:{width:250,height:250}},!1);return a.current=g,g.render(m=>{c.current&&c.current(m)},m=>{f.current&&f.current(m)}),()=>{g&&g.clear().catch(m=>{console.warn("Failed to clear html5-qrcode scanner. ",m)}),a.current=null}},[]),M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-white p-4 rounded-lg w-full max-w-md relative",children:[M.jsx("button",{onClick:i,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900 text-xl font-bold",children:""}),M.jsx("h3",{className:"text-lg font-bold mb-4 text-center text-black",children:" QR Code"}),M.jsx("div",{id:"reader",width:"100%"})]})})},Sw=({onCapture:e,onClose:n})=>{const i=k.useRef(null),a=k.useRef(null),[c,f]=k.useState(null),[g,m]=k.useState(""),[y,x]=k.useState("environment"),[I,S]=k.useState([]);k.useEffect(()=>{(async()=>{try{const T=(await navigator.mediaDevices.enumerateDevices()).filter(v=>v.kind==="videoinput");S(T)}catch(R){console.warn("Error enumerating devices:",R)}})()},[]),k.useEffect(()=>(b(),()=>{L()}),[y]);const b=async()=>{L(),m("");try{const X={video:{facingMode:y},audio:!1},R=await navigator.mediaDevices.getUserMedia(X);f(R),i.current&&(i.current.srcObject=R)}catch(X){console.error("Camera access error:",X),m(" HTTPS ")}},L=()=>{c&&(c.getTracks().forEach(X=>X.stop()),f(null))},z=()=>{if(i.current&&a.current){const X=i.current,R=a.current,T=R.getContext("2d"),v=1024,U=1024;let Q=X.videoWidth,Z=X.videoHeight;Q>Z?Q>v&&(Z*=v/Q,Q=v):Z>U&&(Q*=U/Z,Z=U),R.width=Q,R.height=Z,T.drawImage(X,0,0,Q,Z);const j=R.toDataURL("image/jpeg",.8);L(),e(j)}},B=()=>{x(X=>X==="user"?"environment":"user")};return M.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col items-center justify-center",children:[M.jsxs("div",{className:"absolute top-0 w-full p-4 flex justify-between items-center z-10 bg-gradient-to-b from-black/50 to-transparent",children:[M.jsx("span",{className:"text-white font-bold text-lg",children:""}),M.jsx("button",{onClick:()=>{L(),n()},className:"p-2 bg-white/10 rounded-full hover:bg-white/20 text-white",children:M.jsx(Eh,{size:24})})]}),M.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black",children:g?M.jsxs("div",{className:"text-red-500 text-center px-4",children:[M.jsx("p",{className:"mb-4 text-xl",children:""}),M.jsx("p",{children:g})]}):M.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),M.jsx("canvas",{ref:a,className:"hidden"}),M.jsxs("div",{className:"absolute bottom-10 w-full flex justify-center items-center gap-8 pb-4 px-4",children:[!g&&M.jsxs("button",{onClick:B,className:"flex flex-col items-center justify-center gap-1 p-3 bg-white/20 rounded-xl text-white hover:bg-white/30 backdrop-blur-md min-w-[80px]",title:"",children:[M.jsx(Tm,{size:24}),M.jsx("span",{className:"text-xs font-medium",children:""})]}),!g&&M.jsxs("button",{onClick:z,className:"flex flex-col items-center justify-center gap-1 p-3 bg-white/20 rounded-xl text-white hover:bg-white/30 backdrop-blur-md min-w-[80px]",title:"",children:[M.jsx(Dr,{size:24}),M.jsx("span",{className:"text-xs font-medium",children:""})]})]})]})},io=({type:e,message:n,onClose:i})=>{if(k.useEffect(()=>{if(n){const c=setTimeout(()=>{i()},5e3);return()=>clearTimeout(c)}},[n,i]),!n)return null;const a=e==="success";return M.jsxs("div",{className:`fixed top-20 left-1/2 transform -translate-x-1/2 z-50 px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 w-11/12 max-w-md animate-fade-in border ${a?"bg-[#1a2e23] border-[#238636] text-white":"bg-[#3e1b1b] border-[#da3633] text-white"}`,children:[a?M.jsx(Em,{className:"text-[#3fb950]"}):M.jsx(ym,{className:"text-[#f85149]"}),M.jsx("p",{className:"flex-1 font-medium",children:n}),M.jsx("button",{onClick:i,className:"opacity-70 hover:opacity-100",children:M.jsx(Eh,{size:18})})]})},Iw=()=>{const[e,n]=k.useState(""),[i,a]=k.useState({type:"",message:""}),[c,f]=k.useState(!1),[g,m]=k.useState(!1),[y,x]=k.useState(!1),[I,S]=k.useState(null),[b,L]=k.useState(""),z=Jo.useRef(null),B=async v=>{if(v.preventDefault(),!e.trim()){a({type:"error",message:""});return}if(!b){a({type:"error",message:" ()"});return}x(!0),a({type:"",message:""});try{let U=null;b&&(U=b);const Q=await Ks.issueOrder(e,U);Q.status==="success"?(a({type:"success",message:`${Q.message} (: ${e})`}),n(""),S(null),L("")):a({type:"error",message:Q.message})}catch(U){a({type:"error",message:U.message})}finally{x(!1)}},X=v=>{n(v),f(!1)},R=v=>{L(v),S(!0),m(!1)},T=v=>{const U=v.target.files[0];if(U){S(U);const Q=new FileReader;Q.onloadend=()=>{L(Q.result)},Q.readAsDataURL(U)}};return M.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[M.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:""}),M.jsx("div",{className:"card w-full mb-6 p-6",children:M.jsxs("form",{onSubmit:B,children:[M.jsxs("div",{className:"mb-6",children:[M.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:""}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"text",value:e,onChange:v=>n(v.target.value),className:"input-field flex-1",placeholder:"",disabled:y}),M.jsx("button",{type:"button",onClick:()=>f(!0),className:"btn btn-secondary px-3",disabled:y,children:M.jsx(Dr,{size:20})})]})]}),M.jsxs("div",{className:"mb-6",children:[M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsx("label",{className:"text-sm text-gray-400",children:""}),b&&M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{type:"button",onClick:()=>{var v;return(v=z.current)==null?void 0:v.click()},className:"btn btn-secondary text-xs px-3 py-1 bg-white/10 hover:bg-white/20",disabled:y,children:""}),M.jsx("button",{type:"button",onClick:()=>m(!0),className:"btn btn-secondary text-xs px-3 py-1 bg-white/10 hover:bg-white/20",disabled:y,children:M.jsx(Dr,{size:16})})]})]}),M.jsx("input",{type:"file",accept:"image/*",onChange:T,ref:z,style:{display:"none"}}),b?M.jsx("div",{className:"relative",children:M.jsx("img",{src:b,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-600"})}):M.jsxs("div",{className:"flex gap-2",children:[M.jsxs("button",{type:"button",onClick:()=>{var v;return(v=z.current)==null?void 0:v.click()},className:"btn btn-secondary flex-1 py-3 flex items-center justify-center gap-2 border-dashed border-2 border-gray-600 hover:border-gray-400",disabled:y,children:[M.jsx(Lm,{size:20}),M.jsx("span",{children:""})]}),M.jsx("button",{type:"button",onClick:()=>m(!0),className:"btn btn-secondary w-16 flex items-center justify-center border-dashed border-2 border-gray-600 hover:border-gray-400",title:"",disabled:y,children:M.jsx(Dr,{size:24})})]})]}),M.jsx("button",{type:"submit",disabled:y,className:"btn btn-primary w-full py-3 text-lg",children:y?"...":""})]})}),M.jsx(io,{type:i.type,message:i.message,onClose:()=>a({type:"",message:""})}),c&&M.jsx(Wa,{onScan:X,onClose:()=>f(!1),onError:v=>console.log(v)}),g&&M.jsx(Sw,{onCapture:R,onClose:()=>m(!1)})]})},vw=()=>{const[e,n]=k.useState(""),[i,a]=k.useState(!1),[c,f]=k.useState(!1),[g,m]=k.useState({type:"",message:""}),[y,x]=k.useState(null),I=async L=>{if(L==null||L.preventDefault(),!e.trim()){m({type:"error",message:""});return}f(!0),m({type:"",message:""}),x(null);try{const z=await Ks.qcRecord(e);z.status==="success"?(m({type:"success",message:z.message}),x(z.data),n("")):m({type:"error",message:z.message})}catch(z){m({type:"error",message:z.message})}finally{f(!1)}},S=L=>{n(L),a(!1)},b=L=>{if(!L)return"-";try{return new Date(L).toLocaleString("zh-TW")}catch{return L}};return M.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[M.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",style:{color:"#34d399"},children:""}),M.jsx("div",{className:"card w-full mb-6 p-6",children:M.jsxs("form",{onSubmit:I,children:[M.jsxs("div",{className:"mb-6",children:[M.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:""}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"text",value:e,onChange:L=>n(L.target.value),className:"input-field flex-1",placeholder:"",disabled:c}),M.jsx("button",{type:"button",onClick:()=>a(!0),className:"btn btn-secondary px-3",disabled:c,children:M.jsx(Dr,{size:20})})]})]}),M.jsx("button",{type:"submit",disabled:c,className:"btn btn-primary w-full py-3 text-lg",children:c?"...":""})]})}),M.jsx(io,{type:g.type,message:g.message,onClose:()=>m({type:"",message:""})}),y&&M.jsxs("div",{className:"card animate-fade-in p-6 mt-4",children:[M.jsx("h3",{className:"text-lg font-bold mb-4 text-emerald-400",children:""}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[M.jsx("div",{children:M.jsx("table",{className:"w-full text-sm text-left",children:M.jsxs("tbody",{children:[M.jsxs("tr",{className:"border-b border-gray-700",children:[M.jsx("th",{className:"py-2 text-gray-400",children:""}),M.jsx("td",{className:"py-2 font-mono",children:y.orderId})]}),M.jsxs("tr",{className:"border-b border-gray-700",children:[M.jsx("th",{className:"py-2 text-gray-400",children:""}),M.jsx("td",{className:"py-2",children:b(y.issueTime)})]}),M.jsxs("tr",{children:[M.jsx("th",{className:"py-2 text-gray-400",children:""}),M.jsx("td",{className:"py-2",children:b(y.qcTime)})]})]})})}),y.imageUrl&&M.jsxs("div",{className:"flex flex-col items-center",children:[M.jsx("span",{className:"text-sm text-gray-400 mb-2",children:""}),M.jsx("img",{src:y.imageUrl,alt:"Product",className:"w-full h-48 object-cover rounded-lg border border-gray-600 shadow-lg"})]})]})]}),i&&M.jsx(Wa,{onScan:S,onClose:()=>a(!1),onError:L=>console.log(L)})]})},Tw=()=>{const[e,n]=k.useState("start"),[i,a]=k.useState(""),[c,f]=k.useState(""),[g,m]=k.useState({type:"",message:""}),[y,x]=k.useState(!1),[I,S]=k.useState(!1),[b,L]=k.useState(null),z=async T=>{if(T.preventDefault(),!i.trim()){m({type:"error",message:""});return}S(!0),m({type:"",message:""}),L(null);try{const v=await Ks.startWork(i);v.status==="success"?(m({type:"success",message:v.message}),L({...v.data,type:"start"}),a("")):m({type:"error",message:v.message})}catch(v){m({type:"error",message:v.message})}finally{S(!1)}},B=async T=>{if(T.preventDefault(),!i.trim()){m({type:"error",message:""});return}if(!c||parseInt(c)<0){m({type:"error",message:""});return}S(!0),m({type:"",message:""}),L(null);try{const v=await Ks.finishWork(i,parseInt(c));v.status==="success"?(m({type:"success",message:v.message}),L({...v.data,type:"finish"}),a(""),f("")):m({type:"error",message:v.message})}catch(v){m({type:"error",message:v.message})}finally{S(!1)}},X=T=>{a(T),x(!1)},R=T=>{if(!T)return"-";try{return new Date(T).toLocaleString("zh-TW")}catch{return T}};return M.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[M.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",style:{color:"#fb923c"},children:""}),M.jsxs("div",{className:"flex mb-6 bg-[#21262d] p-1 rounded-lg border border-[#30363d] gap-4",children:[M.jsxs("button",{onClick:()=>{n("start"),m({type:"",message:""}),L(null)},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all flex items-center justify-center gap-2 ${e==="start"?"bg-[#2f81f7] text-white":"text-gray-400 hover:text-white"}`,children:[M.jsx(Im,{size:16})," "]}),M.jsxs("button",{onClick:()=>{n("finish"),m({type:"",message:""}),L(null)},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all flex items-center justify-center gap-2 ${e==="finish"?"bg-[#238636] text-white":"text-gray-400 hover:text-white"}`,children:[M.jsx(Om,{size:16})," "]})]}),M.jsx("div",{className:"card p-8 shadow-2xl animate-fade-in",style:{width:"100%",maxWidth:"1024px",margin:"0 auto"},children:e==="start"?M.jsxs("form",{onSubmit:z,children:[M.jsxs("div",{className:"mb-4",children:[M.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:""}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"text",value:i,onChange:T=>a(T.target.value),placeholder:"",className:"input-field mb-0 h-12",disabled:I}),M.jsx("button",{type:"button",onClick:()=>x(!0),className:"btn btn-secondary px-3 h-12 w-12",title:"",disabled:I,children:M.jsx(Dr,{size:20})})]})]}),M.jsx("button",{type:"submit",disabled:I,className:`btn w-full text-lg py-4 btn-primary ${I?"opacity-50 cursor-not-allowed":""}`,children:I?"...":""})]}):M.jsxs("form",{onSubmit:B,children:[M.jsxs("div",{className:"mb-4",children:[M.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:""}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"text",value:i,onChange:T=>a(T.target.value),placeholder:"",className:"input-field mb-0 h-12",disabled:I}),M.jsx("button",{type:"button",onClick:()=>x(!0),className:"btn btn-secondary px-3 h-12 w-12",title:"",disabled:I,children:M.jsx(Dr,{size:20})})]})]}),M.jsxs("div",{className:"mb-6 animate-fade-in",children:[M.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:""}),M.jsx("input",{type:"number",min:"0",value:c,onChange:T=>f(T.target.value),placeholder:"",className:"input-field",required:!0,disabled:I})]}),M.jsx("button",{type:"submit",disabled:I,className:`btn w-full text-lg py-4 btn-primary ${I?"opacity-50 cursor-not-allowed":""}`,children:I?"...":""})]})}),M.jsx(io,{type:g.type,message:g.message,onClose:()=>m({type:"",message:""})}),b&&M.jsxs("div",{className:"card animate-fade-in p-6 mt-4",style:{width:"100%",maxWidth:"1024px",margin:"0 auto"},children:[M.jsx("h3",{className:`text-lg font-bold mb-4 ${b.type==="start"?"text-green-400":"text-blue-400"}`,children:b.type==="start"?"":""}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[M.jsx("div",{children:M.jsx("table",{className:"w-full text-sm text-left",children:M.jsxs("tbody",{children:[M.jsxs("tr",{className:"border-b border-gray-700",children:[M.jsx("th",{className:"py-2 text-gray-400",children:""}),M.jsx("td",{className:"py-2 font-mono",children:b.orderId})]}),b.type==="start"&&M.jsxs("tr",{children:[M.jsx("th",{className:"py-2 text-gray-400",children:""}),M.jsx("td",{className:"py-2",children:R(b.startTime)})]}),b.type==="finish"&&M.jsxs(M.Fragment,{children:[M.jsxs("tr",{className:"border-b border-gray-700",children:[M.jsx("th",{className:"py-2 text-gray-400",children:""}),M.jsx("td",{className:"py-2",children:R(b.startTime)})]}),M.jsxs("tr",{className:"border-b border-gray-700",children:[M.jsx("th",{className:"py-2 text-gray-400",children:""}),M.jsx("td",{className:"py-2",children:R(b.finishTime)})]}),M.jsxs("tr",{children:[M.jsx("th",{className:"py-2 text-gray-400",children:""}),M.jsx("td",{className:"py-2",children:b.quantity})]})]})]})})}),b.imageUrl&&M.jsxs("div",{className:"flex flex-col items-center",children:[M.jsx("span",{className:"text-sm text-gray-400 mb-2",children:""}),M.jsx("img",{src:b.imageUrl,alt:"Product",className:"w-full h-48 object-cover rounded-lg border border-gray-600 shadow-lg"})]})]})]}),y&&M.jsx(Wa,{onScan:X,onClose:()=>x(!1),onError:T=>console.log(T)})]})},Nw=()=>{const[e,n]=k.useState({orderId:"",startTime:"",finishTime:""}),[i,a]=k.useState([]),[c,f]=k.useState([]),[g,m]=k.useState(!1),[y,x]=k.useState(!1),[I,S]=k.useState({type:"",message:""}),b=W=>{if(!W)return"";try{return new Date(W).toLocaleString("zh-TW")}catch{return W}},L=(W,G)=>{if(!W||!G)return 0;const ae=new Date(W).getTime(),ce=new Date(G).getTime();return ae&&ce?ce-ae:0},z=W=>{if(!W)return"-";const G=Math.floor(W/1e3),ae=Math.floor(G/3600),ce=Math.floor(G%3600/60),ne=G%60;return`${ae}h ${ce}m ${ne}s`},[B,X]=k.useState(!1),R=async()=>{m(!0),S({type:"",message:""}),X(!1);try{const W=await Ks.queryOrders();let G=[];if(W.status==="success"&&Array.isArray(W.data))G=W.data;else throw new Error("");const ae=G.filter(ne=>{const we=!e.orderId||String(ne.orderId).includes(e.orderId),ke=Pe=>{if(!Pe)return null;const Ae=new Date(Pe).getTime();return isNaN(Ae)?null:Ae},Y=ke(e.startTime),Qe=ke(e.finishTime),me=ke(ne.startTime),re=ke(ne.finishTime),he=!e.startTime||me!==null&&me>=Y,pe=!e.finishTime||re!==null&&re<=Qe;return we&&he&&pe});ae.sort((ne,we)=>String(ne.orderId).localeCompare(String(we.orderId))),a(ae),X(!0);const ce={};ae.forEach(ne=>{if(ce[ne.orderId]||(ce[ne.orderId]={orderId:ne.orderId,count:0,totalTimeMs:0,totalQty:0}),ne.finishTime&&ne.startTime){const we=parseInt(ne.quantity)||0,ke=L(ne.startTime,ne.finishTime);ce[ne.orderId].count+=1,ce[ne.orderId].totalTimeMs+=ke,ce[ne.orderId].totalQty+=we}}),f(Object.values(ce).sort((ne,we)=>ne.orderId.localeCompare(we.orderId)))}catch(W){console.error(W),S({type:"error",message:""})}finally{m(!1)}},T=(W,G)=>{const ae=new Blob([W],{type:"text/csv;charset=utf-8;"}),ce=document.createElement("a"),ne=URL.createObjectURL(ae);ce.setAttribute("href",ne),ce.setAttribute("download",G),document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)},v=()=>{const W=["","",""],G=c.map(ce=>[ce.orderId,z(ce.totalTimeMs),ce.totalQty]),ae="\uFEFF"+[W,...G].map(ce=>ce.join(",")).join(`
`);T(ae,"stats.csv")},U=()=>{const W=["ID","","","",""],G=i.map(ce=>[ce.id,ce.orderId,b(ce.startTime),b(ce.finishTime),ce.quantity]),ae="\uFEFF"+[W,...G].map(ce=>ce.join(",")).join(`
`);T(ae,"details.csv")},Q=Jo.useRef(null),Z=Jo.useRef(null),j=W=>{var G;try{W.current&&W.current.showPicker?W.current.showPicker():(G=W.current)==null||G.focus()}catch(ae){console.error(ae)}};return M.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[M.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-500",children:""}),M.jsxs("div",{className:"card w-full mb-6 p-6",children:[M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"text-xs text-gray-400 mb-1 block",children:""}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{className:"input-field mb-0 h-12",placeholder:"",value:e.orderId,onChange:W=>n({...e,orderId:W.target.value})}),M.jsx("button",{type:"button",onClick:()=>x(!0),className:"btn btn-secondary px-2 h-12 w-12",children:M.jsx(Dr,{size:18})})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-xs text-gray-400 mb-1 block",children:""}),M.jsxs("div",{className:"flex gap-2 relative",children:[M.jsx("input",{className:"input-field mb-0 h-12",placeholder:"",value:e.startTime,onChange:W=>n({...e,startTime:W.target.value})}),M.jsx("button",{type:"button",onClick:()=>j(Q),className:"btn btn-secondary px-2 h-12 w-12",children:M.jsx(If,{size:18})}),M.jsx("input",{ref:Q,type:"datetime-local",className:"opacity-0 absolute bottom-0 left-0 w-full h-full -z-10",onChange:W=>n({...e,startTime:W.target.value})})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-xs text-gray-400 mb-1 block",children:""}),M.jsxs("div",{className:"flex gap-2 relative",children:[M.jsx("input",{className:"input-field mb-0 h-12",placeholder:"",value:e.finishTime,onChange:W=>n({...e,finishTime:W.target.value})}),M.jsx("button",{type:"button",onClick:()=>j(Z),className:"btn btn-secondary px-2 h-12 w-12",children:M.jsx(If,{size:18})}),M.jsx("input",{ref:Z,type:"datetime-local",className:"opacity-0 absolute bottom-0 left-0 w-full h-full -z-10",onChange:W=>n({...e,finishTime:W.target.value})})]})]})]}),M.jsx("button",{onClick:R,disabled:g,className:"btn btn-primary w-full",children:g?"...":M.jsxs(M.Fragment,{children:[M.jsx(Rm,{size:18})," "]})})]}),M.jsx(io,{type:I.type,message:I.message,onClose:()=>S({type:"",message:""})}),!g&&B&&i.length===0&&M.jsx("div",{className:"card p-8 text-center text-gray-400 animate-fade-in border-2 border-dashed border-[#30363d]",children:M.jsx("p",{className:"text-xl",children:""})}),c.length>0&&M.jsxs("div",{className:"card animate-fade-in",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h3",{className:"font-bold text-lg",children:" ()"}),M.jsxs("button",{onClick:v,className:"btn btn-secondary text-sm py-1 px-3",children:[M.jsx(vf,{size:16})," "]})]}),M.jsx("div",{className:"overflow-x-auto max-h-60 overflow-y-auto",children:M.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[M.jsx("thead",{className:"text-gray-400 border-b border-[#30363d]",children:M.jsxs("tr",{children:[M.jsx("th",{className:"py-2",children:""}),M.jsx("th",{className:"py-2",children:""}),M.jsx("th",{className:"py-2",children:""})]})}),M.jsx("tbody",{children:c.map((W,G)=>M.jsxs("tr",{className:"border-b border-[#30363d] last:border-0 hover:bg-[#21262d]",children:[M.jsx("td",{className:"py-2 font-mono",children:W.orderId}),M.jsx("td",{className:"py-2",children:z(W.totalTimeMs)}),M.jsx("td",{className:"py-2",children:W.totalQty})]},G))})]})})]}),i.length>0&&M.jsxs("div",{className:"card animate-fade-in",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h3",{className:"font-bold text-lg",children:""}),M.jsxs("button",{onClick:U,className:"btn btn-secondary text-sm py-1 px-3",children:[M.jsx(vf,{size:16})," "]})]}),M.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:M.jsxs("table",{className:"w-full text-sm text-left border-collapse whitespace-nowrap",children:[M.jsx("thead",{className:"text-gray-400 border-b border-[#30363d]",children:M.jsxs("tr",{children:[M.jsx("th",{className:"py-2 px-2",children:""}),M.jsx("th",{className:"py-2 px-2",children:""}),M.jsx("th",{className:"py-2 px-2",children:""}),M.jsx("th",{className:"py-2 px-2",children:""})]})}),M.jsx("tbody",{children:i.map((W,G)=>M.jsxs("tr",{className:"border-b border-[#30363d] last:border-0 hover:bg-[#21262d]",children:[M.jsx("td",{className:"py-2 px-2 font-mono",children:W.orderId}),M.jsx("td",{className:"py-2 px-2",children:b(W.startTime)}),M.jsx("td",{className:"py-2 px-2",children:b(W.finishTime)}),M.jsx("td",{className:"py-2 px-2",children:W.quantity})]},G))})]})})]}),y&&M.jsx(Wa,{onScan:W=>{n({...e,orderId:W}),x(!1)},onClose:()=>x(!1)})]})},_w=()=>{const[e,n]=k.useState(""),[i,a]=k.useState({type:"",message:""});k.useEffect(()=>{n(Fc())},[]);const c=f=>{f.preventDefault(),Pm(e.trim()),a({type:"success",message:""})};return M.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[M.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-transparent bg-clip-text bg-gradient-to-r from-gray-200 to-gray-500",children:""}),M.jsx("div",{className:"card p-8 shadow-2xl",style:{width:"100%",maxWidth:"1024px",margin:"0 auto"},children:M.jsxs("form",{onSubmit:c,children:[M.jsxs("div",{className:"mb-4",children:[M.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:"Google Apps Script Web App URL"}),M.jsx("textarea",{value:e,onChange:f=>n(f.target.value),placeholder:"https://script.google.com/macros/s/...",className:"input-field h-32 break-all"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" GAS Web App "})]}),M.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[M.jsx(_m,{size:18})," "]})]})}),M.jsx(io,{type:i.type,message:i.message,onClose:()=>a({type:"",message:""})})]})};function Mw(){return M.jsx(tm,{children:M.jsx(Bm,{children:M.jsxs(bx,{children:[M.jsx(Zr,{path:"/",element:M.jsx(Mx,{to:"/query",replace:!0})}),M.jsx(Zr,{path:"/issue",element:M.jsx(Iw,{})}),M.jsx(Zr,{path:"/qc",element:M.jsx(vw,{})}),M.jsx(Zr,{path:"/production",element:M.jsx(Tw,{})}),M.jsx(Zr,{path:"/query",element:M.jsx(Nw,{})}),M.jsx(Zr,{path:"/settings",element:M.jsx(_w,{})})]})})})}jl.createRoot(document.getElementById("root")).render(M.jsx(Jo.StrictMode,{children:M.jsx(Mw,{})}));
