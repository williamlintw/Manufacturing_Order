function og(e,n){for(var i=0;i<n.length;i++){const a=n[i];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const f=Object.getOwnPropertyDescriptor(a,c);f&&Object.defineProperty(e,c,f.get?f:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();var ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z0={exports:{}},Ia={},H0={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),ag=Symbol.for("react.portal"),lg=Symbol.for("react.fragment"),ug=Symbol.for("react.strict_mode"),cg=Symbol.for("react.profiler"),fg=Symbol.for("react.provider"),dg=Symbol.for("react.context"),hg=Symbol.for("react.forward_ref"),gg=Symbol.for("react.suspense"),pg=Symbol.for("react.memo"),xg=Symbol.for("react.lazy"),a1=Symbol.iterator;function mg(e){return e===null||typeof e!="object"?null:(e=a1&&e[a1]||e["@@iterator"],typeof e=="function"?e:null)}var V0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W0=Object.assign,G0={};function Gi(e,n,i){this.props=e,this.context=n,this.refs=G0,this.updater=i||V0}Gi.prototype.isReactComponent={};Gi.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Gi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Y0(){}Y0.prototype=Gi.prototype;function Pu(e,n,i){this.props=e,this.context=n,this.refs=G0,this.updater=i||V0}var Fu=Pu.prototype=new Y0;Fu.constructor=Pu;W0(Fu,Gi.prototype);Fu.isPureReactComponent=!0;var l1=Array.isArray,X0=Object.prototype.hasOwnProperty,Uu={current:null},Q0={key:!0,ref:!0,__self:!0,__source:!0};function Z0(e,n,i){var a,c={},f=null,g=null;if(n!=null)for(a in n.ref!==void 0&&(g=n.ref),n.key!==void 0&&(f=""+n.key),n)X0.call(n,a)&&!Q0.hasOwnProperty(a)&&(c[a]=n[a]);var m=arguments.length-2;if(m===1)c.children=i;else if(1<m){for(var y=Array(m),x=0;x<m;x++)y[x]=arguments[x+2];c.children=y}if(e&&e.defaultProps)for(a in m=e.defaultProps,m)c[a]===void 0&&(c[a]=m[a]);return{$$typeof:Ks,type:e,key:f,ref:g,props:c,_owner:Uu.current}}function wg(e,n){return{$$typeof:Ks,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function ju(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ks}function yg(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var u1=/\/+/g;function cl(e,n){return typeof e=="object"&&e!==null&&e.key!=null?yg(""+e.key):n.toString(36)}function Po(e,n,i,a,c){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case Ks:case ag:g=!0}}if(g)return g=e,c=c(g),e=a===""?"."+cl(g,0):a,l1(c)?(i="",e!=null&&(i=e.replace(u1,"$&/")+"/"),Po(c,n,i,"",function(x){return x})):c!=null&&(ju(c)&&(c=wg(c,i+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(u1,"$&/")+"/")+e)),n.push(c)),1;if(g=0,a=a===""?".":a+":",l1(e))for(var m=0;m<e.length;m++){f=e[m];var y=a+cl(f,m);g+=Po(f,n,i,y,c)}else if(y=mg(e),typeof y=="function")for(e=y.call(e),m=0;!(f=e.next()).done;)f=f.value,y=a+cl(f,m++),g+=Po(f,n,i,y,c);else if(f==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return g}function wo(e,n,i){if(e==null)return e;var a=[],c=0;return Po(e,a,"","",function(f){return n.call(i,f,c++)}),a}function Cg(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},Fo={transition:null},Eg={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Fo,ReactCurrentOwner:Uu};function K0(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:wo,forEach:function(e,n,i){wo(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return wo(e,function(){n++}),n},toArray:function(e){return wo(e,function(n){return n})||[]},only:function(e){if(!ju(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Gi;Se.Fragment=lg;Se.Profiler=cg;Se.PureComponent=Pu;Se.StrictMode=ug;Se.Suspense=gg;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eg;Se.act=K0;Se.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=W0({},e.props),c=e.key,f=e.ref,g=e._owner;if(n!=null){if(n.ref!==void 0&&(f=n.ref,g=Uu.current),n.key!==void 0&&(c=""+n.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(y in n)X0.call(n,y)&&!Q0.hasOwnProperty(y)&&(a[y]=n[y]===void 0&&m!==void 0?m[y]:n[y])}var y=arguments.length-2;if(y===1)a.children=i;else if(1<y){m=Array(y);for(var x=0;x<y;x++)m[x]=arguments[x+2];a.children=m}return{$$typeof:Ks,type:e.type,key:c,ref:f,props:a,_owner:g}};Se.createContext=function(e){return e={$$typeof:dg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fg,_context:e},e.Consumer=e};Se.createElement=Z0;Se.createFactory=function(e){var n=Z0.bind(null,e);return n.type=e,n};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:hg,render:e}};Se.isValidElement=ju;Se.lazy=function(e){return{$$typeof:xg,_payload:{_status:-1,_result:e},_init:Cg}};Se.memo=function(e,n){return{$$typeof:pg,type:e,compare:n===void 0?null:n}};Se.startTransition=function(e){var n=Fo.transition;Fo.transition={};try{e()}finally{Fo.transition=n}};Se.unstable_act=K0;Se.useCallback=function(e,n){return Ut.current.useCallback(e,n)};Se.useContext=function(e){return Ut.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};Se.useEffect=function(e,n){return Ut.current.useEffect(e,n)};Se.useId=function(){return Ut.current.useId()};Se.useImperativeHandle=function(e,n,i){return Ut.current.useImperativeHandle(e,n,i)};Se.useInsertionEffect=function(e,n){return Ut.current.useInsertionEffect(e,n)};Se.useLayoutEffect=function(e,n){return Ut.current.useLayoutEffect(e,n)};Se.useMemo=function(e,n){return Ut.current.useMemo(e,n)};Se.useReducer=function(e,n,i){return Ut.current.useReducer(e,n,i)};Se.useRef=function(e){return Ut.current.useRef(e)};Se.useState=function(e){return Ut.current.useState(e)};Se.useSyncExternalStore=function(e,n,i){return Ut.current.useSyncExternalStore(e,n,i)};Se.useTransition=function(){return Ut.current.useTransition()};Se.version="18.3.1";H0.exports=Se;var F=H0.exports;const Ul=j0(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag=F,Sg=Symbol.for("react.element"),Ig=Symbol.for("react.fragment"),vg=Object.prototype.hasOwnProperty,Tg=Ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ng={key:!0,ref:!0,__self:!0,__source:!0};function q0(e,n,i){var a,c={},f=null,g=null;i!==void 0&&(f=""+i),n.key!==void 0&&(f=""+n.key),n.ref!==void 0&&(g=n.ref);for(a in n)vg.call(n,a)&&!Ng.hasOwnProperty(a)&&(c[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)c[a]===void 0&&(c[a]=n[a]);return{$$typeof:Sg,type:e,key:f,ref:g,props:c,_owner:Tg.current}}Ia.Fragment=Ig;Ia.jsx=q0;Ia.jsxs=q0;z0.exports=Ia;var B=z0.exports,jl={},J0={exports:{}},ln={},$0={exports:{}},ef={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(re,he){var pe=re.length;re.push(he);e:for(;0<pe;){var Pe=pe-1>>>1,Ae=re[Pe];if(0<c(Ae,he))re[Pe]=he,re[pe]=Ae,pe=Pe;else break e}}function i(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var he=re[0],pe=re.pop();if(pe!==he){re[0]=pe;e:for(var Pe=0,Ae=re.length,fn=Ae>>>1;Pe<fn;){var Je=2*(Pe+1)-1,Ur=re[Je],ue=Je+1,ur=re[ue];if(0>c(Ur,pe))ue<Ae&&0>c(ur,Ur)?(re[Pe]=ur,re[ue]=pe,Pe=ue):(re[Pe]=Ur,re[Je]=pe,Pe=Je);else if(ue<Ae&&0>c(ur,pe))re[Pe]=ur,re[ue]=pe,Pe=ue;else break e}}return he}function c(re,he){var pe=re.sortIndex-he.sortIndex;return pe!==0?pe:re.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,m=g.now();e.unstable_now=function(){return g.now()-m}}var y=[],x=[],I=1,S=null,R=3,b=!1,V=!1,L=!1,X=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(re){for(var he=i(x);he!==null;){if(he.callback===null)a(x);else if(he.startTime<=re)a(x),he.sortIndex=he.expirationTime,n(y,he);else break;he=i(x)}}function j(re){if(L=!1,_(re),!V)if(i(y)!==null)V=!0,Qe(q);else{var he=i(x);he!==null&&me(j,he.startTime-re)}}function q(re,he){V=!1,L&&(L=!1,M(W),W=-1),b=!0;var pe=R;try{for(_(he),S=i(y);S!==null&&(!(S.expirationTime>he)||re&&!ce());){var Pe=S.callback;if(typeof Pe=="function"){S.callback=null,R=S.priorityLevel;var Ae=Pe(S.expirationTime<=he);he=e.unstable_now(),typeof Ae=="function"?S.callback=Ae:S===i(y)&&a(y),_(he)}else a(y);S=i(y)}if(S!==null)var fn=!0;else{var Je=i(x);Je!==null&&me(j,Je.startTime-he),fn=!1}return fn}finally{S=null,R=pe,b=!1}}var Z=!1,U=null,W=-1,G=5,ae=-1;function ce(){return!(e.unstable_now()-ae<G)}function ne(){if(U!==null){var re=e.unstable_now();ae=re;var he=!0;try{he=U(!0,re)}finally{he?we():(Z=!1,U=null)}}else Z=!1}var we;if(typeof N=="function")we=function(){N(ne)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Y=ke.port2;ke.port1.onmessage=ne,we=function(){Y.postMessage(null)}}else we=function(){X(ne,0)};function Qe(re){U=re,Z||(Z=!0,we())}function me(re,he){W=X(function(){re(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){V||b||(V=!0,Qe(q))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return i(y)},e.unstable_next=function(re){switch(R){case 1:case 2:case 3:var he=3;break;default:he=R}var pe=R;R=he;try{return re()}finally{R=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=R;R=re;try{return he()}finally{R=pe}},e.unstable_scheduleCallback=function(re,he,pe){var Pe=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Pe+pe:Pe):pe=Pe,re){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=pe+Ae,re={id:I++,callback:he,priorityLevel:re,startTime:pe,expirationTime:Ae,sortIndex:-1},pe>Pe?(re.sortIndex=pe,n(x,re),i(y)===null&&re===i(x)&&(L?(M(W),W=-1):L=!0,me(j,pe-Pe))):(re.sortIndex=Ae,n(y,re),V||b||(V=!0,Qe(q))),re},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(re){var he=R;return function(){var pe=R;R=he;try{return re.apply(this,arguments)}finally{R=pe}}}})(ef);$0.exports=ef;var _g=$0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=F,on=_g;function J(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tf=new Set,Os={};function si(e,n){Fi(e,n),Fi(e+"Capture",n)}function Fi(e,n){for(Os[e]=n,e=0;e<n.length;e++)tf.add(n[e])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=Object.prototype.hasOwnProperty,Rg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c1={},f1={};function Og(e){return zl.call(f1,e)?!0:zl.call(c1,e)?!1:Rg.test(e)?f1[e]=!0:(c1[e]=!0,!1)}function Dg(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bg(e,n,i,a){if(n===null||typeof n>"u"||Dg(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function jt(e,n,i,a,c,f,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=g}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];_t[n]=new jt(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function Hu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(zu,Hu);_t[n]=new jt(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(zu,Hu);_t[n]=new jt(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(zu,Hu);_t[n]=new jt(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new jt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vu(e,n,i,a){var c=_t.hasOwnProperty(n)?_t[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(bg(n,i,c,a)&&(i=null),a||c===null?Og(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(n=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(n):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var ar=Mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yo=Symbol.for("react.element"),yi=Symbol.for("react.portal"),Ci=Symbol.for("react.fragment"),Wu=Symbol.for("react.strict_mode"),Hl=Symbol.for("react.profiler"),nf=Symbol.for("react.provider"),rf=Symbol.for("react.context"),Gu=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),Wl=Symbol.for("react.suspense_list"),Yu=Symbol.for("react.memo"),yr=Symbol.for("react.lazy"),sf=Symbol.for("react.offscreen"),d1=Symbol.iterator;function us(e){return e===null||typeof e!="object"?null:(e=d1&&e[d1]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,fl;function ws(e){if(fl===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);fl=n&&n[1]||""}return`
`+fl+e}var dl=!1;function hl(e,n){if(!e||dl)return"";dl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(x){var a=x}Reflect.construct(e,[],n)}else{try{n.call()}catch(x){a=x}e.call(n.prototype)}else{try{throw Error()}catch(x){a=x}e()}}catch(x){if(x&&a&&typeof x.stack=="string"){for(var c=x.stack.split(`
`),f=a.stack.split(`
`),g=c.length-1,m=f.length-1;1<=g&&0<=m&&c[g]!==f[m];)m--;for(;1<=g&&0<=m;g--,m--)if(c[g]!==f[m]){if(g!==1||m!==1)do if(g--,m--,0>m||c[g]!==f[m]){var y=`
`+c[g].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=g&&0<=m);break}}}finally{dl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?ws(e):""}function Lg(e){switch(e.tag){case 5:return ws(e.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 2:case 15:return e=hl(e.type,!1),e;case 11:return e=hl(e.type.render,!1),e;case 1:return e=hl(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ci:return"Fragment";case yi:return"Portal";case Hl:return"Profiler";case Wu:return"StrictMode";case Vl:return"Suspense";case Wl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rf:return(e.displayName||"Context")+".Consumer";case nf:return(e._context.displayName||"Context")+".Provider";case Gu:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yu:return n=e.displayName||null,n!==null?n:Gl(e.type)||"Memo";case yr:n=e._payload,e=e._init;try{return Gl(e(n))}catch{}}return null}function kg(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(n);case 8:return n===Wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function of(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Bg(e){var n=of(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Co(e){e._valueTracker||(e._valueTracker=Bg(e))}function af(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=of(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yl(e,n){var i=n.checked;return nt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function h1(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=br(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function lf(e,n){n=n.checked,n!=null&&Vu(e,"checked",n,!1)}function Xl(e,n){lf(e,n);var i=br(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ql(e,n.type,i):n.hasOwnProperty("defaultValue")&&Ql(e,n.type,br(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function g1(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ql(e,n,i){(n!=="number"||qo(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ys=Array.isArray;function Di(e,n,i,a){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+br(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Zl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(J(91));return nt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function p1(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(J(92));if(ys(i)){if(1<i.length)throw Error(J(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:br(i)}}function uf(e,n){var i=br(n.value),a=br(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function x1(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function cf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?cf(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Eo,ff=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ds(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var As={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pg=["Webkit","ms","Moz","O"];Object.keys(As).forEach(function(e){Pg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),As[n]=As[e]})});function df(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||As.hasOwnProperty(e)&&As[e]?(""+n).trim():n+"px"}function hf(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=df(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var Fg=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(e,n){if(n){if(Fg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(J(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(J(61))}if(n.style!=null&&typeof n.style!="object")throw Error(J(62))}}function Jl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function Xu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,bi=null,Li=null;function m1(e){if(e=$s(e)){if(typeof eu!="function")throw Error(J(280));var n=e.stateNode;n&&(n=Ma(n),eu(e.stateNode,e.type,n))}}function gf(e){bi?Li?Li.push(e):Li=[e]:bi=e}function pf(){if(bi){var e=bi,n=Li;if(Li=bi=null,m1(e),n)for(e=0;e<n.length;e++)m1(n[e])}}function xf(e,n){return e(n)}function mf(){}var gl=!1;function wf(e,n,i){if(gl)return e(n,i);gl=!0;try{return xf(e,n,i)}finally{gl=!1,(bi!==null||Li!==null)&&(mf(),pf())}}function bs(e,n){var i=e.stateNode;if(i===null)return null;var a=Ma(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(J(231,n,typeof i));return i}var tu=!1;if(nr)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){tu=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{tu=!1}function Ug(e,n,i,a,c,f,g,m,y){var x=Array.prototype.slice.call(arguments,3);try{n.apply(i,x)}catch(I){this.onError(I)}}var Ss=!1,Jo=null,$o=!1,nu=null,jg={onError:function(e){Ss=!0,Jo=e}};function zg(e,n,i,a,c,f,g,m,y){Ss=!1,Jo=null,Ug.apply(jg,arguments)}function Hg(e,n,i,a,c,f,g,m,y){if(zg.apply(this,arguments),Ss){if(Ss){var x=Jo;Ss=!1,Jo=null}else throw Error(J(198));$o||($o=!0,nu=x)}}function oi(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function yf(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function w1(e){if(oi(e)!==e)throw Error(J(188))}function Vg(e){var n=e.alternate;if(!n){if(n=oi(e),n===null)throw Error(J(188));return n!==e?null:e}for(var i=e,a=n;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return w1(c),e;if(f===a)return w1(c),n;f=f.sibling}throw Error(J(188))}if(i.return!==a.return)i=c,a=f;else{for(var g=!1,m=c.child;m;){if(m===i){g=!0,i=c,a=f;break}if(m===a){g=!0,a=c,i=f;break}m=m.sibling}if(!g){for(m=f.child;m;){if(m===i){g=!0,i=f,a=c;break}if(m===a){g=!0,a=f,i=c;break}m=m.sibling}if(!g)throw Error(J(189))}}if(i.alternate!==a)throw Error(J(190))}if(i.tag!==3)throw Error(J(188));return i.stateNode.current===i?e:n}function Cf(e){return e=Vg(e),e!==null?Ef(e):null}function Ef(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ef(e);if(n!==null)return n;e=e.sibling}return null}var Af=on.unstable_scheduleCallback,y1=on.unstable_cancelCallback,Wg=on.unstable_shouldYield,Gg=on.unstable_requestPaint,ut=on.unstable_now,Yg=on.unstable_getCurrentPriorityLevel,Qu=on.unstable_ImmediatePriority,Sf=on.unstable_UserBlockingPriority,ea=on.unstable_NormalPriority,Xg=on.unstable_LowPriority,If=on.unstable_IdlePriority,va=null,Wn=null;function Qg(e){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(va,e,void 0,(e.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:qg,Zg=Math.log,Kg=Math.LN2;function qg(e){return e>>>=0,e===0?32:31-(Zg(e)/Kg|0)|0}var Ao=64,So=4194304;function Cs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ta(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var m=g&~c;m!==0?a=Cs(m):(f&=g,f!==0&&(a=Cs(f)))}else g=i&~c,g!==0?a=Cs(g):f!==0&&(a=Cs(f));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if(a&4&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-Rn(n),c=1<<i,a|=e[i],n&=~c;return a}function Jg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $g(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Rn(f),m=1<<g,y=c[g];y===-1?(!(m&i)||m&a)&&(c[g]=Jg(m,n)):y<=n&&(e.expiredLanes|=m),f&=~m}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vf(){var e=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),e}function pl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function qs(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Rn(n),e[n]=i}function e2(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Rn(i),f=1<<c;n[c]=0,a[c]=-1,e[c]=-1,i&=~f}}function Zu(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-Rn(i),c=1<<a;c&n|e[a]&n&&(e[a]|=n),i&=~c}}var Le=0;function Tf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nf,Ku,_f,Mf,Rf,iu=!1,Io=[],vr=null,Tr=null,Nr=null,Ls=new Map,ks=new Map,Er=[],t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C1(e,n){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Ls.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(n.pointerId)}}function fs(e,n,i,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},n!==null&&(n=$s(n),n!==null&&Ku(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function n2(e,n,i,a,c){switch(n){case"focusin":return vr=fs(vr,e,n,i,a,c),!0;case"dragenter":return Tr=fs(Tr,e,n,i,a,c),!0;case"mouseover":return Nr=fs(Nr,e,n,i,a,c),!0;case"pointerover":var f=c.pointerId;return Ls.set(f,fs(Ls.get(f)||null,e,n,i,a,c)),!0;case"gotpointercapture":return f=c.pointerId,ks.set(f,fs(ks.get(f)||null,e,n,i,a,c)),!0}return!1}function Of(e){var n=Zr(e.target);if(n!==null){var i=oi(n);if(i!==null){if(n=i.tag,n===13){if(n=yf(i),n!==null){e.blockedOn=n,Rf(e.priority,function(){_f(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=su(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);$l=a,i.target.dispatchEvent(a),$l=null}else return n=$s(i),n!==null&&Ku(n),e.blockedOn=i,!1;n.shift()}return!0}function E1(e,n,i){Uo(e)&&i.delete(n)}function r2(){iu=!1,vr!==null&&Uo(vr)&&(vr=null),Tr!==null&&Uo(Tr)&&(Tr=null),Nr!==null&&Uo(Nr)&&(Nr=null),Ls.forEach(E1),ks.forEach(E1)}function ds(e,n){e.blockedOn===n&&(e.blockedOn=null,iu||(iu=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,r2)))}function Bs(e){function n(c){return ds(c,e)}if(0<Io.length){ds(Io[0],e);for(var i=1;i<Io.length;i++){var a=Io[i];a.blockedOn===e&&(a.blockedOn=null)}}for(vr!==null&&ds(vr,e),Tr!==null&&ds(Tr,e),Nr!==null&&ds(Nr,e),Ls.forEach(n),ks.forEach(n),i=0;i<Er.length;i++)a=Er[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Er.length&&(i=Er[0],i.blockedOn===null);)Of(i),i.blockedOn===null&&Er.shift()}var ki=ar.ReactCurrentBatchConfig,na=!0;function i2(e,n,i,a){var c=Le,f=ki.transition;ki.transition=null;try{Le=1,qu(e,n,i,a)}finally{Le=c,ki.transition=f}}function s2(e,n,i,a){var c=Le,f=ki.transition;ki.transition=null;try{Le=4,qu(e,n,i,a)}finally{Le=c,ki.transition=f}}function qu(e,n,i,a){if(na){var c=su(e,n,i,a);if(c===null)vl(e,n,a,ra,i),C1(e,a);else if(n2(c,e,n,i,a))a.stopPropagation();else if(C1(e,a),n&4&&-1<t2.indexOf(e)){for(;c!==null;){var f=$s(c);if(f!==null&&Nf(f),f=su(e,n,i,a),f===null&&vl(e,n,a,ra,i),f===c)break;c=f}c!==null&&a.stopPropagation()}else vl(e,n,a,null,i)}}var ra=null;function su(e,n,i,a){if(ra=null,e=Xu(a),e=Zr(e),e!==null)if(n=oi(e),n===null)e=null;else if(i=n.tag,i===13){if(e=yf(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ra=e,null}function Df(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yg()){case Qu:return 1;case Sf:return 4;case ea:case Xg:return 16;case If:return 536870912;default:return 16}default:return 16}}var Sr=null,Ju=null,jo=null;function bf(){if(jo)return jo;var e,n=Ju,i=n.length,a,c="value"in Sr?Sr.value:Sr.textContent,f=c.length;for(e=0;e<i&&n[e]===c[e];e++);var g=i-e;for(a=1;a<=g&&n[i-a]===c[f-a];a++);return jo=c.slice(e,1<a?1-a:void 0)}function zo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function vo(){return!0}function A1(){return!1}function un(e){function n(i,a,c,f,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?vo:A1,this.isPropagationStopped=A1,this}return nt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=un(Yi),Js=nt({},Yi,{view:0,detail:0}),o2=un(Js),xl,ml,hs,Ta=nt({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(xl=e.screenX-hs.screenX,ml=e.screenY-hs.screenY):ml=xl=0,hs=e),xl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),S1=un(Ta),a2=nt({},Ta,{dataTransfer:0}),l2=un(a2),u2=nt({},Js,{relatedTarget:0}),wl=un(u2),c2=nt({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),f2=un(c2),d2=nt({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h2=un(d2),g2=nt({},Yi,{data:0}),I1=un(g2),p2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w2(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=m2[e])?!!n[e]:!1}function ec(){return w2}var y2=nt({},Js,{key:function(e){if(e.key){var n=p2[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(e){return e.type==="keypress"?zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C2=un(y2),E2=nt({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v1=un(E2),A2=nt({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),S2=un(A2),I2=nt({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),v2=un(I2),T2=nt({},Ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N2=un(T2),_2=[9,13,27,32],tc=nr&&"CompositionEvent"in window,Is=null;nr&&"documentMode"in document&&(Is=document.documentMode);var M2=nr&&"TextEvent"in window&&!Is,Lf=nr&&(!tc||Is&&8<Is&&11>=Is),T1=" ",N1=!1;function kf(e,n){switch(e){case"keyup":return _2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function R2(e,n){switch(e){case"compositionend":return Bf(n);case"keypress":return n.which!==32?null:(N1=!0,T1);case"textInput":return e=n.data,e===T1&&N1?null:e;default:return null}}function O2(e,n){if(Ei)return e==="compositionend"||!tc&&kf(e,n)?(e=bf(),jo=Ju=Sr=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lf&&n.locale!=="ko"?null:n.data;default:return null}}var D2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!D2[e.type]:n==="textarea"}function Pf(e,n,i,a){gf(a),n=ia(n,"onChange"),0<n.length&&(i=new $u("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var vs=null,Ps=null;function b2(e){Qf(e,0)}function Na(e){var n=Ii(e);if(af(n))return e}function L2(e,n){if(e==="change")return n}var Ff=!1;if(nr){var yl;if(nr){var Cl="oninput"in document;if(!Cl){var M1=document.createElement("div");M1.setAttribute("oninput","return;"),Cl=typeof M1.oninput=="function"}yl=Cl}else yl=!1;Ff=yl&&(!document.documentMode||9<document.documentMode)}function R1(){vs&&(vs.detachEvent("onpropertychange",Uf),Ps=vs=null)}function Uf(e){if(e.propertyName==="value"&&Na(Ps)){var n=[];Pf(n,Ps,e,Xu(e)),wf(b2,n)}}function k2(e,n,i){e==="focusin"?(R1(),vs=n,Ps=i,vs.attachEvent("onpropertychange",Uf)):e==="focusout"&&R1()}function B2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Na(Ps)}function P2(e,n){if(e==="click")return Na(n)}function F2(e,n){if(e==="input"||e==="change")return Na(n)}function U2(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dn=typeof Object.is=="function"?Object.is:U2;function Fs(e,n){if(Dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!zl.call(n,c)||!Dn(e[c],n[c]))return!1}return!0}function O1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function D1(e,n){var i=O1(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=O1(i)}}function jf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zf(){for(var e=window,n=qo();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=qo(e.document)}return n}function nc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function j2(e){var n=zf(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&jf(i.ownerDocument.documentElement,i)){if(a!==null&&nc(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=D1(i,f);var g=D1(i,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var z2=nr&&"documentMode"in document&&11>=document.documentMode,Ai=null,ou=null,Ts=null,au=!1;function b1(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;au||Ai==null||Ai!==qo(a)||(a=Ai,"selectionStart"in a&&nc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ts&&Fs(Ts,a)||(Ts=a,a=ia(ou,"onSelect"),0<a.length&&(n=new $u("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=Ai)))}function To(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Si={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionend:To("Transition","TransitionEnd")},El={},Hf={};nr&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function _a(e){if(El[e])return El[e];if(!Si[e])return e;var n=Si[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Hf)return El[e]=n[i];return e}var Vf=_a("animationend"),Wf=_a("animationiteration"),Gf=_a("animationstart"),Yf=_a("transitionend"),Xf=new Map,L1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,n){Xf.set(e,n),si(n,[e])}for(var Al=0;Al<L1.length;Al++){var Sl=L1[Al],H2=Sl.toLowerCase(),V2=Sl[0].toUpperCase()+Sl.slice(1);Br(H2,"on"+V2)}Br(Vf,"onAnimationEnd");Br(Wf,"onAnimationIteration");Br(Gf,"onAnimationStart");Br("dblclick","onDoubleClick");Br("focusin","onFocus");Br("focusout","onBlur");Br(Yf,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function k1(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,Hg(a,n,void 0,e),e.currentTarget=null}function Qf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var g=a.length-1;0<=g;g--){var m=a[g],y=m.instance,x=m.currentTarget;if(m=m.listener,y!==f&&c.isPropagationStopped())break e;k1(c,m,x),f=y}else for(g=0;g<a.length;g++){if(m=a[g],y=m.instance,x=m.currentTarget,m=m.listener,y!==f&&c.isPropagationStopped())break e;k1(c,m,x),f=y}}}if($o)throw e=nu,$o=!1,nu=null,e}function Ge(e,n){var i=n[du];i===void 0&&(i=n[du]=new Set);var a=e+"__bubble";i.has(a)||(Zf(n,e,2,!1),i.add(a))}function Il(e,n,i){var a=0;n&&(a|=4),Zf(i,e,a,n)}var No="_reactListening"+Math.random().toString(36).slice(2);function Us(e){if(!e[No]){e[No]=!0,tf.forEach(function(i){i!=="selectionchange"&&(W2.has(i)||Il(i,!1,e),Il(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[No]||(n[No]=!0,Il("selectionchange",!1,n))}}function Zf(e,n,i,a){switch(Df(n)){case 1:var c=i2;break;case 4:c=s2;break;default:c=qu}i=c.bind(null,n,i,e),c=void 0,!tu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function vl(e,n,i,a,c){var f=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var m=a.stateNode.containerInfo;if(m===c||m.nodeType===8&&m.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var y=g.tag;if((y===3||y===4)&&(y=g.stateNode.containerInfo,y===c||y.nodeType===8&&y.parentNode===c))return;g=g.return}for(;m!==null;){if(g=Zr(m),g===null)return;if(y=g.tag,y===5||y===6){a=f=g;continue e}m=m.parentNode}}a=a.return}wf(function(){var x=f,I=Xu(i),S=[];e:{var R=Xf.get(e);if(R!==void 0){var b=$u,V=e;switch(e){case"keypress":if(zo(i)===0)break e;case"keydown":case"keyup":b=C2;break;case"focusin":V="focus",b=wl;break;case"focusout":V="blur",b=wl;break;case"beforeblur":case"afterblur":b=wl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=S1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=l2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=S2;break;case Vf:case Wf:case Gf:b=f2;break;case Yf:b=v2;break;case"scroll":b=o2;break;case"wheel":b=N2;break;case"copy":case"cut":case"paste":b=h2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=v1}var L=(n&4)!==0,X=!L&&e==="scroll",M=L?R!==null?R+"Capture":null:R;L=[];for(var N=x,_;N!==null;){_=N;var j=_.stateNode;if(_.tag===5&&j!==null&&(_=j,M!==null&&(j=bs(N,M),j!=null&&L.push(js(N,j,_)))),X)break;N=N.return}0<L.length&&(R=new b(R,V,null,i,I),S.push({event:R,listeners:L}))}}if(!(n&7)){e:{if(R=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",R&&i!==$l&&(V=i.relatedTarget||i.fromElement)&&(Zr(V)||V[rr]))break e;if((b||R)&&(R=I.window===I?I:(R=I.ownerDocument)?R.defaultView||R.parentWindow:window,b?(V=i.relatedTarget||i.toElement,b=x,V=V?Zr(V):null,V!==null&&(X=oi(V),V!==X||V.tag!==5&&V.tag!==6)&&(V=null)):(b=null,V=x),b!==V)){if(L=S1,j="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(L=v1,j="onPointerLeave",M="onPointerEnter",N="pointer"),X=b==null?R:Ii(b),_=V==null?R:Ii(V),R=new L(j,N+"leave",b,i,I),R.target=X,R.relatedTarget=_,j=null,Zr(I)===x&&(L=new L(M,N+"enter",V,i,I),L.target=_,L.relatedTarget=X,j=L),X=j,b&&V)t:{for(L=b,M=V,N=0,_=L;_;_=wi(_))N++;for(_=0,j=M;j;j=wi(j))_++;for(;0<N-_;)L=wi(L),N--;for(;0<_-N;)M=wi(M),_--;for(;N--;){if(L===M||M!==null&&L===M.alternate)break t;L=wi(L),M=wi(M)}L=null}else L=null;b!==null&&B1(S,R,b,L,!1),V!==null&&X!==null&&B1(S,X,V,L,!0)}}e:{if(R=x?Ii(x):window,b=R.nodeName&&R.nodeName.toLowerCase(),b==="select"||b==="input"&&R.type==="file")var q=L2;else if(_1(R))if(Ff)q=F2;else{q=B2;var Z=k2}else(b=R.nodeName)&&b.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(q=P2);if(q&&(q=q(e,x))){Pf(S,q,i,I);break e}Z&&Z(e,R,x),e==="focusout"&&(Z=R._wrapperState)&&Z.controlled&&R.type==="number"&&Ql(R,"number",R.value)}switch(Z=x?Ii(x):window,e){case"focusin":(_1(Z)||Z.contentEditable==="true")&&(Ai=Z,ou=x,Ts=null);break;case"focusout":Ts=ou=Ai=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,b1(S,i,I);break;case"selectionchange":if(z2)break;case"keydown":case"keyup":b1(S,i,I)}var U;if(tc)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Ei?kf(e,i)&&(W="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(W="onCompositionStart");W&&(Lf&&i.locale!=="ko"&&(Ei||W!=="onCompositionStart"?W==="onCompositionEnd"&&Ei&&(U=bf()):(Sr=I,Ju="value"in Sr?Sr.value:Sr.textContent,Ei=!0)),Z=ia(x,W),0<Z.length&&(W=new I1(W,e,null,i,I),S.push({event:W,listeners:Z}),U?W.data=U:(U=Bf(i),U!==null&&(W.data=U)))),(U=M2?R2(e,i):O2(e,i))&&(x=ia(x,"onBeforeInput"),0<x.length&&(I=new I1("onBeforeInput","beforeinput",null,i,I),S.push({event:I,listeners:x}),I.data=U))}Qf(S,n)})}function js(e,n,i){return{instance:e,listener:n,currentTarget:i}}function ia(e,n){for(var i=n+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=bs(e,i),f!=null&&a.unshift(js(e,f,c)),f=bs(e,n),f!=null&&a.push(js(e,f,c))),e=e.return}return a}function wi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function B1(e,n,i,a,c){for(var f=n._reactName,g=[];i!==null&&i!==a;){var m=i,y=m.alternate,x=m.stateNode;if(y!==null&&y===a)break;m.tag===5&&x!==null&&(m=x,c?(y=bs(i,f),y!=null&&g.unshift(js(i,y,m))):c||(y=bs(i,f),y!=null&&g.push(js(i,y,m)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var G2=/\r\n?/g,Y2=/\u0000|\uFFFD/g;function P1(e){return(typeof e=="string"?e:""+e).replace(G2,`
`).replace(Y2,"")}function _o(e,n,i){if(n=P1(n),P1(e)!==n&&i)throw Error(J(425))}function sa(){}var lu=null,uu=null;function cu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fu=typeof setTimeout=="function"?setTimeout:void 0,X2=typeof clearTimeout=="function"?clearTimeout:void 0,F1=typeof Promise=="function"?Promise:void 0,Q2=typeof queueMicrotask=="function"?queueMicrotask:typeof F1<"u"?function(e){return F1.resolve(null).then(e).catch(Z2)}:fu;function Z2(e){setTimeout(function(){throw e})}function Tl(e,n){var i=n,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),Bs(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);Bs(n)}function _r(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function U1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Xi,zs="__reactProps$"+Xi,rr="__reactContainer$"+Xi,du="__reactEvents$"+Xi,K2="__reactListeners$"+Xi,q2="__reactHandles$"+Xi;function Zr(e){var n=e[Vn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[rr]||i[Vn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=U1(e);e!==null;){if(i=e[Vn])return i;e=U1(e)}return n}e=i,i=e.parentNode}return null}function $s(e){return e=e[Vn]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Ma(e){return e[zs]||null}var hu=[],vi=-1;function Pr(e){return{current:e}}function Xe(e){0>vi||(e.current=hu[vi],hu[vi]=null,vi--)}function Ve(e,n){vi++,hu[vi]=e.current,e.current=n}var Lr={},Lt=Pr(Lr),Zt=Pr(!1),ei=Lr;function Ui(e,n){var i=e.type.contextTypes;if(!i)return Lr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=n[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function Kt(e){return e=e.childContextTypes,e!=null}function oa(){Xe(Zt),Xe(Lt)}function j1(e,n,i){if(Lt.current!==Lr)throw Error(J(168));Ve(Lt,n),Ve(Zt,i)}function Kf(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(J(108,kg(e)||"Unknown",c));return nt({},i,a)}function aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lr,ei=Lt.current,Ve(Lt,e),Ve(Zt,Zt.current),!0}function z1(e,n,i){var a=e.stateNode;if(!a)throw Error(J(169));i?(e=Kf(e,n,ei),a.__reactInternalMemoizedMergedChildContext=e,Xe(Zt),Xe(Lt),Ve(Lt,e)):Xe(Zt),Ve(Zt,i)}var Kn=null,Ra=!1,Nl=!1;function qf(e){Kn===null?Kn=[e]:Kn.push(e)}function J2(e){Ra=!0,qf(e)}function Fr(){if(!Nl&&Kn!==null){Nl=!0;var e=0,n=Le;try{var i=Kn;for(Le=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Kn=null,Ra=!1}catch(c){throw Kn!==null&&(Kn=Kn.slice(e+1)),Af(Qu,Fr),c}finally{Le=n,Nl=!1}}return null}var Ti=[],Ni=0,la=null,ua=0,xn=[],mn=0,ti=null,qn=1,Jn="";function Yr(e,n){Ti[Ni++]=ua,Ti[Ni++]=la,la=e,ua=n}function Jf(e,n,i){xn[mn++]=qn,xn[mn++]=Jn,xn[mn++]=ti,ti=e;var a=qn;e=Jn;var c=32-Rn(a)-1;a&=~(1<<c),i+=1;var f=32-Rn(n)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,qn=1<<32-Rn(n)+c|i<<c|a,Jn=f+e}else qn=1<<f|i<<c|a,Jn=e}function rc(e){e.return!==null&&(Yr(e,1),Jf(e,1,0))}function ic(e){for(;e===la;)la=Ti[--Ni],Ti[Ni]=null,ua=Ti[--Ni],Ti[Ni]=null;for(;e===ti;)ti=xn[--mn],xn[mn]=null,Jn=xn[--mn],xn[mn]=null,qn=xn[--mn],xn[mn]=null}var sn=null,rn=null,Ke=!1,Mn=null;function $f(e,n){var i=wn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function H1(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,sn=e,rn=_r(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,sn=e,rn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ti!==null?{id:qn,overflow:Jn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=wn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,sn=e,rn=null,!0):!1;default:return!1}}function gu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pu(e){if(Ke){var n=rn;if(n){var i=n;if(!H1(e,n)){if(gu(e))throw Error(J(418));n=_r(i.nextSibling);var a=sn;n&&H1(e,n)?$f(a,i):(e.flags=e.flags&-4097|2,Ke=!1,sn=e)}}else{if(gu(e))throw Error(J(418));e.flags=e.flags&-4097|2,Ke=!1,sn=e}}}function V1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function Mo(e){if(e!==sn)return!1;if(!Ke)return V1(e),Ke=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!cu(e.type,e.memoizedProps)),n&&(n=rn)){if(gu(e))throw ed(),Error(J(418));for(;n;)$f(e,n),n=_r(n.nextSibling)}if(V1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){rn=_r(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}rn=null}}else rn=sn?_r(e.stateNode.nextSibling):null;return!0}function ed(){for(var e=rn;e;)e=_r(e.nextSibling)}function ji(){rn=sn=null,Ke=!1}function sc(e){Mn===null?Mn=[e]:Mn.push(e)}var $2=ar.ReactCurrentBatchConfig;function gs(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(J(309));var a=i.stateNode}if(!a)throw Error(J(147,e));var c=a,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(g){var m=c.refs;g===null?delete m[f]:m[f]=g},n._stringRef=f,n)}if(typeof e!="string")throw Error(J(284));if(!i._owner)throw Error(J(290,e))}return e}function Ro(e,n){throw e=Object.prototype.toString.call(n),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function W1(e){var n=e._init;return n(e._payload)}function td(e){function n(M,N){if(e){var _=M.deletions;_===null?(M.deletions=[N],M.flags|=16):_.push(N)}}function i(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function a(M,N){for(M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function c(M,N){return M=Dr(M,N),M.index=0,M.sibling=null,M}function f(M,N,_){return M.index=_,e?(_=M.alternate,_!==null?(_=_.index,_<N?(M.flags|=2,N):_):(M.flags|=2,N)):(M.flags|=1048576,N)}function g(M){return e&&M.alternate===null&&(M.flags|=2),M}function m(M,N,_,j){return N===null||N.tag!==6?(N=Ll(_,M.mode,j),N.return=M,N):(N=c(N,_),N.return=M,N)}function y(M,N,_,j){var q=_.type;return q===Ci?I(M,N,_.props.children,j,_.key):N!==null&&(N.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===yr&&W1(q)===N.type)?(j=c(N,_.props),j.ref=gs(M,N,_),j.return=M,j):(j=Qo(_.type,_.key,_.props,null,M.mode,j),j.ref=gs(M,N,_),j.return=M,j)}function x(M,N,_,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==_.containerInfo||N.stateNode.implementation!==_.implementation?(N=kl(_,M.mode,j),N.return=M,N):(N=c(N,_.children||[]),N.return=M,N)}function I(M,N,_,j,q){return N===null||N.tag!==7?(N=$r(_,M.mode,j,q),N.return=M,N):(N=c(N,_),N.return=M,N)}function S(M,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Ll(""+N,M.mode,_),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case yo:return _=Qo(N.type,N.key,N.props,null,M.mode,_),_.ref=gs(M,null,N),_.return=M,_;case yi:return N=kl(N,M.mode,_),N.return=M,N;case yr:var j=N._init;return S(M,j(N._payload),_)}if(ys(N)||us(N))return N=$r(N,M.mode,_,null),N.return=M,N;Ro(M,N)}return null}function R(M,N,_,j){var q=N!==null?N.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return q!==null?null:m(M,N,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yo:return _.key===q?y(M,N,_,j):null;case yi:return _.key===q?x(M,N,_,j):null;case yr:return q=_._init,R(M,N,q(_._payload),j)}if(ys(_)||us(_))return q!==null?null:I(M,N,_,j,null);Ro(M,_)}return null}function b(M,N,_,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return M=M.get(_)||null,m(N,M,""+j,q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case yo:return M=M.get(j.key===null?_:j.key)||null,y(N,M,j,q);case yi:return M=M.get(j.key===null?_:j.key)||null,x(N,M,j,q);case yr:var Z=j._init;return b(M,N,_,Z(j._payload),q)}if(ys(j)||us(j))return M=M.get(_)||null,I(N,M,j,q,null);Ro(N,j)}return null}function V(M,N,_,j){for(var q=null,Z=null,U=N,W=N=0,G=null;U!==null&&W<_.length;W++){U.index>W?(G=U,U=null):G=U.sibling;var ae=R(M,U,_[W],j);if(ae===null){U===null&&(U=G);break}e&&U&&ae.alternate===null&&n(M,U),N=f(ae,N,W),Z===null?q=ae:Z.sibling=ae,Z=ae,U=G}if(W===_.length)return i(M,U),Ke&&Yr(M,W),q;if(U===null){for(;W<_.length;W++)U=S(M,_[W],j),U!==null&&(N=f(U,N,W),Z===null?q=U:Z.sibling=U,Z=U);return Ke&&Yr(M,W),q}for(U=a(M,U);W<_.length;W++)G=b(U,M,W,_[W],j),G!==null&&(e&&G.alternate!==null&&U.delete(G.key===null?W:G.key),N=f(G,N,W),Z===null?q=G:Z.sibling=G,Z=G);return e&&U.forEach(function(ce){return n(M,ce)}),Ke&&Yr(M,W),q}function L(M,N,_,j){var q=us(_);if(typeof q!="function")throw Error(J(150));if(_=q.call(_),_==null)throw Error(J(151));for(var Z=q=null,U=N,W=N=0,G=null,ae=_.next();U!==null&&!ae.done;W++,ae=_.next()){U.index>W?(G=U,U=null):G=U.sibling;var ce=R(M,U,ae.value,j);if(ce===null){U===null&&(U=G);break}e&&U&&ce.alternate===null&&n(M,U),N=f(ce,N,W),Z===null?q=ce:Z.sibling=ce,Z=ce,U=G}if(ae.done)return i(M,U),Ke&&Yr(M,W),q;if(U===null){for(;!ae.done;W++,ae=_.next())ae=S(M,ae.value,j),ae!==null&&(N=f(ae,N,W),Z===null?q=ae:Z.sibling=ae,Z=ae);return Ke&&Yr(M,W),q}for(U=a(M,U);!ae.done;W++,ae=_.next())ae=b(U,M,W,ae.value,j),ae!==null&&(e&&ae.alternate!==null&&U.delete(ae.key===null?W:ae.key),N=f(ae,N,W),Z===null?q=ae:Z.sibling=ae,Z=ae);return e&&U.forEach(function(ne){return n(M,ne)}),Ke&&Yr(M,W),q}function X(M,N,_,j){if(typeof _=="object"&&_!==null&&_.type===Ci&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case yo:e:{for(var q=_.key,Z=N;Z!==null;){if(Z.key===q){if(q=_.type,q===Ci){if(Z.tag===7){i(M,Z.sibling),N=c(Z,_.props.children),N.return=M,M=N;break e}}else if(Z.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===yr&&W1(q)===Z.type){i(M,Z.sibling),N=c(Z,_.props),N.ref=gs(M,Z,_),N.return=M,M=N;break e}i(M,Z);break}else n(M,Z);Z=Z.sibling}_.type===Ci?(N=$r(_.props.children,M.mode,j,_.key),N.return=M,M=N):(j=Qo(_.type,_.key,_.props,null,M.mode,j),j.ref=gs(M,N,_),j.return=M,M=j)}return g(M);case yi:e:{for(Z=_.key;N!==null;){if(N.key===Z)if(N.tag===4&&N.stateNode.containerInfo===_.containerInfo&&N.stateNode.implementation===_.implementation){i(M,N.sibling),N=c(N,_.children||[]),N.return=M,M=N;break e}else{i(M,N);break}else n(M,N);N=N.sibling}N=kl(_,M.mode,j),N.return=M,M=N}return g(M);case yr:return Z=_._init,X(M,N,Z(_._payload),j)}if(ys(_))return V(M,N,_,j);if(us(_))return L(M,N,_,j);Ro(M,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,N!==null&&N.tag===6?(i(M,N.sibling),N=c(N,_),N.return=M,M=N):(i(M,N),N=Ll(_,M.mode,j),N.return=M,M=N),g(M)):i(M,N)}return X}var zi=td(!0),nd=td(!1),ca=Pr(null),fa=null,_i=null,oc=null;function ac(){oc=_i=fa=null}function lc(e){var n=ca.current;Xe(ca),e._currentValue=n}function xu(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function Bi(e,n){fa=e,oc=_i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Qt=!0),e.firstContext=null)}function Cn(e){var n=e._currentValue;if(oc!==e)if(e={context:e,memoizedValue:n,next:null},_i===null){if(fa===null)throw Error(J(308));_i=e,fa.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return n}var Kr=null;function uc(e){Kr===null?Kr=[e]:Kr.push(e)}function rd(e,n,i,a){var c=n.interleaved;return c===null?(i.next=i,uc(n)):(i.next=c.next,c.next=i),n.interleaved=i,ir(e,a)}function ir(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Cr=!1;function cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function id(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function er(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Mr(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,_e&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,ir(e,i)}return c=a.interleaved,c===null?(n.next=n,uc(a)):(n.next=c.next,c.next=n),a.interleaved=n,ir(e,i)}function Ho(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,Zu(e,i)}}function G1(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=n:f=f.next=n}else c=f=n;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function da(e,n,i,a){var c=e.updateQueue;Cr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,m=c.shared.pending;if(m!==null){c.shared.pending=null;var y=m,x=y.next;y.next=null,g===null?f=x:g.next=x,g=y;var I=e.alternate;I!==null&&(I=I.updateQueue,m=I.lastBaseUpdate,m!==g&&(m===null?I.firstBaseUpdate=x:m.next=x,I.lastBaseUpdate=y))}if(f!==null){var S=c.baseState;g=0,I=x=y=null,m=f;do{var R=m.lane,b=m.eventTime;if((a&R)===R){I!==null&&(I=I.next={eventTime:b,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var V=e,L=m;switch(R=n,b=i,L.tag){case 1:if(V=L.payload,typeof V=="function"){S=V.call(b,S,R);break e}S=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=L.payload,R=typeof V=="function"?V.call(b,S,R):V,R==null)break e;S=nt({},S,R);break e;case 2:Cr=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,R=c.effects,R===null?c.effects=[m]:R.push(m))}else b={eventTime:b,lane:R,tag:m.tag,payload:m.payload,callback:m.callback,next:null},I===null?(x=I=b,y=S):I=I.next=b,g|=R;if(m=m.next,m===null){if(m=c.shared.pending,m===null)break;R=m,m=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);if(I===null&&(y=S),c.baseState=y,c.firstBaseUpdate=x,c.lastBaseUpdate=I,n=c.shared.interleaved,n!==null){c=n;do g|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);ri|=g,e.lanes=g,e.memoizedState=S}}function Y1(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(J(191,c));c.call(a)}}}var eo={},Gn=Pr(eo),Hs=Pr(eo),Vs=Pr(eo);function qr(e){if(e===eo)throw Error(J(174));return e}function fc(e,n){switch(Ve(Vs,n),Ve(Hs,e),Ve(Gn,eo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Kl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Kl(n,e)}Xe(Gn),Ve(Gn,n)}function Hi(){Xe(Gn),Xe(Hs),Xe(Vs)}function sd(e){qr(Vs.current);var n=qr(Gn.current),i=Kl(n,e.type);n!==i&&(Ve(Hs,e),Ve(Gn,i))}function dc(e){Hs.current===e&&(Xe(Gn),Xe(Hs))}var et=Pr(0);function ha(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _l=[];function hc(){for(var e=0;e<_l.length;e++)_l[e]._workInProgressVersionPrimary=null;_l.length=0}var Vo=ar.ReactCurrentDispatcher,Ml=ar.ReactCurrentBatchConfig,ni=0,tt=null,pt=null,Ct=null,ga=!1,Ns=!1,Ws=0,ep=0;function Ot(){throw Error(J(321))}function gc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Dn(e[i],n[i]))return!1;return!0}function pc(e,n,i,a,c,f){if(ni=f,tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Vo.current=e===null||e.memoizedState===null?ip:sp,e=i(a,c),Ns){f=0;do{if(Ns=!1,Ws=0,25<=f)throw Error(J(301));f+=1,Ct=pt=null,n.updateQueue=null,Vo.current=op,e=i(a,c)}while(Ns)}if(Vo.current=pa,n=pt!==null&&pt.next!==null,ni=0,Ct=pt=tt=null,ga=!1,n)throw Error(J(300));return e}function xc(){var e=Ws!==0;return Ws=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?tt.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function En(){if(pt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var n=Ct===null?tt.memoizedState:Ct.next;if(n!==null)Ct=n,pt=e;else{if(e===null)throw Error(J(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Ct===null?tt.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Gs(e,n){return typeof n=="function"?n(e):n}function Rl(e){var n=En(),i=n.queue;if(i===null)throw Error(J(311));i.lastRenderedReducer=e;var a=pt,c=a.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}a.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,a=a.baseState;var m=g=null,y=null,x=f;do{var I=x.lane;if((ni&I)===I)y!==null&&(y=y.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),a=x.hasEagerState?x.eagerState:e(a,x.action);else{var S={lane:I,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};y===null?(m=y=S,g=a):y=y.next=S,tt.lanes|=I,ri|=I}x=x.next}while(x!==null&&x!==f);y===null?g=a:y.next=m,Dn(a,n.memoizedState)||(Qt=!0),n.memoizedState=a,n.baseState=g,n.baseQueue=y,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do f=c.lane,tt.lanes|=f,ri|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Ol(e){var n=En(),i=n.queue;if(i===null)throw Error(J(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,f=n.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);Dn(f,n.memoizedState)||(Qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,a]}function od(){}function ad(e,n){var i=tt,a=En(),c=n(),f=!Dn(a.memoizedState,c);if(f&&(a.memoizedState=c,Qt=!0),a=a.queue,mc(cd.bind(null,i,a,e),[e]),a.getSnapshot!==n||f||Ct!==null&&Ct.memoizedState.tag&1){if(i.flags|=2048,Ys(9,ud.bind(null,i,a,c,n),void 0,null),Et===null)throw Error(J(349));ni&30||ld(i,n,c)}return c}function ld(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=tt.updateQueue,n===null?(n={lastEffect:null,stores:null},tt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function ud(e,n,i,a){n.value=i,n.getSnapshot=a,fd(n)&&dd(e)}function cd(e,n,i){return i(function(){fd(n)&&dd(e)})}function fd(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Dn(e,i)}catch{return!0}}function dd(e){var n=ir(e,1);n!==null&&On(n,e,1,-1)}function X1(e){var n=zn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:e},n.queue=e,e=e.dispatch=rp.bind(null,tt,e),[n.memoizedState,e]}function Ys(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=tt.updateQueue,n===null?(n={lastEffect:null,stores:null},tt.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function hd(){return En().memoizedState}function Wo(e,n,i,a){var c=zn();tt.flags|=e,c.memoizedState=Ys(1|n,i,void 0,a===void 0?null:a)}function Oa(e,n,i,a){var c=En();a=a===void 0?null:a;var f=void 0;if(pt!==null){var g=pt.memoizedState;if(f=g.destroy,a!==null&&gc(a,g.deps)){c.memoizedState=Ys(n,i,f,a);return}}tt.flags|=e,c.memoizedState=Ys(1|n,i,f,a)}function Q1(e,n){return Wo(8390656,8,e,n)}function mc(e,n){return Oa(2048,8,e,n)}function gd(e,n){return Oa(4,2,e,n)}function pd(e,n){return Oa(4,4,e,n)}function xd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function md(e,n,i){return i=i!=null?i.concat([e]):null,Oa(4,4,xd.bind(null,n,e),i)}function wc(){}function wd(e,n){var i=En();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&gc(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function yd(e,n){var i=En();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&gc(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function Cd(e,n,i){return ni&21?(Dn(i,n)||(i=vf(),tt.lanes|=i,ri|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=i)}function tp(e,n){var i=Le;Le=i!==0&&4>i?i:4,e(!0);var a=Ml.transition;Ml.transition={};try{e(!1),n()}finally{Le=i,Ml.transition=a}}function Ed(){return En().memoizedState}function np(e,n,i){var a=Or(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Ad(e))Sd(n,i);else if(i=rd(e,n,i,a),i!==null){var c=Ft();On(i,e,a,c),Id(i,n,a)}}function rp(e,n,i){var a=Or(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ad(e))Sd(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,m=f(g,i);if(c.hasEagerState=!0,c.eagerState=m,Dn(m,g)){var y=n.interleaved;y===null?(c.next=c,uc(n)):(c.next=y.next,y.next=c),n.interleaved=c;return}}catch{}finally{}i=rd(e,n,c,a),i!==null&&(c=Ft(),On(i,e,a,c),Id(i,n,a))}}function Ad(e){var n=e.alternate;return e===tt||n!==null&&n===tt}function Sd(e,n){Ns=ga=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Id(e,n,i){if(i&4194240){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,Zu(e,i)}}var pa={readContext:Cn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},ip={readContext:Cn,useCallback:function(e,n){return zn().memoizedState=[e,n===void 0?null:n],e},useContext:Cn,useEffect:Q1,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Wo(4194308,4,xd.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Wo(4194308,4,e,n)},useInsertionEffect:function(e,n){return Wo(4,2,e,n)},useMemo:function(e,n){var i=zn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=zn();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=np.bind(null,tt,e),[a.memoizedState,e]},useRef:function(e){var n=zn();return e={current:e},n.memoizedState=e},useState:X1,useDebugValue:wc,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=X1(!1),n=e[0];return e=tp.bind(null,e[1]),zn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=tt,c=zn();if(Ke){if(i===void 0)throw Error(J(407));i=i()}else{if(i=n(),Et===null)throw Error(J(349));ni&30||ld(a,n,i)}c.memoizedState=i;var f={value:i,getSnapshot:n};return c.queue=f,Q1(cd.bind(null,a,f,e),[e]),a.flags|=2048,Ys(9,ud.bind(null,a,f,i,n),void 0,null),i},useId:function(){var e=zn(),n=Et.identifierPrefix;if(Ke){var i=Jn,a=qn;i=(a&~(1<<32-Rn(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=Ws++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=ep++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},sp={readContext:Cn,useCallback:wd,useContext:Cn,useEffect:mc,useImperativeHandle:md,useInsertionEffect:gd,useLayoutEffect:pd,useMemo:yd,useReducer:Rl,useRef:hd,useState:function(){return Rl(Gs)},useDebugValue:wc,useDeferredValue:function(e){var n=En();return Cd(n,pt.memoizedState,e)},useTransition:function(){var e=Rl(Gs)[0],n=En().memoizedState;return[e,n]},useMutableSource:od,useSyncExternalStore:ad,useId:Ed,unstable_isNewReconciler:!1},op={readContext:Cn,useCallback:wd,useContext:Cn,useEffect:mc,useImperativeHandle:md,useInsertionEffect:gd,useLayoutEffect:pd,useMemo:yd,useReducer:Ol,useRef:hd,useState:function(){return Ol(Gs)},useDebugValue:wc,useDeferredValue:function(e){var n=En();return pt===null?n.memoizedState=e:Cd(n,pt.memoizedState,e)},useTransition:function(){var e=Ol(Gs)[0],n=En().memoizedState;return[e,n]},useMutableSource:od,useSyncExternalStore:ad,useId:Ed,unstable_isNewReconciler:!1};function Tn(e,n){if(e&&e.defaultProps){n=nt({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function mu(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:nt({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Da={isMounted:function(e){return(e=e._reactInternals)?oi(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=Ft(),c=Or(e),f=er(a,c);f.payload=n,i!=null&&(f.callback=i),n=Mr(e,f,c),n!==null&&(On(n,e,c,a),Ho(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=Ft(),c=Or(e),f=er(a,c);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Mr(e,f,c),n!==null&&(On(n,e,c,a),Ho(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ft(),a=Or(e),c=er(i,a);c.tag=2,n!=null&&(c.callback=n),n=Mr(e,c,a),n!==null&&(On(n,e,a,i),Ho(n,e,a))}};function Z1(e,n,i,a,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):n.prototype&&n.prototype.isPureReactComponent?!Fs(i,a)||!Fs(c,f):!0}function vd(e,n,i){var a=!1,c=Lr,f=n.contextType;return typeof f=="object"&&f!==null?f=Cn(f):(c=Kt(n)?ei:Lt.current,a=n.contextTypes,f=(a=a!=null)?Ui(e,c):Lr),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Da,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),n}function K1(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&Da.enqueueReplaceState(n,n.state,null)}function wu(e,n,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},cc(e);var f=n.contextType;typeof f=="object"&&f!==null?c.context=Cn(f):(f=Kt(n)?ei:Lt.current,c.context=Ui(e,f)),c.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(mu(e,n,f,i),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Da.enqueueReplaceState(c,c.state,null),da(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Vi(e,n){try{var i="",a=n;do i+=Lg(a),a=a.return;while(a);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:c,digest:null}}function Dl(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function yu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var ap=typeof WeakMap=="function"?WeakMap:Map;function Td(e,n,i){i=er(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){ma||(ma=!0,Mu=a),yu(e,n)},i}function Nd(e,n,i){i=er(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;i.payload=function(){return a(c)},i.callback=function(){yu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){yu(e,n),typeof a!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),i}function q1(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new ap;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(i)||(c.add(i),e=Ep.bind(null,e,n,i),n.then(e,e))}function J1(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function $1(e,n,i,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=er(-1,1),n.tag=2,Mr(i,n,1))),i.lanes|=1),e)}var lp=ar.ReactCurrentOwner,Qt=!1;function Pt(e,n,i,a){n.child=e===null?nd(n,null,i,a):zi(n,e.child,i,a)}function e0(e,n,i,a,c){i=i.render;var f=n.ref;return Bi(n,c),a=pc(e,n,i,a,f,c),i=xc(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,sr(e,n,c)):(Ke&&i&&rc(n),n.flags|=1,Pt(e,n,a,c),n.child)}function t0(e,n,i,a,c){if(e===null){var f=i.type;return typeof f=="function"&&!Tc(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,_d(e,n,f,a,c)):(e=Qo(i.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Fs,i(g,a)&&e.ref===n.ref)return sr(e,n,c)}return n.flags|=1,e=Dr(f,a),e.ref=n.ref,e.return=n,n.child=e}function _d(e,n,i,a,c){if(e!==null){var f=e.memoizedProps;if(Fs(f,a)&&e.ref===n.ref)if(Qt=!1,n.pendingProps=a=f,(e.lanes&c)!==0)e.flags&131072&&(Qt=!0);else return n.lanes=e.lanes,sr(e,n,c)}return Cu(e,n,i,a,c)}function Md(e,n,i){var a=n.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Ri,tn),tn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ve(Ri,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,Ve(Ri,tn),tn|=a}else f!==null?(a=f.baseLanes|i,n.memoizedState=null):a=i,Ve(Ri,tn),tn|=a;return Pt(e,n,c,i),n.child}function Rd(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Cu(e,n,i,a,c){var f=Kt(i)?ei:Lt.current;return f=Ui(n,f),Bi(n,c),i=pc(e,n,i,a,f,c),a=xc(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,sr(e,n,c)):(Ke&&a&&rc(n),n.flags|=1,Pt(e,n,i,c),n.child)}function n0(e,n,i,a,c){if(Kt(i)){var f=!0;aa(n)}else f=!1;if(Bi(n,c),n.stateNode===null)Go(e,n),vd(n,i,a),wu(n,i,a,c),a=!0;else if(e===null){var g=n.stateNode,m=n.memoizedProps;g.props=m;var y=g.context,x=i.contextType;typeof x=="object"&&x!==null?x=Cn(x):(x=Kt(i)?ei:Lt.current,x=Ui(n,x));var I=i.getDerivedStateFromProps,S=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function";S||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==a||y!==x)&&K1(n,g,a,x),Cr=!1;var R=n.memoizedState;g.state=R,da(n,a,g,c),y=n.memoizedState,m!==a||R!==y||Zt.current||Cr?(typeof I=="function"&&(mu(n,i,I,a),y=n.memoizedState),(m=Cr||Z1(n,i,m,a,R,y,x))?(S||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=y),g.props=a,g.state=y,g.context=x,a=m):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{g=n.stateNode,id(e,n),m=n.memoizedProps,x=n.type===n.elementType?m:Tn(n.type,m),g.props=x,S=n.pendingProps,R=g.context,y=i.contextType,typeof y=="object"&&y!==null?y=Cn(y):(y=Kt(i)?ei:Lt.current,y=Ui(n,y));var b=i.getDerivedStateFromProps;(I=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==S||R!==y)&&K1(n,g,a,y),Cr=!1,R=n.memoizedState,g.state=R,da(n,a,g,c);var V=n.memoizedState;m!==S||R!==V||Zt.current||Cr?(typeof b=="function"&&(mu(n,i,b,a),V=n.memoizedState),(x=Cr||Z1(n,i,x,a,R,V,y)||!1)?(I||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,V,y),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,V,y)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=V),g.props=a,g.state=V,g.context=y,a=x):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),a=!1)}return Eu(e,n,i,a,f,c)}function Eu(e,n,i,a,c,f){Rd(e,n);var g=(n.flags&128)!==0;if(!a&&!g)return c&&z1(n,i,!1),sr(e,n,f);a=n.stateNode,lp.current=n;var m=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&g?(n.child=zi(n,e.child,null,f),n.child=zi(n,null,m,f)):Pt(e,n,m,f),n.memoizedState=a.state,c&&z1(n,i,!0),n.child}function Od(e){var n=e.stateNode;n.pendingContext?j1(e,n.pendingContext,n.pendingContext!==n.context):n.context&&j1(e,n.context,!1),fc(e,n.containerInfo)}function r0(e,n,i,a,c){return ji(),sc(c),n.flags|=256,Pt(e,n,i,a),n.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Su(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dd(e,n,i){var a=n.pendingProps,c=et.current,f=!1,g=(n.flags&128)!==0,m;if((m=g)||(m=e!==null&&e.memoizedState===null?!1:(c&2)!==0),m?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ve(et,c&1),e===null)return pu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(g=a.children,e=a.fallback,f?(a=n.mode,f=n.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=ka(g,a,0,null),e=$r(e,a,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Su(i),n.memoizedState=Au,e):yc(n,g));if(c=e.memoizedState,c!==null&&(m=c.dehydrated,m!==null))return up(e,n,g,a,m,c,i);if(f){f=a.fallback,g=n.mode,c=e.child,m=c.sibling;var y={mode:"hidden",children:a.children};return!(g&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=y,n.deletions=null):(a=Dr(c,y),a.subtreeFlags=c.subtreeFlags&14680064),m!==null?f=Dr(m,f):(f=$r(f,g,i,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,g=e.child.memoizedState,g=g===null?Su(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,n.memoizedState=Au,a}return f=e.child,e=f.sibling,a=Dr(f,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function yc(e,n){return n=ka({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Oo(e,n,i,a){return a!==null&&sc(a),zi(n,e.child,null,i),e=yc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function up(e,n,i,a,c,f,g){if(i)return n.flags&256?(n.flags&=-257,a=Dl(Error(J(422))),Oo(e,n,g,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=a.fallback,c=n.mode,a=ka({mode:"visible",children:a.children},c,0,null),f=$r(f,c,g,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,n.mode&1&&zi(n,e.child,null,g),n.child.memoizedState=Su(g),n.memoizedState=Au,f);if(!(n.mode&1))return Oo(e,n,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var m=a.dgst;return a=m,f=Error(J(419)),a=Dl(f,a,void 0),Oo(e,n,g,a)}if(m=(g&e.childLanes)!==0,Qt||m){if(a=Et,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|g)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,ir(e,c),On(a,e,c,-1))}return vc(),a=Dl(Error(J(421))),Oo(e,n,g,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=Ap.bind(null,e),c._reactRetry=n,null):(e=f.treeContext,rn=_r(c.nextSibling),sn=n,Ke=!0,Mn=null,e!==null&&(xn[mn++]=qn,xn[mn++]=Jn,xn[mn++]=ti,qn=e.id,Jn=e.overflow,ti=n),n=yc(n,a.children),n.flags|=4096,n)}function i0(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),xu(e.return,n,i)}function bl(e,n,i,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=c)}function bd(e,n,i){var a=n.pendingProps,c=a.revealOrder,f=a.tail;if(Pt(e,n,a.children,i),a=et.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&i0(e,i,n);else if(e.tag===19)i0(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ve(et,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&ha(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),bl(n,!1,c,i,f);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ha(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}bl(n,!0,i,null,f);break;case"together":bl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Go(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function sr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ri|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(J(153));if(n.child!==null){for(e=n.child,i=Dr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Dr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function cp(e,n,i){switch(n.tag){case 3:Od(n),ji();break;case 5:sd(n);break;case 1:Kt(n.type)&&aa(n);break;case 4:fc(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;Ve(ca,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Ve(et,et.current&1),n.flags|=128,null):i&n.child.childLanes?Dd(e,n,i):(Ve(et,et.current&1),e=sr(e,n,i),e!==null?e.sibling:null);Ve(et,et.current&1);break;case 19:if(a=(i&n.childLanes)!==0,e.flags&128){if(a)return bd(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ve(et,et.current),a)break;return null;case 22:case 23:return n.lanes=0,Md(e,n,i)}return sr(e,n,i)}var Ld,Iu,kd,Bd;Ld=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Iu=function(){};kd=function(e,n,i,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,qr(Gn.current);var f=null;switch(i){case"input":c=Yl(e,c),a=Yl(e,a),f=[];break;case"select":c=nt({},c,{value:void 0}),a=nt({},a,{value:void 0}),f=[];break;case"textarea":c=Zl(e,c),a=Zl(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=sa)}ql(i,a);var g;i=null;for(x in c)if(!a.hasOwnProperty(x)&&c.hasOwnProperty(x)&&c[x]!=null)if(x==="style"){var m=c[x];for(g in m)m.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Os.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in a){var y=a[x];if(m=c!=null?c[x]:void 0,a.hasOwnProperty(x)&&y!==m&&(y!=null||m!=null))if(x==="style")if(m){for(g in m)!m.hasOwnProperty(g)||y&&y.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in y)y.hasOwnProperty(g)&&m[g]!==y[g]&&(i||(i={}),i[g]=y[g])}else i||(f||(f=[]),f.push(x,i)),i=y;else x==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,m=m?m.__html:void 0,y!=null&&m!==y&&(f=f||[]).push(x,y)):x==="children"?typeof y!="string"&&typeof y!="number"||(f=f||[]).push(x,""+y):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Os.hasOwnProperty(x)?(y!=null&&x==="onScroll"&&Ge("scroll",e),f||m===y||(f=[])):(f=f||[]).push(x,y))}i&&(f=f||[]).push("style",i);var x=f;(n.updateQueue=x)&&(n.flags|=4)}};Bd=function(e,n,i,a){i!==a&&(n.flags|=4)};function ps(e,n){if(!Ke)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Dt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function fp(e,n,i){var a=n.pendingProps;switch(ic(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(n),null;case 1:return Kt(n.type)&&oa(),Dt(n),null;case 3:return a=n.stateNode,Hi(),Xe(Zt),Xe(Lt),hc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Mo(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mn!==null&&(Du(Mn),Mn=null))),Iu(e,n),Dt(n),null;case 5:dc(n);var c=qr(Vs.current);if(i=n.type,e!==null&&n.stateNode!=null)kd(e,n,i,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(J(166));return Dt(n),null}if(e=qr(Gn.current),Mo(n)){a=n.stateNode,i=n.type;var f=n.memoizedProps;switch(a[Vn]=n,a[zs]=f,e=(n.mode&1)!==0,i){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(c=0;c<Es.length;c++)Ge(Es[c],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":h1(a,f),Ge("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ge("invalid",a);break;case"textarea":p1(a,f),Ge("invalid",a)}ql(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var m=f[g];g==="children"?typeof m=="string"?a.textContent!==m&&(f.suppressHydrationWarning!==!0&&_o(a.textContent,m,e),c=["children",m]):typeof m=="number"&&a.textContent!==""+m&&(f.suppressHydrationWarning!==!0&&_o(a.textContent,m,e),c=["children",""+m]):Os.hasOwnProperty(g)&&m!=null&&g==="onScroll"&&Ge("scroll",a)}switch(i){case"input":Co(a),g1(a,f,!0);break;case"textarea":Co(a),x1(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=sa)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cf(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[Vn]=n,e[zs]=a,Ld(e,n,!1,!1),n.stateNode=e;e:{switch(g=Jl(i,a),i){case"dialog":Ge("cancel",e),Ge("close",e),c=a;break;case"iframe":case"object":case"embed":Ge("load",e),c=a;break;case"video":case"audio":for(c=0;c<Es.length;c++)Ge(Es[c],e);c=a;break;case"source":Ge("error",e),c=a;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),c=a;break;case"details":Ge("toggle",e),c=a;break;case"input":h1(e,a),c=Yl(e,a),Ge("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=nt({},a,{value:void 0}),Ge("invalid",e);break;case"textarea":p1(e,a),c=Zl(e,a),Ge("invalid",e);break;default:c=a}ql(i,c),m=c;for(f in m)if(m.hasOwnProperty(f)){var y=m[f];f==="style"?hf(e,y):f==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&ff(e,y)):f==="children"?typeof y=="string"?(i!=="textarea"||y!=="")&&Ds(e,y):typeof y=="number"&&Ds(e,""+y):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Os.hasOwnProperty(f)?y!=null&&f==="onScroll"&&Ge("scroll",e):y!=null&&Vu(e,f,y,g))}switch(i){case"input":Co(e),g1(e,a,!1);break;case"textarea":Co(e),x1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+br(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Di(e,!!a.multiple,f,!1):a.defaultValue!=null&&Di(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=sa)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Dt(n),null;case 6:if(e&&n.stateNode!=null)Bd(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(J(166));if(i=qr(Vs.current),qr(Gn.current),Mo(n)){if(a=n.stateNode,i=n.memoizedProps,a[Vn]=n,(f=a.nodeValue!==i)&&(e=sn,e!==null))switch(e.tag){case 3:_o(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_o(a.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Vn]=n,n.stateNode=a}return Dt(n),null;case 13:if(Xe(et),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&rn!==null&&n.mode&1&&!(n.flags&128))ed(),ji(),n.flags|=98560,f=!1;else if(f=Mo(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(J(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(J(317));f[Vn]=n}else ji(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Dt(n),f=!1}else Mn!==null&&(Du(Mn),Mn=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||et.current&1?xt===0&&(xt=3):vc())),n.updateQueue!==null&&(n.flags|=4),Dt(n),null);case 4:return Hi(),Iu(e,n),e===null&&Us(n.stateNode.containerInfo),Dt(n),null;case 10:return lc(n.type._context),Dt(n),null;case 17:return Kt(n.type)&&oa(),Dt(n),null;case 19:if(Xe(et),f=n.memoizedState,f===null)return Dt(n),null;if(a=(n.flags&128)!==0,g=f.rendering,g===null)if(a)ps(f,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(g=ha(e),g!==null){for(n.flags|=128,ps(f,!1),a=g.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ve(et,et.current&1|2),n.child}e=e.sibling}f.tail!==null&&ut()>Wi&&(n.flags|=128,a=!0,ps(f,!1),n.lanes=4194304)}else{if(!a)if(e=ha(g),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ps(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ke)return Dt(n),null}else 2*ut()-f.renderingStartTime>Wi&&i!==1073741824&&(n.flags|=128,a=!0,ps(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(i=f.last,i!==null?i.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=ut(),n.sibling=null,i=et.current,Ve(et,a?i&1|2:i&1),n):(Dt(n),null);case 22:case 23:return Ic(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?tn&1073741824&&(Dt(n),n.subtreeFlags&6&&(n.flags|=8192)):Dt(n),null;case 24:return null;case 25:return null}throw Error(J(156,n.tag))}function dp(e,n){switch(ic(n),n.tag){case 1:return Kt(n.type)&&oa(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hi(),Xe(Zt),Xe(Lt),hc(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return dc(n),null;case 13:if(Xe(et),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(J(340));ji()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Xe(et),null;case 4:return Hi(),null;case 10:return lc(n.type._context),null;case 22:case 23:return Ic(),null;case 24:return null;default:return null}}var Do=!1,bt=!1,hp=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Mi(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){at(e,n,a)}else i.current=null}function vu(e,n,i){try{i()}catch(a){at(e,n,a)}}var s0=!1;function gp(e,n){if(lu=na,e=zf(),nc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,m=-1,y=-1,x=0,I=0,S=e,R=null;t:for(;;){for(var b;S!==i||c!==0&&S.nodeType!==3||(m=g+c),S!==f||a!==0&&S.nodeType!==3||(y=g+a),S.nodeType===3&&(g+=S.nodeValue.length),(b=S.firstChild)!==null;)R=S,S=b;for(;;){if(S===e)break t;if(R===i&&++x===c&&(m=g),R===f&&++I===a&&(y=g),(b=S.nextSibling)!==null)break;S=R,R=S.parentNode}S=b}i=m===-1||y===-1?null:{start:m,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(uu={focusedElem:e,selectionRange:i},na=!1,oe=n;oe!==null;)if(n=oe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,oe=e;else for(;oe!==null;){n=oe;try{var V=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var L=V.memoizedProps,X=V.memoizedState,M=n.stateNode,N=M.getSnapshotBeforeUpdate(n.elementType===n.type?L:Tn(n.type,L),X);M.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var _=n.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(j){at(n,n.return,j)}if(e=n.sibling,e!==null){e.return=n.return,oe=e;break}oe=n.return}return V=s0,s0=!1,V}function _s(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&vu(n,i,f)}c=c.next}while(c!==a)}}function ba(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Tu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Pd(e){var n=e.alternate;n!==null&&(e.alternate=null,Pd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Vn],delete n[zs],delete n[du],delete n[K2],delete n[q2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fd(e){return e.tag===5||e.tag===3||e.tag===4}function o0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nu(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=sa));else if(a!==4&&(e=e.child,e!==null))for(Nu(e,n,i),e=e.sibling;e!==null;)Nu(e,n,i),e=e.sibling}function _u(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(_u(e,n,i),e=e.sibling;e!==null;)_u(e,n,i),e=e.sibling}var Tt=null,Nn=!1;function mr(e,n,i){for(i=i.child;i!==null;)Ud(e,n,i),i=i.sibling}function Ud(e,n,i){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(va,i)}catch{}switch(i.tag){case 5:bt||Mi(i,n);case 6:var a=Tt,c=Nn;Tt=null,mr(e,n,i),Tt=a,Nn=c,Tt!==null&&(Nn?(e=Tt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Tt.removeChild(i.stateNode));break;case 18:Tt!==null&&(Nn?(e=Tt,i=i.stateNode,e.nodeType===8?Tl(e.parentNode,i):e.nodeType===1&&Tl(e,i),Bs(e)):Tl(Tt,i.stateNode));break;case 4:a=Tt,c=Nn,Tt=i.stateNode.containerInfo,Nn=!0,mr(e,n,i),Tt=a,Nn=c;break;case 0:case 11:case 14:case 15:if(!bt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&vu(i,n,g),c=c.next}while(c!==a)}mr(e,n,i);break;case 1:if(!bt&&(Mi(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(m){at(i,n,m)}mr(e,n,i);break;case 21:mr(e,n,i);break;case 22:i.mode&1?(bt=(a=bt)||i.memoizedState!==null,mr(e,n,i),bt=a):mr(e,n,i);break;default:mr(e,n,i)}}function a0(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new hp),n.forEach(function(a){var c=Sp.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function vn(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var f=e,g=n,m=g;e:for(;m!==null;){switch(m.tag){case 5:Tt=m.stateNode,Nn=!1;break e;case 3:Tt=m.stateNode.containerInfo,Nn=!0;break e;case 4:Tt=m.stateNode.containerInfo,Nn=!0;break e}m=m.return}if(Tt===null)throw Error(J(160));Ud(f,g,c),Tt=null,Nn=!1;var y=c.alternate;y!==null&&(y.return=null),c.return=null}catch(x){at(c,n,x)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)jd(n,e),n=n.sibling}function jd(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vn(n,e),jn(e),a&4){try{_s(3,e,e.return),ba(3,e)}catch(L){at(e,e.return,L)}try{_s(5,e,e.return)}catch(L){at(e,e.return,L)}}break;case 1:vn(n,e),jn(e),a&512&&i!==null&&Mi(i,i.return);break;case 5:if(vn(n,e),jn(e),a&512&&i!==null&&Mi(i,i.return),e.flags&32){var c=e.stateNode;try{Ds(c,"")}catch(L){at(e,e.return,L)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,m=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{m==="input"&&f.type==="radio"&&f.name!=null&&lf(c,f),Jl(m,g);var x=Jl(m,f);for(g=0;g<y.length;g+=2){var I=y[g],S=y[g+1];I==="style"?hf(c,S):I==="dangerouslySetInnerHTML"?ff(c,S):I==="children"?Ds(c,S):Vu(c,I,S,x)}switch(m){case"input":Xl(c,f);break;case"textarea":uf(c,f);break;case"select":var R=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var b=f.value;b!=null?Di(c,!!f.multiple,b,!1):R!==!!f.multiple&&(f.defaultValue!=null?Di(c,!!f.multiple,f.defaultValue,!0):Di(c,!!f.multiple,f.multiple?[]:"",!1))}c[zs]=f}catch(L){at(e,e.return,L)}}break;case 6:if(vn(n,e),jn(e),a&4){if(e.stateNode===null)throw Error(J(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(L){at(e,e.return,L)}}break;case 3:if(vn(n,e),jn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Bs(n.containerInfo)}catch(L){at(e,e.return,L)}break;case 4:vn(n,e),jn(e);break;case 13:vn(n,e),jn(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Ac=ut())),a&4&&a0(e);break;case 22:if(I=i!==null&&i.memoizedState!==null,e.mode&1?(bt=(x=bt)||I,vn(n,e),bt=x):vn(n,e),jn(e),a&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!I&&e.mode&1)for(oe=e,I=e.child;I!==null;){for(S=oe=I;oe!==null;){switch(R=oe,b=R.child,R.tag){case 0:case 11:case 14:case 15:_s(4,R,R.return);break;case 1:Mi(R,R.return);var V=R.stateNode;if(typeof V.componentWillUnmount=="function"){a=R,i=R.return;try{n=a,V.props=n.memoizedProps,V.state=n.memoizedState,V.componentWillUnmount()}catch(L){at(a,i,L)}}break;case 5:Mi(R,R.return);break;case 22:if(R.memoizedState!==null){u0(S);continue}}b!==null?(b.return=R,oe=b):u0(S)}I=I.sibling}e:for(I=null,S=e;;){if(S.tag===5){if(I===null){I=S;try{c=S.stateNode,x?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(m=S.stateNode,y=S.memoizedProps.style,g=y!=null&&y.hasOwnProperty("display")?y.display:null,m.style.display=df("display",g))}catch(L){at(e,e.return,L)}}}else if(S.tag===6){if(I===null)try{S.stateNode.nodeValue=x?"":S.memoizedProps}catch(L){at(e,e.return,L)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;I===S&&(I=null),S=S.return}I===S&&(I=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:vn(n,e),jn(e),a&4&&a0(e);break;case 21:break;default:vn(n,e),jn(e)}}function jn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Fd(i)){var a=i;break e}i=i.return}throw Error(J(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Ds(c,""),a.flags&=-33);var f=o0(e);_u(e,f,c);break;case 3:case 4:var g=a.stateNode.containerInfo,m=o0(e);Nu(e,m,g);break;default:throw Error(J(161))}}catch(y){at(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function pp(e,n,i){oe=e,zd(e)}function zd(e,n,i){for(var a=(e.mode&1)!==0;oe!==null;){var c=oe,f=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Do;if(!g){var m=c.alternate,y=m!==null&&m.memoizedState!==null||bt;m=Do;var x=bt;if(Do=g,(bt=y)&&!x)for(oe=c;oe!==null;)g=oe,y=g.child,g.tag===22&&g.memoizedState!==null?c0(c):y!==null?(y.return=g,oe=y):c0(c);for(;f!==null;)oe=f,zd(f),f=f.sibling;oe=c,Do=m,bt=x}l0(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,oe=f):l0(e)}}function l0(e){for(;oe!==null;){var n=oe;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:bt||ba(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!bt)if(i===null)a.componentDidMount();else{var c=n.elementType===n.type?i.memoizedProps:Tn(n.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Y1(n,f,a);break;case 3:var g=n.updateQueue;if(g!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Y1(n,g,i)}break;case 5:var m=n.stateNode;if(i===null&&n.flags&4){i=m;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&i.focus();break;case"img":y.src&&(i.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var x=n.alternate;if(x!==null){var I=x.memoizedState;if(I!==null){var S=I.dehydrated;S!==null&&Bs(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}bt||n.flags&512&&Tu(n)}catch(R){at(n,n.return,R)}}if(n===e){oe=null;break}if(i=n.sibling,i!==null){i.return=n.return,oe=i;break}oe=n.return}}function u0(e){for(;oe!==null;){var n=oe;if(n===e){oe=null;break}var i=n.sibling;if(i!==null){i.return=n.return,oe=i;break}oe=n.return}}function c0(e){for(;oe!==null;){var n=oe;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{ba(4,n)}catch(y){at(n,i,y)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(y){at(n,c,y)}}var f=n.return;try{Tu(n)}catch(y){at(n,f,y)}break;case 5:var g=n.return;try{Tu(n)}catch(y){at(n,g,y)}}}catch(y){at(n,n.return,y)}if(n===e){oe=null;break}var m=n.sibling;if(m!==null){m.return=n.return,oe=m;break}oe=n.return}}var xp=Math.ceil,xa=ar.ReactCurrentDispatcher,Cc=ar.ReactCurrentOwner,yn=ar.ReactCurrentBatchConfig,_e=0,Et=null,ft=null,Nt=0,tn=0,Ri=Pr(0),xt=0,Xs=null,ri=0,La=0,Ec=0,Ms=null,Xt=null,Ac=0,Wi=1/0,Zn=null,ma=!1,Mu=null,Rr=null,bo=!1,Ir=null,wa=0,Rs=0,Ru=null,Yo=-1,Xo=0;function Ft(){return _e&6?ut():Yo!==-1?Yo:Yo=ut()}function Or(e){return e.mode&1?_e&2&&Nt!==0?Nt&-Nt:$2.transition!==null?(Xo===0&&(Xo=vf()),Xo):(e=Le,e!==0||(e=window.event,e=e===void 0?16:Df(e.type)),e):1}function On(e,n,i,a){if(50<Rs)throw Rs=0,Ru=null,Error(J(185));qs(e,i,a),(!(_e&2)||e!==Et)&&(e===Et&&(!(_e&2)&&(La|=i),xt===4&&Ar(e,Nt)),qt(e,a),i===1&&_e===0&&!(n.mode&1)&&(Wi=ut()+500,Ra&&Fr()))}function qt(e,n){var i=e.callbackNode;$g(e,n);var a=ta(e,e===Et?Nt:0);if(a===0)i!==null&&y1(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&y1(i),n===1)e.tag===0?J2(f0.bind(null,e)):qf(f0.bind(null,e)),Q2(function(){!(_e&6)&&Fr()}),i=null;else{switch(Tf(a)){case 1:i=Qu;break;case 4:i=Sf;break;case 16:i=ea;break;case 536870912:i=If;break;default:i=ea}i=Zd(i,Hd.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Hd(e,n){if(Yo=-1,Xo=0,_e&6)throw Error(J(327));var i=e.callbackNode;if(Pi()&&e.callbackNode!==i)return null;var a=ta(e,e===Et?Nt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=ya(e,a);else{n=a;var c=_e;_e|=2;var f=Wd();(Et!==e||Nt!==n)&&(Zn=null,Wi=ut()+500,Jr(e,n));do try{yp();break}catch(m){Vd(e,m)}while(!0);ac(),xa.current=f,_e=c,ft!==null?n=0:(Et=null,Nt=0,n=xt)}if(n!==0){if(n===2&&(c=ru(e),c!==0&&(a=c,n=Ou(e,c))),n===1)throw i=Xs,Jr(e,0),Ar(e,a),qt(e,ut()),i;if(n===6)Ar(e,a);else{if(c=e.current.alternate,!(a&30)&&!mp(c)&&(n=ya(e,a),n===2&&(f=ru(e),f!==0&&(a=f,n=Ou(e,f))),n===1))throw i=Xs,Jr(e,0),Ar(e,a),qt(e,ut()),i;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(J(345));case 2:Xr(e,Xt,Zn);break;case 3:if(Ar(e,a),(a&130023424)===a&&(n=Ac+500-ut(),10<n)){if(ta(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){Ft(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=fu(Xr.bind(null,e,Xt,Zn),n);break}Xr(e,Xt,Zn);break;case 4:if(Ar(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var g=31-Rn(a);f=1<<g,g=n[g],g>c&&(c=g),a&=~f}if(a=c,a=ut()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*xp(a/1960))-a,10<a){e.timeoutHandle=fu(Xr.bind(null,e,Xt,Zn),a);break}Xr(e,Xt,Zn);break;case 5:Xr(e,Xt,Zn);break;default:throw Error(J(329))}}}return qt(e,ut()),e.callbackNode===i?Hd.bind(null,e):null}function Ou(e,n){var i=Ms;return e.current.memoizedState.isDehydrated&&(Jr(e,n).flags|=256),e=ya(e,n),e!==2&&(n=Xt,Xt=i,n!==null&&Du(n)),e}function Du(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function mp(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],f=c.getSnapshot;c=c.value;try{if(!Dn(f(),c))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ar(e,n){for(n&=~Ec,n&=~La,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Rn(n),a=1<<i;e[i]=-1,n&=~a}}function f0(e){if(_e&6)throw Error(J(327));Pi();var n=ta(e,0);if(!(n&1))return qt(e,ut()),null;var i=ya(e,n);if(e.tag!==0&&i===2){var a=ru(e);a!==0&&(n=a,i=Ou(e,a))}if(i===1)throw i=Xs,Jr(e,0),Ar(e,n),qt(e,ut()),i;if(i===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Xr(e,Xt,Zn),qt(e,ut()),null}function Sc(e,n){var i=_e;_e|=1;try{return e(n)}finally{_e=i,_e===0&&(Wi=ut()+500,Ra&&Fr())}}function ii(e){Ir!==null&&Ir.tag===0&&!(_e&6)&&Pi();var n=_e;_e|=1;var i=yn.transition,a=Le;try{if(yn.transition=null,Le=1,e)return e()}finally{Le=a,yn.transition=i,_e=n,!(_e&6)&&Fr()}}function Ic(){tn=Ri.current,Xe(Ri)}function Jr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,X2(i)),ft!==null)for(i=ft.return;i!==null;){var a=i;switch(ic(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&oa();break;case 3:Hi(),Xe(Zt),Xe(Lt),hc();break;case 5:dc(a);break;case 4:Hi();break;case 13:Xe(et);break;case 19:Xe(et);break;case 10:lc(a.type._context);break;case 22:case 23:Ic()}i=i.return}if(Et=e,ft=e=Dr(e.current,null),Nt=tn=n,xt=0,Xs=null,Ec=La=ri=0,Xt=Ms=null,Kr!==null){for(n=0;n<Kr.length;n++)if(i=Kr[n],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,a.next=g}i.pending=a}Kr=null}return e}function Vd(e,n){do{var i=ft;try{if(ac(),Vo.current=pa,ga){for(var a=tt.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}ga=!1}if(ni=0,Ct=pt=tt=null,Ns=!1,Ws=0,Cc.current=null,i===null||i.return===null){xt=1,Xs=n,ft=null;break}e:{var f=e,g=i.return,m=i,y=n;if(n=Nt,m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var x=y,I=m,S=I.tag;if(!(I.mode&1)&&(S===0||S===11||S===15)){var R=I.alternate;R?(I.updateQueue=R.updateQueue,I.memoizedState=R.memoizedState,I.lanes=R.lanes):(I.updateQueue=null,I.memoizedState=null)}var b=J1(g);if(b!==null){b.flags&=-257,$1(b,g,m,f,n),b.mode&1&&q1(f,x,n),n=b,y=x;var V=n.updateQueue;if(V===null){var L=new Set;L.add(y),n.updateQueue=L}else V.add(y);break e}else{if(!(n&1)){q1(f,x,n),vc();break e}y=Error(J(426))}}else if(Ke&&m.mode&1){var X=J1(g);if(X!==null){!(X.flags&65536)&&(X.flags|=256),$1(X,g,m,f,n),sc(Vi(y,m));break e}}f=y=Vi(y,m),xt!==4&&(xt=2),Ms===null?Ms=[f]:Ms.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var M=Td(f,y,n);G1(f,M);break e;case 1:m=y;var N=f.type,_=f.stateNode;if(!(f.flags&128)&&(typeof N.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Rr===null||!Rr.has(_)))){f.flags|=65536,n&=-n,f.lanes|=n;var j=Nd(f,m,n);G1(f,j);break e}}f=f.return}while(f!==null)}Yd(i)}catch(q){n=q,ft===i&&i!==null&&(ft=i=i.return);continue}break}while(!0)}function Wd(){var e=xa.current;return xa.current=pa,e===null?pa:e}function vc(){(xt===0||xt===3||xt===2)&&(xt=4),Et===null||!(ri&268435455)&&!(La&268435455)||Ar(Et,Nt)}function ya(e,n){var i=_e;_e|=2;var a=Wd();(Et!==e||Nt!==n)&&(Zn=null,Jr(e,n));do try{wp();break}catch(c){Vd(e,c)}while(!0);if(ac(),_e=i,xa.current=a,ft!==null)throw Error(J(261));return Et=null,Nt=0,xt}function wp(){for(;ft!==null;)Gd(ft)}function yp(){for(;ft!==null&&!Wg();)Gd(ft)}function Gd(e){var n=Qd(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?Yd(e):ft=n,Cc.current=null}function Yd(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=dp(i,n),i!==null){i.flags&=32767,ft=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ft=null;return}}else if(i=fp(i,n,tn),i!==null){ft=i;return}if(n=n.sibling,n!==null){ft=n;return}ft=n=e}while(n!==null);xt===0&&(xt=5)}function Xr(e,n,i){var a=Le,c=yn.transition;try{yn.transition=null,Le=1,Cp(e,n,i,a)}finally{yn.transition=c,Le=a}return null}function Cp(e,n,i,a){do Pi();while(Ir!==null);if(_e&6)throw Error(J(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(e2(e,f),e===Et&&(ft=Et=null,Nt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||bo||(bo=!0,Zd(ea,function(){return Pi(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=yn.transition,yn.transition=null;var g=Le;Le=1;var m=_e;_e|=4,Cc.current=null,gp(e,i),jd(i,e),j2(uu),na=!!lu,uu=lu=null,e.current=i,pp(i),Gg(),_e=m,Le=g,yn.transition=f}else e.current=i;if(bo&&(bo=!1,Ir=e,wa=c),f=e.pendingLanes,f===0&&(Rr=null),Qg(i.stateNode),qt(e,ut()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)c=n[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(ma)throw ma=!1,e=Mu,Mu=null,e;return wa&1&&e.tag!==0&&Pi(),f=e.pendingLanes,f&1?e===Ru?Rs++:(Rs=0,Ru=e):Rs=0,Fr(),null}function Pi(){if(Ir!==null){var e=Tf(wa),n=yn.transition,i=Le;try{if(yn.transition=null,Le=16>e?16:e,Ir===null)var a=!1;else{if(e=Ir,Ir=null,wa=0,_e&6)throw Error(J(331));var c=_e;for(_e|=4,oe=e.current;oe!==null;){var f=oe,g=f.child;if(oe.flags&16){var m=f.deletions;if(m!==null){for(var y=0;y<m.length;y++){var x=m[y];for(oe=x;oe!==null;){var I=oe;switch(I.tag){case 0:case 11:case 15:_s(8,I,f)}var S=I.child;if(S!==null)S.return=I,oe=S;else for(;oe!==null;){I=oe;var R=I.sibling,b=I.return;if(Pd(I),I===x){oe=null;break}if(R!==null){R.return=b,oe=R;break}oe=b}}}var V=f.alternate;if(V!==null){var L=V.child;if(L!==null){V.child=null;do{var X=L.sibling;L.sibling=null,L=X}while(L!==null)}}oe=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,oe=g;else e:for(;oe!==null;){if(f=oe,f.flags&2048)switch(f.tag){case 0:case 11:case 15:_s(9,f,f.return)}var M=f.sibling;if(M!==null){M.return=f.return,oe=M;break e}oe=f.return}}var N=e.current;for(oe=N;oe!==null;){g=oe;var _=g.child;if(g.subtreeFlags&2064&&_!==null)_.return=g,oe=_;else e:for(g=N;oe!==null;){if(m=oe,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:ba(9,m)}}catch(q){at(m,m.return,q)}if(m===g){oe=null;break e}var j=m.sibling;if(j!==null){j.return=m.return,oe=j;break e}oe=m.return}}if(_e=c,Fr(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(va,e)}catch{}a=!0}return a}finally{Le=i,yn.transition=n}}return!1}function d0(e,n,i){n=Vi(i,n),n=Td(e,n,1),e=Mr(e,n,1),n=Ft(),e!==null&&(qs(e,1,n),qt(e,n))}function at(e,n,i){if(e.tag===3)d0(e,e,i);else for(;n!==null;){if(n.tag===3){d0(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Rr===null||!Rr.has(a))){e=Vi(i,e),e=Nd(n,e,1),n=Mr(n,e,1),e=Ft(),n!==null&&(qs(n,1,e),qt(n,e));break}}n=n.return}}function Ep(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=Ft(),e.pingedLanes|=e.suspendedLanes&i,Et===e&&(Nt&i)===i&&(xt===4||xt===3&&(Nt&130023424)===Nt&&500>ut()-Ac?Jr(e,0):Ec|=i),qt(e,n)}function Xd(e,n){n===0&&(e.mode&1?(n=So,So<<=1,!(So&130023424)&&(So=4194304)):n=1);var i=Ft();e=ir(e,n),e!==null&&(qs(e,n,i),qt(e,i))}function Ap(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Xd(e,i)}function Sp(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(J(314))}a!==null&&a.delete(n),Xd(e,i)}var Qd;Qd=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Zt.current)Qt=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return Qt=!1,cp(e,n,i);Qt=!!(e.flags&131072)}else Qt=!1,Ke&&n.flags&1048576&&Jf(n,ua,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Go(e,n),e=n.pendingProps;var c=Ui(n,Lt.current);Bi(n,i),c=pc(null,n,a,e,c,i);var f=xc();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Kt(a)?(f=!0,aa(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,cc(n),c.updater=Da,n.stateNode=c,c._reactInternals=n,wu(n,a,e,i),n=Eu(null,n,a,!0,f,i)):(n.tag=0,Ke&&f&&rc(n),Pt(null,n,c,i),n=n.child),n;case 16:a=n.elementType;e:{switch(Go(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=vp(a),e=Tn(a,e),c){case 0:n=Cu(null,n,a,e,i);break e;case 1:n=n0(null,n,a,e,i);break e;case 11:n=e0(null,n,a,e,i);break e;case 14:n=t0(null,n,a,Tn(a.type,e),i);break e}throw Error(J(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Tn(a,c),Cu(e,n,a,c,i);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Tn(a,c),n0(e,n,a,c,i);case 3:e:{if(Od(n),e===null)throw Error(J(387));a=n.pendingProps,f=n.memoizedState,c=f.element,id(e,n),da(n,a,null,i);var g=n.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=Vi(Error(J(423)),n),n=r0(e,n,a,i,c);break e}else if(a!==c){c=Vi(Error(J(424)),n),n=r0(e,n,a,i,c);break e}else for(rn=_r(n.stateNode.containerInfo.firstChild),sn=n,Ke=!0,Mn=null,i=nd(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ji(),a===c){n=sr(e,n,i);break e}Pt(e,n,a,i)}n=n.child}return n;case 5:return sd(n),e===null&&pu(n),a=n.type,c=n.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,cu(a,c)?g=null:f!==null&&cu(a,f)&&(n.flags|=32),Rd(e,n),Pt(e,n,g,i),n.child;case 6:return e===null&&pu(n),null;case 13:return Dd(e,n,i);case 4:return fc(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=zi(n,null,a,i):Pt(e,n,a,i),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Tn(a,c),e0(e,n,a,c,i);case 7:return Pt(e,n,n.pendingProps,i),n.child;case 8:return Pt(e,n,n.pendingProps.children,i),n.child;case 12:return Pt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,f=n.memoizedProps,g=c.value,Ve(ca,a._currentValue),a._currentValue=g,f!==null)if(Dn(f.value,g)){if(f.children===c.children&&!Zt.current){n=sr(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){g=f.child;for(var y=m.firstContext;y!==null;){if(y.context===a){if(f.tag===1){y=er(-1,i&-i),y.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var I=x.pending;I===null?y.next=y:(y.next=I.next,I.next=y),x.pending=y}}f.lanes|=i,y=f.alternate,y!==null&&(y.lanes|=i),xu(f.return,i,n),m.lanes|=i;break}y=y.next}}else if(f.tag===10)g=f.type===n.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(J(341));g.lanes|=i,m=g.alternate,m!==null&&(m.lanes|=i),xu(g,i,n),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===n){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Pt(e,n,c.children,i),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,Bi(n,i),c=Cn(c),a=a(c),n.flags|=1,Pt(e,n,a,i),n.child;case 14:return a=n.type,c=Tn(a,n.pendingProps),c=Tn(a.type,c),t0(e,n,a,c,i);case 15:return _d(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Tn(a,c),Go(e,n),n.tag=1,Kt(a)?(e=!0,aa(n)):e=!1,Bi(n,i),vd(n,a,c),wu(n,a,c,i),Eu(null,n,a,!0,e,i);case 19:return bd(e,n,i);case 22:return Md(e,n,i)}throw Error(J(156,n.tag))};function Zd(e,n){return Af(e,n)}function Ip(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,i,a){return new Ip(e,n,i,a)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vp(e){if(typeof e=="function")return Tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gu)return 11;if(e===Yu)return 14}return 2}function Dr(e,n){var i=e.alternate;return i===null?(i=wn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Qo(e,n,i,a,c,f){var g=2;if(a=e,typeof e=="function")Tc(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Ci:return $r(i.children,c,f,n);case Wu:g=8,c|=8;break;case Hl:return e=wn(12,i,n,c|2),e.elementType=Hl,e.lanes=f,e;case Vl:return e=wn(13,i,n,c),e.elementType=Vl,e.lanes=f,e;case Wl:return e=wn(19,i,n,c),e.elementType=Wl,e.lanes=f,e;case sf:return ka(i,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nf:g=10;break e;case rf:g=9;break e;case Gu:g=11;break e;case Yu:g=14;break e;case yr:g=16,a=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return n=wn(g,i,n,c),n.elementType=e,n.type=a,n.lanes=f,n}function $r(e,n,i,a){return e=wn(7,e,a,n),e.lanes=i,e}function ka(e,n,i,a){return e=wn(22,e,a,n),e.elementType=sf,e.lanes=i,e.stateNode={isHidden:!1},e}function Ll(e,n,i){return e=wn(6,e,null,n),e.lanes=i,e}function kl(e,n,i){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Tp(e,n,i,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Nc(e,n,i,a,c,f,g,m,y){return e=new Tp(e,n,i,m,y),n===1?(n=1,f===!0&&(n|=8)):n=0,f=wn(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(f),e}function Np(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yi,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function Kd(e){if(!e)return Lr;e=e._reactInternals;e:{if(oi(e)!==e||e.tag!==1)throw Error(J(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Kt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(J(171))}if(e.tag===1){var i=e.type;if(Kt(i))return Kf(e,i,n)}return n}function qd(e,n,i,a,c,f,g,m,y){return e=Nc(i,a,!0,e,c,f,g,m,y),e.context=Kd(null),i=e.current,a=Ft(),c=Or(i),f=er(a,c),f.callback=n??null,Mr(i,f,c),e.current.lanes=c,qs(e,c,a),qt(e,a),e}function Ba(e,n,i,a){var c=n.current,f=Ft(),g=Or(c);return i=Kd(i),n.context===null?n.context=i:n.pendingContext=i,n=er(f,g),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Mr(c,n,g),e!==null&&(On(e,c,g,f),Ho(e,c,g)),g}function Ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function h0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function _c(e,n){h0(e,n),(e=e.alternate)&&h0(e,n)}function _p(){return null}var Jd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mc(e){this._internalRoot=e}Pa.prototype.render=Mc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(J(409));Ba(e,n,null,null)};Pa.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ii(function(){Ba(null,e,null,null)}),n[rr]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var n=Mf();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Er.length&&n!==0&&n<Er[i].priority;i++);Er.splice(i,0,e),i===0&&Of(e)}};function Rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function g0(){}function Mp(e,n,i,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var x=Ca(g);f.call(x)}}var g=qd(n,a,e,0,null,!1,!1,"",g0);return e._reactRootContainer=g,e[rr]=g.current,Us(e.nodeType===8?e.parentNode:e),ii(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var m=a;a=function(){var x=Ca(y);m.call(x)}}var y=Nc(e,0,!1,null,null,!1,!1,"",g0);return e._reactRootContainer=y,e[rr]=y.current,Us(e.nodeType===8?e.parentNode:e),ii(function(){Ba(n,y,i,a)}),y}function Ua(e,n,i,a,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var m=c;c=function(){var y=Ca(g);m.call(y)}}Ba(n,g,e,c)}else g=Mp(i,n,e,c,a);return Ca(g)}Nf=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Cs(n.pendingLanes);i!==0&&(Zu(n,i|1),qt(n,ut()),!(_e&6)&&(Wi=ut()+500,Fr()))}break;case 13:ii(function(){var a=ir(e,1);if(a!==null){var c=Ft();On(a,e,1,c)}}),_c(e,1)}};Ku=function(e){if(e.tag===13){var n=ir(e,134217728);if(n!==null){var i=Ft();On(n,e,134217728,i)}_c(e,134217728)}};_f=function(e){if(e.tag===13){var n=Or(e),i=ir(e,n);if(i!==null){var a=Ft();On(i,e,n,a)}_c(e,n)}};Mf=function(){return Le};Rf=function(e,n){var i=Le;try{return Le=e,n()}finally{Le=i}};eu=function(e,n,i){switch(n){case"input":if(Xl(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var c=Ma(a);if(!c)throw Error(J(90));af(a),Xl(a,c)}}}break;case"textarea":uf(e,i);break;case"select":n=i.value,n!=null&&Di(e,!!i.multiple,n,!1)}};xf=Sc;mf=ii;var Rp={usingClientEntryPoint:!1,Events:[$s,Ii,Ma,gf,pf,Sc]},xs={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Op={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cf(e),e===null?null:e.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||_p,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{va=Lo.inject(Op),Wn=Lo}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rp;ln.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rc(n))throw Error(J(200));return Np(e,n,null,i)};ln.createRoot=function(e,n){if(!Rc(e))throw Error(J(299));var i=!1,a="",c=Jd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=Nc(e,1,!1,null,null,i,!1,a,c),e[rr]=n.current,Us(e.nodeType===8?e.parentNode:e),new Mc(n)};ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=Cf(n),e=e===null?null:e.stateNode,e};ln.flushSync=function(e){return ii(e)};ln.hydrate=function(e,n,i){if(!Fa(n))throw Error(J(200));return Ua(null,e,n,!0,i)};ln.hydrateRoot=function(e,n,i){if(!Rc(e))throw Error(J(405));var a=i!=null&&i.hydratedSources||null,c=!1,f="",g=Jd;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),n=qd(n,null,e,1,i??null,c,!1,f,g),e[rr]=n.current,Us(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,c]:n.mutableSourceEagerHydrationData.push(i,c);return new Pa(n)};ln.render=function(e,n,i){if(!Fa(n))throw Error(J(200));return Ua(null,e,n,!1,i)};ln.unmountComponentAtNode=function(e){if(!Fa(e))throw Error(J(40));return e._reactRootContainer?(ii(function(){Ua(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1};ln.unstable_batchedUpdates=Sc;ln.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!Fa(i))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Ua(e,n,i,!1,a)};ln.version="18.3.1-next-f1338f8080-20240426";function $d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($d)}catch(e){console.error(e)}}$d(),J0.exports=ln;var Dp=J0.exports,p0=Dp;jl.createRoot=p0.createRoot,jl.hydrateRoot=p0.hydrateRoot;/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var x0="popstate";function bp(e={}){function n(c,f){let{pathname:g="/",search:m="",hash:y=""}=ai(c.location.hash.substring(1));return!g.startsWith("/")&&!g.startsWith(".")&&(g="/"+g),bu("",{pathname:g,search:m,hash:y},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function i(c,f){let g=c.document.querySelector("base"),m="";if(g&&g.getAttribute("href")){let y=c.location.href,x=y.indexOf("#");m=x===-1?y:y.slice(0,x)}return m+"#"+(typeof f=="string"?f:Qs(f))}function a(c,f){an(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return kp(n,i,a,e)}function qe(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function an(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Lp(){return Math.random().toString(36).substring(2,10)}function m0(e,n){return{usr:e.state,key:e.key,idx:n}}function bu(e,n,i=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?ai(n):n,state:i,key:n&&n.key||a||Lp()}}function Qs({pathname:e="/",search:n="",hash:i=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ai(e){let n={};if(e){let i=e.indexOf("#");i>=0&&(n.hash=e.substring(i),e=e.substring(0,i));let a=e.indexOf("?");a>=0&&(n.search=e.substring(a),e=e.substring(0,a)),e&&(n.pathname=e)}return n}function kp(e,n,i,a={}){let{window:c=document.defaultView,v5Compat:f=!1}=a,g=c.history,m="POP",y=null,x=I();x==null&&(x=0,g.replaceState({...g.state,idx:x},""));function I(){return(g.state||{idx:null}).idx}function S(){m="POP";let X=I(),M=X==null?null:X-x;x=X,y&&y({action:m,location:L.location,delta:M})}function R(X,M){m="PUSH";let N=bu(L.location,X,M);i&&i(N,X),x=I()+1;let _=m0(N,x),j=L.createHref(N);try{g.pushState(_,"",j)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;c.location.assign(j)}f&&y&&y({action:m,location:L.location,delta:1})}function b(X,M){m="REPLACE";let N=bu(L.location,X,M);i&&i(N,X),x=I();let _=m0(N,x),j=L.createHref(N);g.replaceState(_,"",j),f&&y&&y({action:m,location:L.location,delta:0})}function V(X){return Bp(X)}let L={get action(){return m},get location(){return e(c,g)},listen(X){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(x0,S),y=X,()=>{c.removeEventListener(x0,S),y=null}},createHref(X){return n(c,X)},createURL:V,encodeLocation(X){let M=V(X);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:R,replace:b,go(X){return g.go(X)}};return L}function Bp(e,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),qe(i,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Qs(e);return a=a.replace(/ $/,"%20"),!n&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function eh(e,n,i="/"){return Pp(e,n,i,!1)}function Pp(e,n,i,a){let c=typeof n=="string"?ai(n):n,f=or(c.pathname||"/",i);if(f==null)return null;let g=th(e);Fp(g);let m=null;for(let y=0;m==null&&y<g.length;++y){let x=Zp(f);m=Xp(g[y],x,a)}return m}function th(e,n=[],i=[],a="",c=!1){let f=(g,m,y=c,x)=>{let I={relativePath:x===void 0?g.path||"":x,caseSensitive:g.caseSensitive===!0,childrenIndex:m,route:g};if(I.relativePath.startsWith("/")){if(!I.relativePath.startsWith(a)&&y)return;qe(I.relativePath.startsWith(a),`Absolute route path "${I.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),I.relativePath=I.relativePath.slice(a.length)}let S=tr([a,I.relativePath]),R=i.concat(I);g.children&&g.children.length>0&&(qe(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),th(g.children,n,R,S,y)),!(g.path==null&&!g.index)&&n.push({path:S,score:Gp(S,g.index),routesMeta:R})};return e.forEach((g,m)=>{var y;if(g.path===""||!((y=g.path)!=null&&y.includes("?")))f(g,m);else for(let x of nh(g.path))f(g,m,!0,x)}),n}function nh(e){let n=e.split("/");if(n.length===0)return[];let[i,...a]=n,c=i.endsWith("?"),f=i.replace(/\?$/,"");if(a.length===0)return c?[f,""]:[f];let g=nh(a.join("/")),m=[];return m.push(...g.map(y=>y===""?f:[f,y].join("/"))),c&&m.push(...g),m.map(y=>e.startsWith("/")&&y===""?"/":y)}function Fp(e){e.sort((n,i)=>n.score!==i.score?i.score-n.score:Yp(n.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var Up=/^:[\w-]+$/,jp=3,zp=2,Hp=1,Vp=10,Wp=-2,w0=e=>e==="*";function Gp(e,n){let i=e.split("/"),a=i.length;return i.some(w0)&&(a+=Wp),n&&(a+=zp),i.filter(c=>!w0(c)).reduce((c,f)=>c+(Up.test(f)?jp:f===""?Hp:Vp),a)}function Yp(e,n){return e.length===n.length&&e.slice(0,-1).every((a,c)=>a===n[c])?e[e.length-1]-n[n.length-1]:0}function Xp(e,n,i=!1){let{routesMeta:a}=e,c={},f="/",g=[];for(let m=0;m<a.length;++m){let y=a[m],x=m===a.length-1,I=f==="/"?n:n.slice(f.length)||"/",S=Ea({path:y.relativePath,caseSensitive:y.caseSensitive,end:x},I),R=y.route;if(!S&&x&&i&&!a[a.length-1].route.index&&(S=Ea({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},I)),!S)return null;Object.assign(c,S.params),g.push({params:c,pathname:tr([f,S.pathname]),pathnameBase:$p(tr([f,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(f=tr([f,S.pathnameBase]))}return g}function Ea(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,a]=Qp(e.path,e.caseSensitive,e.end),c=n.match(i);if(!c)return null;let f=c[0],g=f.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:a.reduce((x,{paramName:I,isOptional:S},R)=>{if(I==="*"){let V=m[R]||"";g=f.slice(0,f.length-V.length).replace(/(.)\/+$/,"$1")}const b=m[R];return S&&!b?x[I]=void 0:x[I]=(b||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:g,pattern:e}}function Qp(e,n=!1,i=!0){an(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,m,y)=>(a.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),a]}function Zp(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return an(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function or(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}var rh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kp=e=>rh.test(e);function qp(e,n="/"){let{pathname:i,search:a="",hash:c=""}=typeof e=="string"?ai(e):e,f;if(i)if(Kp(i))f=i;else{if(i.includes("//")){let g=i;i=i.replace(/\/\/+/g,"/"),an(!1,`Pathnames cannot have embedded double slashes - normalizing ${g} -> ${i}`)}i.startsWith("/")?f=y0(i.substring(1),"/"):f=y0(i,n)}else f=n;return{pathname:f,search:ex(a),hash:tx(c)}}function y0(e,n){let i=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Bl(e,n,i,a){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jp(e){return e.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Oc(e){let n=Jp(e);return n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase)}function Dc(e,n,i,a=!1){let c;typeof e=="string"?c=ai(e):(c={...e},qe(!c.pathname||!c.pathname.includes("?"),Bl("?","pathname","search",c)),qe(!c.pathname||!c.pathname.includes("#"),Bl("#","pathname","hash",c)),qe(!c.search||!c.search.includes("#"),Bl("#","search","hash",c)));let f=e===""||c.pathname==="",g=f?"/":c.pathname,m;if(g==null)m=i;else{let S=n.length-1;if(!a&&g.startsWith("..")){let R=g.split("/");for(;R[0]==="..";)R.shift(),S-=1;c.pathname=R.join("/")}m=S>=0?n[S]:"/"}let y=qp(c,m),x=g&&g!=="/"&&g.endsWith("/"),I=(f||g===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(x||I)&&(y.pathname+="/"),y}var tr=e=>e.join("/").replace(/\/\/+/g,"/"),$p=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ex=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,nx=class{constructor(e,n,i,a=!1){this.status=e,this.statusText=n||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function rx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function ix(e){return e.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ih=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sh(e,n){let i=e;if(typeof i!="string"||!rh.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let a=i,c=!1;if(ih)try{let f=new URL(window.location.href),g=i.startsWith("//")?new URL(f.protocol+i):new URL(i),m=or(g.pathname,n);g.origin===f.origin&&m!=null?i=m+g.search+g.hash:c=!0}catch{an(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:c,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oh=["POST","PUT","PATCH","DELETE"];new Set(oh);var sx=["GET",...oh];new Set(sx);var Qi=F.createContext(null);Qi.displayName="DataRouter";var ja=F.createContext(null);ja.displayName="DataRouterState";var ox=F.createContext(!1),ah=F.createContext({isTransitioning:!1});ah.displayName="ViewTransition";var ax=F.createContext(new Map);ax.displayName="Fetchers";var lx=F.createContext(null);lx.displayName="Await";var cn=F.createContext(null);cn.displayName="Navigation";var to=F.createContext(null);to.displayName="Location";var Yn=F.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var bc=F.createContext(null);bc.displayName="RouteError";var lh="REACT_ROUTER_ERROR",ux="REDIRECT",cx="ROUTE_ERROR_RESPONSE";function fx(e){if(e.startsWith(`${lh}:${ux}:{`))try{let n=JSON.parse(e.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function dx(e){if(e.startsWith(`${lh}:${cx}:{`))try{let n=JSON.parse(e.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new nx(n.status,n.statusText,n.data)}catch{}}function hx(e,{relative:n}={}){qe(Zi(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=F.useContext(cn),{hash:c,pathname:f,search:g}=no(e,{relative:n}),m=f;return i!=="/"&&(m=f==="/"?i:tr([i,f])),a.createHref({pathname:m,search:g,hash:c})}function Zi(){return F.useContext(to)!=null}function lr(){return qe(Zi(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(to).location}var uh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ch(e){F.useContext(cn).static||F.useLayoutEffect(e)}function fh(){let{isDataRoute:e}=F.useContext(Yn);return e?Tx():gx()}function gx(){qe(Zi(),"useNavigate() may be used only in the context of a <Router> component.");let e=F.useContext(Qi),{basename:n,navigator:i}=F.useContext(cn),{matches:a}=F.useContext(Yn),{pathname:c}=lr(),f=JSON.stringify(Oc(a)),g=F.useRef(!1);return ch(()=>{g.current=!0}),F.useCallback((y,x={})=>{if(an(g.current,uh),!g.current)return;if(typeof y=="number"){i.go(y);return}let I=Dc(y,JSON.parse(f),c,x.relative==="path");e==null&&n!=="/"&&(I.pathname=I.pathname==="/"?n:tr([n,I.pathname])),(x.replace?i.replace:i.push)(I,x.state,x)},[n,i,f,c,e])}F.createContext(null);function no(e,{relative:n}={}){let{matches:i}=F.useContext(Yn),{pathname:a}=lr(),c=JSON.stringify(Oc(i));return F.useMemo(()=>Dc(e,JSON.parse(c),a,n==="path"),[e,c,a,n])}function px(e,n){return dh(e,n)}function dh(e,n,i,a,c){var N;qe(Zi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=F.useContext(cn),{matches:g}=F.useContext(Yn),m=g[g.length-1],y=m?m.params:{},x=m?m.pathname:"/",I=m?m.pathnameBase:"/",S=m&&m.route;{let _=S&&S.path||"";gh(x,!S||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let R=lr(),b;if(n){let _=typeof n=="string"?ai(n):n;qe(I==="/"||((N=_.pathname)==null?void 0:N.startsWith(I)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${I}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=R;let V=b.pathname||"/",L=V;if(I!=="/"){let _=I.replace(/^\//,"").split("/");L="/"+V.replace(/^\//,"").split("/").slice(_.length).join("/")}let X=eh(e,{pathname:L});an(S||X!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),an(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=Cx(X&&X.map(_=>Object.assign({},_,{params:Object.assign({},y,_.params),pathname:tr([I,f.encodeLocation?f.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?I:tr([I,f.encodeLocation?f.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),g,i,a,c);return n&&M?F.createElement(to.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function xx(){let e=vx(),n=rx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:a},f={padding:"2px 4px",backgroundColor:a},g=null;return console.error("Error handled by React Router default ErrorBoundary:",e),g=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:f},"ErrorBoundary")," or"," ",F.createElement("code",{style:f},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},n),i?F.createElement("pre",{style:c},i):null,g)}var mx=F.createElement(xx,null),hh=class extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){this.props.onError?this.props.onError(e,n):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const i=dx(e.digest);i&&(e=i)}let n=e!==void 0?F.createElement(Yn.Provider,{value:this.props.routeContext},F.createElement(bc.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?F.createElement(wx,{error:e},n):n}};hh.contextType=ox;var Pl=new WeakMap;function wx({children:e,error:n}){let{basename:i}=F.useContext(cn);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let a=fx(n.digest);if(a){let c=Pl.get(n);if(c)throw c;let f=sh(a.location,i);if(ih&&!Pl.get(n))if(f.isExternal||a.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const g=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:a.replace}));throw Pl.set(n,g),g}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return e}function yx({routeContext:e,match:n,children:i}){let a=F.useContext(Qi);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(Yn.Provider,{value:e},i)}function Cx(e,n=[],i=null,a=null,c=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let f=e,g=i==null?void 0:i.errors;if(g!=null){let I=f.findIndex(S=>S.route.id&&(g==null?void 0:g[S.route.id])!==void 0);qe(I>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),f=f.slice(0,Math.min(f.length,I+1))}let m=!1,y=-1;if(i)for(let I=0;I<f.length;I++){let S=f[I];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=I),S.route.id){let{loaderData:R,errors:b}=i,V=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!b||b[S.route.id]===void 0);if(S.route.lazy||V){m=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}let x=i&&a?(I,S)=>{var R,b;a(I,{location:i.location,params:((b=(R=i.matches)==null?void 0:R[0])==null?void 0:b.params)??{},unstable_pattern:ix(i.matches),errorInfo:S})}:void 0;return f.reduceRight((I,S,R)=>{let b,V=!1,L=null,X=null;i&&(b=g&&S.route.id?g[S.route.id]:void 0,L=S.route.errorElement||mx,m&&(y<0&&R===0?(gh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,X=null):y===R&&(V=!0,X=S.route.hydrateFallbackElement||null)));let M=n.concat(f.slice(0,R+1)),N=()=>{let _;return b?_=L:V?_=X:S.route.Component?_=F.createElement(S.route.Component,null):S.route.element?_=S.route.element:_=I,F.createElement(yx,{match:S,routeContext:{outlet:I,matches:M,isDataRoute:i!=null},children:_})};return i&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?F.createElement(hh,{location:i.location,revalidation:i.revalidation,component:L,error:b,children:N(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:x}):N()},null)}function Lc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ex(e){let n=F.useContext(Qi);return qe(n,Lc(e)),n}function Ax(e){let n=F.useContext(ja);return qe(n,Lc(e)),n}function Sx(e){let n=F.useContext(Yn);return qe(n,Lc(e)),n}function kc(e){let n=Sx(e),i=n.matches[n.matches.length-1];return qe(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function Ix(){return kc("useRouteId")}function vx(){var a;let e=F.useContext(bc),n=Ax("useRouteError"),i=kc("useRouteError");return e!==void 0?e:(a=n.errors)==null?void 0:a[i]}function Tx(){let{router:e}=Ex("useNavigate"),n=kc("useNavigate"),i=F.useRef(!1);return ch(()=>{i.current=!0}),F.useCallback(async(c,f={})=>{an(i.current,uh),i.current&&(typeof c=="number"?await e.navigate(c):await e.navigate(c,{fromRouteId:n,...f}))},[e,n])}var C0={};function gh(e,n,i){!n&&!C0[e]&&(C0[e]=!0,an(!1,i))}F.memo(Nx);function Nx({routes:e,future:n,state:i,onError:a}){return dh(e,void 0,i,a,n)}function _x({to:e,replace:n,state:i,relative:a}){qe(Zi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=F.useContext(cn);an(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=F.useContext(Yn),{pathname:g}=lr(),m=fh(),y=Dc(e,Oc(f),g,a==="path"),x=JSON.stringify(y);return F.useEffect(()=>{m(JSON.parse(x),{replace:n,state:i,relative:a})},[m,x,a,n,i]),null}function Qr(e){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mx({basename:e="/",children:n=null,location:i,navigationType:a="POP",navigator:c,static:f=!1,unstable_useTransitions:g}){qe(!Zi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),y=F.useMemo(()=>({basename:m,navigator:c,static:f,unstable_useTransitions:g,future:{}}),[m,c,f,g]);typeof i=="string"&&(i=ai(i));let{pathname:x="/",search:I="",hash:S="",state:R=null,key:b="default"}=i,V=F.useMemo(()=>{let L=or(x,m);return L==null?null:{location:{pathname:L,search:I,hash:S,state:R,key:b},navigationType:a}},[m,x,I,S,R,b,a]);return an(V!=null,`<Router basename="${m}"> is not able to match the URL "${x}${I}${S}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:F.createElement(cn.Provider,{value:y},F.createElement(to.Provider,{children:n,value:V}))}function Rx({children:e,location:n}){return px(Lu(e),n)}function Lu(e,n=[]){let i=[];return F.Children.forEach(e,(a,c)=>{if(!F.isValidElement(a))return;let f=[...n,c];if(a.type===F.Fragment){i.push.apply(i,Lu(a.props.children,f));return}qe(a.type===Qr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let g={id:a.props.id||f.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(g.children=Lu(a.props.children,f)),i.push(g)}),i}var Zo="get",Ko="application/x-www-form-urlencoded";function za(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Ox(e){return za(e)&&e.tagName.toLowerCase()==="button"}function Dx(e){return za(e)&&e.tagName.toLowerCase()==="form"}function bx(e){return za(e)&&e.tagName.toLowerCase()==="input"}function Lx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kx(e,n){return e.button===0&&(!n||n==="_self")&&!Lx(e)}var ko=null;function Bx(){if(ko===null)try{new FormData(document.createElement("form"),0),ko=!1}catch{ko=!0}return ko}var Px=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fl(e){return e!=null&&!Px.has(e)?(an(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ko}"`),null):e}function Fx(e,n){let i,a,c,f,g;if(Dx(e)){let m=e.getAttribute("action");a=m?or(m,n):null,i=e.getAttribute("method")||Zo,c=Fl(e.getAttribute("enctype"))||Ko,f=new FormData(e)}else if(Ox(e)||bx(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||m.getAttribute("action");if(a=y?or(y,n):null,i=e.getAttribute("formmethod")||m.getAttribute("method")||Zo,c=Fl(e.getAttribute("formenctype"))||Fl(m.getAttribute("enctype"))||Ko,f=new FormData(m,e),!Bx()){let{name:x,type:I,value:S}=e;if(I==="image"){let R=x?`${x}.`:"";f.append(`${R}x`,"0"),f.append(`${R}y`,"0")}else x&&f.append(x,S)}}else{if(za(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Zo,a=null,c=Ko,g=e}return f&&c==="text/plain"&&(g=f,f=void 0),{action:a,method:i.toLowerCase(),encType:c,formData:f,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bc(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Ux(e,n,i,a){let c=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${a}`:c.pathname=`${c.pathname}.${a}`:c.pathname==="/"?c.pathname=`_root.${a}`:n&&or(c.pathname,n)==="/"?c.pathname=`${n.replace(/\/$/,"")}/_root.${a}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${a}`,c}async function jx(e,n){if(e.id in n)return n[e.id];try{let i=await import(e.module);return n[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zx(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Hx(e,n,i){let a=await Promise.all(e.map(async c=>{let f=n.routes[c.route.id];if(f){let g=await jx(f,i);return g.links?g.links():[]}return[]}));return Yx(a.flat(1).filter(zx).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function E0(e,n,i,a,c,f){let g=(y,x)=>i[x]?y.route.id!==i[x].route.id:!0,m=(y,x)=>{var I;return i[x].pathname!==y.pathname||((I=i[x].route.path)==null?void 0:I.endsWith("*"))&&i[x].params["*"]!==y.params["*"]};return f==="assets"?n.filter((y,x)=>g(y,x)||m(y,x)):f==="data"?n.filter((y,x)=>{var S;let I=a.routes[y.route.id];if(!I||!I.hasLoader)return!1;if(g(y,x)||m(y,x))return!0;if(y.route.shouldRevalidate){let R=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function Vx(e,n,{includeHydrateFallback:i}={}){return Wx(e.map(a=>{let c=n.routes[a.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function Wx(e){return[...new Set(e)]}function Gx(e){let n={},i=Object.keys(e).sort();for(let a of i)n[a]=e[a];return n}function Yx(e,n){let i=new Set;return new Set(n),e.reduce((a,c)=>{let f=JSON.stringify(Gx(c));return i.has(f)||(i.add(f),a.push({key:f,link:c})),a},[])}function ph(){let e=F.useContext(Qi);return Bc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xx(){let e=F.useContext(ja);return Bc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Pc=F.createContext(void 0);Pc.displayName="FrameworkContext";function xh(){let e=F.useContext(Pc);return Bc(e,"You must render this element inside a <HydratedRouter> element"),e}function Qx(e,n){let i=F.useContext(Pc),[a,c]=F.useState(!1),[f,g]=F.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:x,onMouseLeave:I,onTouchStart:S}=n,R=F.useRef(null);F.useEffect(()=>{if(e==="render"&&g(!0),e==="viewport"){let L=M=>{M.forEach(N=>{g(N.isIntersecting)})},X=new IntersectionObserver(L,{threshold:.5});return R.current&&X.observe(R.current),()=>{X.disconnect()}}},[e]),F.useEffect(()=>{if(a){let L=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(L)}}},[a]);let b=()=>{c(!0)},V=()=>{c(!1),g(!1)};return i?e!=="intent"?[f,R,{}]:[f,R,{onFocus:ms(m,b),onBlur:ms(y,V),onMouseEnter:ms(x,b),onMouseLeave:ms(I,V),onTouchStart:ms(S,b)}]:[!1,R,{}]}function ms(e,n){return i=>{e&&e(i),i.defaultPrevented||n(i)}}function Zx({page:e,...n}){let{router:i}=ph(),a=F.useMemo(()=>eh(i.routes,e,i.basename),[i.routes,e,i.basename]);return a?F.createElement(qx,{page:e,matches:a,...n}):null}function Kx(e){let{manifest:n,routeModules:i}=xh(),[a,c]=F.useState([]);return F.useEffect(()=>{let f=!1;return Hx(e,n,i).then(g=>{f||c(g)}),()=>{f=!0}},[e,n,i]),a}function qx({page:e,matches:n,...i}){let a=lr(),{future:c,manifest:f,routeModules:g}=xh(),{basename:m}=ph(),{loaderData:y,matches:x}=Xx(),I=F.useMemo(()=>E0(e,n,x,f,a,"data"),[e,n,x,f,a]),S=F.useMemo(()=>E0(e,n,x,f,a,"assets"),[e,n,x,f,a]),R=F.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let L=new Set,X=!1;if(n.forEach(N=>{var j;let _=f.routes[N.route.id];!_||!_.hasLoader||(!I.some(q=>q.route.id===N.route.id)&&N.route.id in y&&((j=g[N.route.id])!=null&&j.shouldRevalidate)||_.hasClientLoader?X=!0:L.add(N.route.id))}),L.size===0)return[];let M=Ux(e,m,c.unstable_trailingSlashAwareDataRequests,"data");return X&&L.size>0&&M.searchParams.set("_routes",n.filter(N=>L.has(N.route.id)).map(N=>N.route.id).join(",")),[M.pathname+M.search]},[m,c.unstable_trailingSlashAwareDataRequests,y,a,f,I,n,e,g]),b=F.useMemo(()=>Vx(S,f),[S,f]),V=Kx(S);return F.createElement(F.Fragment,null,R.map(L=>F.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),b.map(L=>F.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),V.map(({key:L,link:X})=>F.createElement("link",{key:L,nonce:i.nonce,...X})))}function Jx(...e){return n=>{e.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var $x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$x&&(window.__reactRouterVersion="7.12.0")}catch{}function em({basename:e,children:n,unstable_useTransitions:i,window:a}){let c=F.useRef();c.current==null&&(c.current=bp({window:a,v5Compat:!0}));let f=c.current,[g,m]=F.useState({action:f.action,location:f.location}),y=F.useCallback(x=>{i===!1?m(x):F.startTransition(()=>m(x))},[i]);return F.useLayoutEffect(()=>f.listen(y),[f,y]),F.createElement(Mx,{basename:e,children:n,location:g.location,navigationType:g.action,navigator:f,unstable_useTransitions:i})}var mh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wh=F.forwardRef(function({onClick:n,discover:i="render",prefetch:a="none",relative:c,reloadDocument:f,replace:g,state:m,target:y,to:x,preventScrollReset:I,viewTransition:S,unstable_defaultShouldRevalidate:R,...b},V){let{basename:L,unstable_useTransitions:X}=F.useContext(cn),M=typeof x=="string"&&mh.test(x),N=sh(x,L);x=N.to;let _=hx(x,{relative:c}),[j,q,Z]=Qx(a,b),U=im(x,{replace:g,state:m,target:y,preventScrollReset:I,relative:c,viewTransition:S,unstable_defaultShouldRevalidate:R,unstable_useTransitions:X});function W(ae){n&&n(ae),ae.defaultPrevented||U(ae)}let G=F.createElement("a",{...b,...Z,href:N.absoluteURL||_,onClick:N.isExternal||f?n:W,ref:Jx(V,q),target:y,"data-discover":!M&&i==="render"?"true":void 0});return j&&!M?F.createElement(F.Fragment,null,G,F.createElement(Zx,{page:_})):G});wh.displayName="Link";var tm=F.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:a="",end:c=!1,style:f,to:g,viewTransition:m,children:y,...x},I){let S=no(g,{relative:x.relative}),R=lr(),b=F.useContext(ja),{navigator:V,basename:L}=F.useContext(cn),X=b!=null&&um(S)&&m===!0,M=V.encodeLocation?V.encodeLocation(S).pathname:S.pathname,N=R.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(N=N.toLowerCase(),_=_?_.toLowerCase():null,M=M.toLowerCase()),_&&L&&(_=or(_,L)||_);const j=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let q=N===M||!c&&N.startsWith(M)&&N.charAt(j)==="/",Z=_!=null&&(_===M||!c&&_.startsWith(M)&&_.charAt(M.length)==="/"),U={isActive:q,isPending:Z,isTransitioning:X},W=q?n:void 0,G;typeof a=="function"?G=a(U):G=[a,q?"active":null,Z?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let ae=typeof f=="function"?f(U):f;return F.createElement(wh,{...x,"aria-current":W,className:G,ref:I,style:ae,to:g,viewTransition:m},typeof y=="function"?y(U):y)});tm.displayName="NavLink";var nm=F.forwardRef(({discover:e="render",fetcherKey:n,navigate:i,reloadDocument:a,replace:c,state:f,method:g=Zo,action:m,onSubmit:y,relative:x,preventScrollReset:I,viewTransition:S,unstable_defaultShouldRevalidate:R,...b},V)=>{let{unstable_useTransitions:L}=F.useContext(cn),X=am(),M=lm(m,{relative:x}),N=g.toLowerCase()==="get"?"get":"post",_=typeof m=="string"&&mh.test(m),j=q=>{if(y&&y(q),q.defaultPrevented)return;q.preventDefault();let Z=q.nativeEvent.submitter,U=(Z==null?void 0:Z.getAttribute("formmethod"))||g,W=()=>X(Z||q.currentTarget,{fetcherKey:n,method:U,navigate:i,replace:c,state:f,relative:x,preventScrollReset:I,viewTransition:S,unstable_defaultShouldRevalidate:R});L&&i!==!1?F.startTransition(()=>W()):W()};return F.createElement("form",{ref:V,method:N,action:M,onSubmit:a?y:j,...b,"data-discover":!_&&e==="render"?"true":void 0})});nm.displayName="Form";function rm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yh(e){let n=F.useContext(Qi);return qe(n,rm(e)),n}function im(e,{target:n,replace:i,state:a,preventScrollReset:c,relative:f,viewTransition:g,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let x=fh(),I=lr(),S=no(e,{relative:f});return F.useCallback(R=>{if(kx(R,n)){R.preventDefault();let b=i!==void 0?i:Qs(I)===Qs(S),V=()=>x(e,{replace:b,state:a,preventScrollReset:c,relative:f,viewTransition:g,unstable_defaultShouldRevalidate:m});y?F.startTransition(()=>V()):V()}},[I,x,S,i,a,n,e,c,f,g,m,y])}var sm=0,om=()=>`__${String(++sm)}__`;function am(){let{router:e}=yh("useSubmit"),{basename:n}=F.useContext(cn),i=Ix(),a=e.fetch,c=e.navigate;return F.useCallback(async(f,g={})=>{let{action:m,method:y,encType:x,formData:I,body:S}=Fx(f,n);if(g.navigate===!1){let R=g.fetcherKey||om();await a(R,i,g.action||m,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:I,body:S,formMethod:g.method||y,formEncType:g.encType||x,flushSync:g.flushSync})}else await c(g.action||m,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:I,body:S,formMethod:g.method||y,formEncType:g.encType||x,replace:g.replace,state:g.state,fromRouteId:i,flushSync:g.flushSync,viewTransition:g.viewTransition})},[a,c,n,i])}function lm(e,{relative:n}={}){let{basename:i}=F.useContext(cn),a=F.useContext(Yn);qe(a,"useFormAction must be used inside a RouteContext");let[c]=a.matches.slice(-1),f={...no(e||".",{relative:n})},g=lr();if(e==null){f.search=g.search;let m=new URLSearchParams(f.search),y=m.getAll("index");if(y.some(I=>I==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let I=m.toString();f.search=I?`?${I}`:""}}return(!e||e===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:tr([i,f.pathname])),Qs(f)}function um(e,{relative:n}={}){let i=F.useContext(ah);qe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=yh("useViewTransitionState"),c=no(e,{relative:n});if(!i.isTransitioning)return!1;let f=or(i.currentLocation.pathname,a)||i.currentLocation.pathname,g=or(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Ea(c.pathname,g)!=null||Ea(c.pathname,f)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fm=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,a)=>a?a.toUpperCase():i.toLowerCase()),A0=e=>{const n=fm(e);return n.charAt(0).toUpperCase()+n.slice(1)},Ch=(...e)=>e.filter((n,i,a)=>!!n&&n.trim()!==""&&a.indexOf(n)===i).join(" ").trim(),dm=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=F.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:c="",children:f,iconNode:g,...m},y)=>F.createElement("svg",{ref:y,...hm,width:n,height:n,stroke:e,strokeWidth:a?Number(i)*24/Number(n):i,className:Ch("lucide",c),...!f&&!dm(m)&&{"aria-hidden":"true"},...m},[...g.map(([x,I])=>F.createElement(x,I)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=(e,n)=>{const i=F.forwardRef(({className:a,...c},f)=>F.createElement(gm,{ref:f,iconNode:n,className:Ch(`lucide-${cm(A0(e))}`,`lucide-${e}`,a),...c}));return i.displayName=A0(e),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],S0=Xn("calendar",pm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ha=Xn("camera",xm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wm=Xn("circle-alert",mm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cm=Xn("circle-check-big",ym);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],I0=Xn("download",Em);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Sm=Xn("play",Am);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vm=Xn("save",Im);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Nm=Xn("search",Tm);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mm=Xn("square-check-big",_m);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Om=Xn("x",Rm),Dm=({children:e})=>(lr(),B.jsxs("div",{className:"min-h-screen flex flex-col",style:{width:"100vw",overflowX:"hidden"},children:[B.jsx("header",{className:"bg-[#161b22] border-b border-[#30363d] p-4 sticky top-0 z-40 backdrop-blur-md bg-opacity-80",children:B.jsx("div",{style:{width:"100%",maxWidth:"1280px",margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center"},children:B.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:""})})}),B.jsx("main",{className:"animate-fade-in relative",style:{flexGrow:1,width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1rem"},children:B.jsx("div",{style:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"95%",maxWidth:"1280px",margin:"0 auto"},children:e})})]})),Eh="gas_app_url",Fc=()=>localStorage.getItem(Eh)||"https://script.google.com/macros/s/AKfycbwhzX2lsS_qxwD80yueYq03JISp6LxBMOR8RaUVaqcQlHSgnuNw_sNx0QVlrRPJ1oB8/exec",bm=e=>{localStorage.setItem(Eh,e)},Bo=async e=>{const n=Fc();try{const i=await fetch(n,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(e)});if(!i.ok)throw new Error(`HTTP Error: ${i.status}`);return await i.json()}catch(i){throw console.error("API Call Error:",i),i}},Lm=async e=>{const n=Fc(),i=new URLSearchParams(e).toString(),a=`${n}?${i}`;try{return await(await fetch(a)).json()}catch(c){throw c}},Zs={issueOrder:e=>Bo({action:"issue_order",orderId:e}),qcRecord:e=>Bo({action:"qc_record",orderId:e}),startWork:e=>Bo({action:"start_work",orderId:e}),finishWork:(e,n)=>Bo({action:"finish_work",orderId:e,quantity:n}),queryOrders:()=>Lm({action:"query_orders"})};var se;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(se||(se={}));var v0=new Map([[se.QR_CODE,"QR_CODE"],[se.AZTEC,"AZTEC"],[se.CODABAR,"CODABAR"],[se.CODE_39,"CODE_39"],[se.CODE_93,"CODE_93"],[se.CODE_128,"CODE_128"],[se.DATA_MATRIX,"DATA_MATRIX"],[se.MAXICODE,"MAXICODE"],[se.ITF,"ITF"],[se.EAN_13,"EAN_13"],[se.EAN_8,"EAN_8"],[se.PDF_417,"PDF_417"],[se.RSS_14,"RSS_14"],[se.RSS_EXPANDED,"RSS_EXPANDED"],[se.UPC_A,"UPC_A"],[se.UPC_E,"UPC_E"],[se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),T0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(T0||(T0={}));function km(e){return Object.values(se).includes(e)}var kr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(kr||(kr={}));var _n=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[kr.SCAN_TYPE_CAMERA,kr.SCAN_TYPE_FILE],e}(),Ah=function(){function e(n,i){this.format=n,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!v0.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,v0.get(n))},e}(),N0=function(){function e(){}return e.createFromText=function(n){var i={text:n};return{decodedText:n,result:i}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),ku;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ku||(ku={}));var Sh=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:ku.UNKWOWN_ERROR}},e}(),Ih=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,i){(this.verbose||i===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Hn(e){return typeof e>"u"||e===null}function Bm(e,n,i){return e>i?i:e<n?n:e}var Oi=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),be=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),_0=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),vh=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,i){if(typeof n!="object"){var a=typeof n;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(c),g=Object.keys(n),m=0,y=g;m<y.length;m++){var x=y[m];if(f.has(x))return i.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Bu={exports:{}};(function(e,n){(function(i,a){a(n)})(ls,function(i){function a(C){return C==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,t){C.__proto__=t}||function(C,t){for(var r in t)t.hasOwnProperty(r)&&(C[r]=t[r])};function f(C,t){c(C,t);function r(){this.constructor=C}C.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function g(C,t){var r=Object.setPrototypeOf;r?r(C,t):C.__proto__=t}function m(C,t){t===void 0&&(t=C.constructor);var r=Error.captureStackTrace;r&&r(C,t)}var y=function(C){f(t,C);function t(r){var s=this.constructor,o=C.call(this,r)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1}),g(o,s.prototype),m(o),o}return t}(Error);class x extends y{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}x.kind="Exception";class I extends x{}I.kind="ArgumentException";class S extends x{}S.kind="IllegalArgumentException";class R{constructor(t){if(this.binarizer=t,t===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,s,o){const l=this.binarizer.getLuminanceSource().crop(t,r,s,o);return new R(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends x{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class V{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class L{static arraycopy(t,r,s,o,l){for(;l--;)s[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class X extends x{}X.kind="IndexOutOfBoundsException";class M extends X{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}M.kind="ArrayIndexOutOfBoundsException";class N{static fill(t,r){for(let s=0,o=t.length;s<o;s++)t[s]=r}static fillWithin(t,r,s,o){N.rangeCheck(t.length,r,s);for(let l=r;l<s;l++)t[l]=o}static rangeCheck(t,r,s){if(r>s)throw new S("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new M(r);if(s>t)throw new M(s)}static asList(...t){return t}static create(t,r,s){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(s))}static createInt32Array(t,r,s){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(s))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let s=0,o=t.length;s<o;s++)if(t[s]!==r[s])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const s of t)r=31*r+s;return r}static fillUint8Array(t,r){for(let s=0;s!==t.length;s++)t[s]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const s=new Uint8Array(r);return s.set(t),s}return t.slice(0,r)}static copyOfRange(t,r,s){const o=s-r,l=new Int32Array(o);return L.arraycopy(t,r,l,0,o),l}static binarySearch(t,r,s){s===void 0&&(s=N.numberComparator);let o=0,l=t.length-1;for(;o<=l;){const u=l+o>>1,d=s(r,t[u]);if(d>0)o=u+1;else if(d<0)l=u-1;else return u}return-o-1}static numberComparator(t,r){return t-r}}class _{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let s=31;return r=t<<16,r!==0&&(s-=16,t=r),r=t<<8,r!==0&&(s-=8,t=r),r=t<<4,r!==0&&(s-=4,t=r),r=t<<2,r!==0&&(s-=2,t=r),s-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=j.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=j.makeArray(t);L.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=s[o];l&=~((1<<(t&31))-1);const u=s.length;for(;l===0;){if(++o===u)return r;l=s[o]}const d=o*32+_.numberOfTrailingZeros(l);return d>r?r:d}getNextUnset(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=~s[o];l&=~((1<<(t&31))-1);const u=s.length;for(;l===0;){if(++o===u)return r;l=~s[o]}const d=o*32+_.numberOfTrailingZeros(l);return d>r?r:d}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new S;if(r===t)return;r--;const s=Math.floor(t/32),o=Math.floor(r/32),l=this.bits;for(let u=s;u<=o;u++){const d=u>s?0:t&31,p=(2<<(u<o?31:r&31))-(1<<d);l[u]|=p}}clear(){const t=this.bits.length,r=this.bits;for(let s=0;s<t;s++)r[s]=0}isRange(t,r,s){if(r<t||t<0||r>this.size)throw new S;if(r===t)return!0;r--;const o=Math.floor(t/32),l=Math.floor(r/32),u=this.bits;for(let d=o;d<=l;d++){const h=d>o?0:t&31,w=(2<<(d<l?31:r&31))-(1<<h)&4294967295;if((u[d]&w)!==(s?w:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let s=r;s>0;s--)this.appendBit((t>>s-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let s=0;s<r;s++)this.appendBit(t.get(s))}xor(t){if(this.size!==t.size)throw new S("Sizes don't match");const r=this.bits;for(let s=0,o=r.length;s<o;s++)r[s]^=t.bits[s]}toBytes(t,r,s,o){for(let l=0;l<o;l++){let u=0;for(let d=0;d<8;d++)this.get(t)&&(u|=1<<7-d),t++;r[s+l]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,o=this.bits;for(let l=0;l<s;l++){let u=o[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-l]=u}if(this.size!==s*32){const l=s*32-this.size;let u=t[0]>>>l;for(let d=1;d<s;d++){const h=t[d];u|=h<<32-l,t[d-1]=u,u=h>>>l}t[s-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof j))return!1;const r=t;return this.size===r.size&&N.equals(this.bits,r.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let t="";for(let r=0,s=this.size;r<s;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new j(this.size,this.bits.slice())}}var q;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var Z=q;class U extends x{static getFormatInstance(){return new U}}U.kind="FormatException";var W;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(W||(W={}));class G{constructor(t,r,s,...o){this.valueIdentifier=t,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,G.VALUE_IDENTIFIER_TO_ECI.set(t,this),G.NAME_TO_ECI.set(s,this);const l=this.values;for(let u=0,d=l.length;u!==d;u++){const h=l[u];G.VALUES_TO_ECI.set(h,this)}for(const u of o)G.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new U("incorect value");const r=G.VALUES_TO_ECI.get(t);if(r===void 0)throw new U("incorect value");return r}static getCharacterSetECIByName(t){const r=G.NAME_TO_ECI.get(t);if(r===void 0)throw new U("incorect value");return r}equals(t){if(!(t instanceof G))return!1;const r=t;return this.getName()===r.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(W.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(W.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(W.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(W.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(W.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(W.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(W.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(W.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(W.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(W.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(W.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(W.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(W.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(W.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(W.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(W.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(W.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(W.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(W.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(W.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(W.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(W.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(W.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(W.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(W.Big5,28,"Big5"),G.GB18030=new G(W.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(W.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends x{}ae.kind="UnsupportedOperationException";class ce{static decode(t,r){const s=this.encodingName(r);return this.customDecoder?this.customDecoder(t,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(t,s):new TextDecoder(s).decode(t)}static shouldDecodeOnFallback(t){return!ce.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const s=this.encodingName(r);return this.customEncoder?this.customEncoder(t,s):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof G?t:G.getCharacterSetECIByName(t)}static decodeFallback(t,r){const s=this.encodingCharacterSet(r);if(ce.isDecodeFallbackSupported(s)){let o="";for(let l=0,u=t.length;l<u;l++){let d=t[l].toString(16);d.length<2&&(d="0"+d),o+="%"+d}return decodeURIComponent(o)}if(s.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ae(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(G.UTF8)||t.equals(G.ISO8859_1)||t.equals(G.ASCII)}static encodeFallback(t){const s=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let l=0;l<s.length;l++)o.push(s[l].charCodeAt(0));return new Uint8Array(o)}}class ne{static castAsNonUtf8Char(t,r=null){const s=r?r.getName():this.ISO88591;return ce.decode(new Uint8Array([t]),s)}static guessEncoding(t,r){if(r!=null&&r.get(Z.CHARACTER_SET)!==void 0)return r.get(Z.CHARACTER_SET).toString();const s=t.length;let o=!0,l=!0,u=!0,d=0,h=0,p=0,w=0,E=0,A=0,T=0,O=0,D=0,k=0,H=0;const $=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ee=0;ee<s&&(o||l||u);ee++){const K=t[ee]&255;u&&(d>0?K&128?d--:u=!1:K&128&&(K&64?(d++,K&32?(d++,K&16?(d++,K&8?u=!1:w++):p++):h++):u=!1)),o&&(K>127&&K<160?o=!1:K>159&&(K<192||K===215||K===247)&&H++),l&&(E>0?K<64||K===127||K>252?l=!1:E--:K===128||K===160||K>239?l=!1:K>160&&K<224?(A++,O=0,T++,T>D&&(D=T)):K>127?(E++,T=0,O++,O>k&&(k=O)):(T=0,O=0))}return u&&d>0&&(u=!1),l&&E>0&&(l=!1),u&&($||h+p+w>0)?ne.UTF8:l&&(ne.ASSUME_SHIFT_JIS||D>=3||k>=3)?ne.SHIFT_JIS:o&&l?D===2&&A===2||H*10>=s?ne.SHIFT_JIS:ne.ISO88591:o?ne.ISO88591:l?ne.SHIFT_JIS:u?ne.UTF8:ne.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let s=-1;function o(u,d,h,p,w,E){if(u==="%%")return"%";if(r[++s]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let A=w?parseInt(w.substr(1)):void 0,T;switch(E){case"s":T=r[s];break;case"c":T=r[s][0];break;case"f":T=parseFloat(r[s]).toFixed(u);break;case"p":T=parseFloat(r[s]).toPrecision(u);break;case"e":T=parseFloat(r[s]).toExponential(u);break;case"x":T=parseInt(r[s]).toString(A||16);break;case"d":T=parseFloat(parseInt(r[s],A||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(A);let O=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;T.length<O;)T=d!==void 0?T+D:D+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}static getBytes(t,r){return ce.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}ne.SHIFT_JIS=G.SJIS.getName(),ne.GB2312="GB2312",ne.ISO88591=G.ISO8859_1.getName(),ne.EUC_JP="EUC_JP",ne.UTF8=G.UTF8.getName(),ne.PLATFORM_DEFAULT_ENCODING=ne.UTF8,ne.ASSUME_SHIFT_JIS=!1;class we{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ne.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,s){for(let o=r;r<r+s;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class ke{constructor(t,r,s,o){if(this.width=t,this.height=r,this.rowSize=s,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new S("Both dimensions must be greater than 0");s==null&&(s=Math.floor((t+31)/32)),this.rowSize=s,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,s=t[0].length,o=new ke(s,r);for(let l=0;l<r;l++){const u=t[l];for(let d=0;d<s;d++)u[d]&&o.set(d,l)}return o}static parseFromString(t,r,s){if(t===null)throw new S("stringRepresentation cannot be null");const o=new Array(t.length);let l=0,u=0,d=-1,h=0,p=0;for(;p<t.length;)if(t.charAt(p)===`
`||t.charAt(p)==="\r"){if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new S("row lengths do not match");u=l,h++}p++}else if(t.substring(p,p+r.length)===r)p+=r.length,o[l]=!0,l++;else if(t.substring(p,p+s.length)===s)p+=s.length,o[l]=!1,l++;else throw new S("illegal character encountered: "+t.substring(p));if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new S("row lengths do not match");h++}const w=new ke(d,h);for(let E=0;E<l;E++)o[E]&&w.set(Math.floor(E%d),Math.floor(E/d));return w}get(t,r){const s=r*this.rowSize+Math.floor(t/32);return(this.bits[s]>>>(t&31)&1)!==0}set(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]|=1<<(t&31)&4294967295}unset(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]&=~(1<<(t&31)&4294967295)}flip(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new S("input matrix dimensions do not match");const r=new j(Math.floor(this.width/32)+1),s=this.rowSize,o=this.bits;for(let l=0,u=this.height;l<u;l++){const d=l*s,h=t.getRow(l,r).getBitArray();for(let p=0;p<s;p++)o[d+p]^=h[p]}}clear(){const t=this.bits,r=t.length;for(let s=0;s<r;s++)t[s]=0}setRegion(t,r,s,o){if(r<0||t<0)throw new S("Left and top must be nonnegative");if(o<1||s<1)throw new S("Height and width must be at least 1");const l=t+s,u=r+o;if(u>this.height||l>this.width)throw new S("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let p=r;p<u;p++){const w=p*d;for(let E=t;E<l;E++)h[w+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new j(this.width):r.clear();const s=this.rowSize,o=this.bits,l=t*s;for(let u=0;u<s;u++)r.setBulk(u*32,o[l+u]);return r}setRow(t,r){L.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let s=new j(t),o=new j(t);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)s=this.getRow(l,s),o=this.getRow(r-1-l,o),s.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,s)}getEnclosingRectangle(){const t=this.width,r=this.height,s=this.rowSize,o=this.bits;let l=t,u=r,d=-1,h=-1;for(let p=0;p<r;p++)for(let w=0;w<s;w++){const E=o[p*s+w];if(E!==0){if(p<u&&(u=p),p>h&&(h=p),w*32<l){let A=0;for(;!(E<<31-A&4294967295);)A++;w*32+A<l&&(l=w*32+A)}if(w*32+31>d){let A=31;for(;!(E>>>A);)A--;w*32+A>d&&(d=w*32+A)}}}return d<l||h<u?null:Int32Array.from([l,u,d-l+1,h-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let s=0;for(;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;const o=s/t;let l=s%t*32;const u=r[s];let d=0;for(;!(u<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let s=r.length-1;for(;s>=0&&r[s]===0;)s--;if(s<0)return null;const o=Math.floor(s/t);let l=Math.floor(s%t)*32;const u=r[s];let d=31;for(;!(u>>>d);)d--;return l+=d,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof ke))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&N.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+N.hashCode(this.bits),t}toString(t="X ",r="  ",s=`
`){return this.buildToString(t,r,s)}buildToString(t,r,s){let o=new we;for(let l=0,u=this.height;l<u;l++){for(let d=0,h=this.width;d<h;d++)o.append(this.get(d,l)?t:r);o.append(s)}return o.toString()}clone(){return new ke(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends x{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class Qe extends V{constructor(t){super(t),this.luminances=Qe.EMPTY,this.buckets=new Int32Array(Qe.LUMINANCE_BUCKETS)}getBlackRow(t,r){const s=this.getLuminanceSource(),o=s.getWidth();r==null||r.getSize()<o?r=new j(o):r.clear(),this.initArrays(o);const l=s.getRow(t,this.luminances),u=this.buckets;for(let h=0;h<o;h++)u[(l[h]&255)>>Qe.LUMINANCE_SHIFT]++;const d=Qe.estimateBlackPoint(u);if(o<3)for(let h=0;h<o;h++)(l[h]&255)<d&&r.set(h);else{let h=l[0]&255,p=l[1]&255;for(let w=1;w<o-1;w++){const E=l[w+1]&255;(p*4-h-E)/2<d&&r.set(w),h=p,p=E}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight(),o=new ke(r,s);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(s*h/5),w=t.getRow(p,this.luminances),E=Math.floor(r*4/5);for(let A=Math.floor(r/5);A<E;A++){const T=w[A]&255;l[T>>Qe.LUMINANCE_SHIFT]++}}const u=Qe.estimateBlackPoint(l),d=t.getMatrix();for(let h=0;h<s;h++){const p=h*r;for(let w=0;w<r;w++)(d[p+w]&255)<u&&o.set(w,h)}return o}createBinarizer(t){return new Qe(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let s=0;s<Qe.LUMINANCE_BUCKETS;s++)r[s]=0}static estimateBlackPoint(t){const r=t.length;let s=0,o=0,l=0;for(let w=0;w<r;w++)t[w]>l&&(o=w,l=t[w]),t[w]>s&&(s=t[w]);let u=0,d=0;for(let w=0;w<r;w++){const E=w-o,A=t[w]*E*E;A>d&&(u=w,d=A)}if(o>u){const w=o;o=u,u=w}if(u-o<=r/16)throw new Y;let h=u-1,p=-1;for(let w=u-1;w>o;w--){const E=w-o,A=E*E*(u-w)*(s-t[w]);A>p&&(h=w,p=A)}return h<<Qe.LUMINANCE_SHIFT}}Qe.LUMINANCE_BITS=5,Qe.LUMINANCE_SHIFT=8-Qe.LUMINANCE_BITS,Qe.LUMINANCE_BUCKETS=1<<Qe.LUMINANCE_BITS,Qe.EMPTY=Uint8ClampedArray.from([0]);class me extends Qe{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight();if(r>=me.MINIMUM_DIMENSION&&s>=me.MINIMUM_DIMENSION){const o=t.getMatrix();let l=r>>me.BLOCK_SIZE_POWER;r&me.BLOCK_SIZE_MASK&&l++;let u=s>>me.BLOCK_SIZE_POWER;s&me.BLOCK_SIZE_MASK&&u++;const d=me.calculateBlackPoints(o,l,u,r,s),h=new ke(r,s);me.calculateThresholdForBlock(o,l,u,r,s,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new me(t)}static calculateThresholdForBlock(t,r,s,o,l,u,d){const h=l-me.BLOCK_SIZE,p=o-me.BLOCK_SIZE;for(let w=0;w<s;w++){let E=w<<me.BLOCK_SIZE_POWER;E>h&&(E=h);const A=me.cap(w,2,s-3);for(let T=0;T<r;T++){let O=T<<me.BLOCK_SIZE_POWER;O>p&&(O=p);const D=me.cap(T,2,r-3);let k=0;for(let $=-2;$<=2;$++){const ee=u[A+$];k+=ee[D-2]+ee[D-1]+ee[D]+ee[D+1]+ee[D+2]}const H=k/25;me.thresholdBlock(t,O,E,H,o,d)}}}static cap(t,r,s){return t<r?r:t>s?s:t}static thresholdBlock(t,r,s,o,l,u){for(let d=0,h=s*l+r;d<me.BLOCK_SIZE;d++,h+=l)for(let p=0;p<me.BLOCK_SIZE;p++)(t[h+p]&255)<=o&&u.set(r+p,s+d)}static calculateBlackPoints(t,r,s,o,l){const u=l-me.BLOCK_SIZE,d=o-me.BLOCK_SIZE,h=new Array(s);for(let p=0;p<s;p++){h[p]=new Int32Array(r);let w=p<<me.BLOCK_SIZE_POWER;w>u&&(w=u);for(let E=0;E<r;E++){let A=E<<me.BLOCK_SIZE_POWER;A>d&&(A=d);let T=0,O=255,D=0;for(let H=0,$=w*o+A;H<me.BLOCK_SIZE;H++,$+=o){for(let ee=0;ee<me.BLOCK_SIZE;ee++){const K=t[$+ee]&255;T+=K,K<O&&(O=K),K>D&&(D=K)}if(D-O>me.MIN_DYNAMIC_RANGE)for(H++,$+=o;H<me.BLOCK_SIZE;H++,$+=o)for(let ee=0;ee<me.BLOCK_SIZE;ee++)T+=t[$+ee]&255}let k=T>>me.BLOCK_SIZE_POWER*2;if(D-O<=me.MIN_DYNAMIC_RANGE&&(k=O/2,p>0&&E>0)){const H=(h[p-1][E]+2*h[p][E-1]+h[p-1][E-1])/4;O<H&&(k=H)}h[p][E]=k}}return h}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class re{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,s,o){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new we;for(let s=0;s<this.height;s++){const o=this.getRow(s,t);for(let l=0;l<this.width;l++){const u=o[l]&255;let d;u<64?d="#":u<128?d="+":u<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class he extends re{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const s=this.delegate.getRow(t,r),o=this.getWidth();for(let l=0;l<o;l++)s[l]=255-(s[l]&255);return s}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(r);for(let o=0;o<r;o++)s[o]=255-(t[o]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,s,o){return new he(this.delegate.crop(t,r,s,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new he(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new he(this.delegate.rotateCounterClockwise45())}}class pe extends re{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return pe.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,s){const o=new Uint8ClampedArray(r*s);for(let l=0,u=0,d=t.length;l<d;l+=4,u++){let h;if(t[l+3]===0)h=255;else{const w=t[l],E=t[l+1],A=t[l+2];h=306*w+601*E+117*A+512>>10}o[u]=h}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const s=this.getWidth(),o=t*s;return r===null?r=this.buffer.slice(o,o+s):(r.length<s&&(r=new Uint8ClampedArray(s)),r.set(this.buffer.slice(o,o+s))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,s,o){return super.crop(t,r,s,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),s=r.getContext("2d"),o=t*pe.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*u),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*u);return r.width=d,r.height=h,s.translate(d/2,h/2),s.rotate(o),s.drawImage(this.canvas,l/-2,u/-2),this.buffer=pe.makeBufferFromCanvasImageData(r),this}invert(){return new he(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Pe{constructor(t,r,s){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ae=(globalThis||ls||self||window||void 0)&&(globalThis||ls||self||window||void 0).__awaiter||function(C,t,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(w){try{p(s.next(w))}catch(E){u(E)}}function h(w){try{p(s.throw(w))}catch(E){u(E)}}function p(w){w.done?l(w.value):o(w.value).then(d,h)}p((s=s.apply(C,t||[])).next())})};class fn{constructor(t,r=500,s){this.reader=t,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const s of t){const o=s.kind==="video"?"videoinput":s.kind;if(o!=="videoinput")continue;const l=s.deviceId||s.id,u=s.label||`Video device ${r.length+1}`,d=s.groupId,h={deviceId:l,label:u,kind:o,groupId:d};r.push(h)}return r})}getVideoInputDevices(){return Ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Pe(r.deviceId,r.label))})}findDeviceById(t){return Ae(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(s=>s.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return Ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return Ae(this,void 0,void 0,function*(){this.reset();let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return Ae(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(s,r)})}decodeOnceFromStream(t,r){return Ae(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(t,r,s){return Ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,s)})}decodeFromVideoDevice(t,r,s){return Ae(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,s)})}decodeFromConstraints(t,r,s){return Ae(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,s)})}decodeFromStream(t,r,s){return Ae(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return Ae(this,void 0,void 0,function*(){const s=this.prepareVideoElement(r);return this.addVideoSource(s,t),this.videoElement=s,this.stream=t,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(t){return new Promise((r,s)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const s=document.getElementById(t);if(!s)throw new I(`element with id '${t}' not found`);if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new I(`element with id '${t}' must be an ${r} element`);return s}decodeFromImage(t,r){if(!t&&!r)throw new I("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new I("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,s){if(t===void 0&&r===void 0)throw new I("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(t,s)}decodeFromImageElement(t){if(!t)throw new I("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const s=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(s,r)}_decodeFromVideoElementSetup(t){if(!t)throw new I("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const s=this._decodeOnLoadImage(r);return r.src=t,s}decodeFromVideoUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=t,s}decodeFromVideoUrlContinuously(t,r){if(!t)throw new I("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(s,r);return s.src=t,o}_decodeOnLoadImage(t){return new Promise((r,s)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,s),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return Ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,s=!0){this._stopAsyncDecode=!1;const o=(l,u)=>{if(this._stopAsyncDecode){u(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(t);l(d)}catch(d){const h=r&&d instanceof Y,w=(d instanceof b||d instanceof U)&&s;if(h||w)return setTimeout(o,this._timeBetweenDecodingAttempts,l,u);u(d)}};return new Promise((l,u)=>o(l,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(s,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof b||o instanceof U,u=o instanceof Y;(l||u)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,s){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,s=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),s=new pe(r),o=new me(s);return new R(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let s,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(s=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(s=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=s+"px",r.style.height=o+"px",r.width=s,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Je{constructor(t,r,s=r==null?0:8*r.length,o,l,u=L.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=s,this.resultPoints=o,this.format=l,this.timestamp=u,this.text=t,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=o,this.format=l,this.resultMetadata=null,u==null?this.timestamp=L.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const s=new Array(r.length+t.length);L.arraycopy(r,0,s,0,r.length),L.arraycopy(t,0,s,r.length,t.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ur;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ur||(Ur={}));var ue=Ur,ur;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ur||(ur={}));var mt=ur;class Ki{constructor(t,r,s,o,l=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=s,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class qi{exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class zt{constructor(t,r){if(r.length===0)throw new S;this.field=t;const s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-o),L.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let s;if(t===1){s=0;for(let u=0,d=r.length;u!==d;u++){const h=r[u];s=qi.addOrSubtract(s,h)}return s}s=r[0];const o=r.length,l=this.field;for(let u=1;u<o;u++)s=qi.addOrSubtract(l.multiply(t,s),r[u]);return s}addOrSubtract(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){const u=r;r=s,s=u}let o=new Int32Array(s.length);const l=s.length-r.length;L.arraycopy(s,0,o,0,l);for(let u=l;u<s.length;u++)o[u]=qi.addOrSubtract(r[u-l],s[u]);return new zt(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,u=new Int32Array(s+l-1),d=this.field;for(let h=0;h<s;h++){const p=r[h];for(let w=0;w<l;w++)u[h+w]=qi.addOrSubtract(u[h+w],d.multiply(p,o[w]))}return new zt(d,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,s=this.field,o=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)o[u]=s.multiply(l[u],t);return new zt(s,o)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return this.field.getZero();const s=this.coefficients,o=s.length,l=new Int32Array(o+t),u=this.field;for(let d=0;d<o;d++)l[d]=u.multiply(s[d],r);return new zt(u,l)}divide(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new S("Divide by 0");const r=this.field;let s=r.getZero(),o=this;const l=t.getCoefficient(t.getDegree()),u=r.inverse(l);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const d=o.getDegree()-t.getDegree(),h=r.multiply(o.getCoefficient(o.getDegree()),u),p=t.multiplyByMonomial(d,h),w=r.buildMonomial(d,h);s=s.addOrSubtract(w),o=o.addOrSubtract(p)}return[s,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);if(s!==0){if(s<0?(t+=" - ",s=-s):t.length>0&&(t+=" + "),r===0||s!==1){const o=this.field.log(s);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class io extends x{}io.kind="ArithmeticException";class Me extends qi{constructor(t,r,s){super(),this.primitive=t,this.size=r,this.generatorBase=s;const o=new Int32Array(r);let l=1;for(let d=0;d<r;d++)o[d]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=o;const u=new Int32Array(r);for(let d=0;d<r-1;d++)u[o[d]]=d;this.logTable=u,this.zero=new zt(this,Int32Array.from([0])),this.one=new zt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;const s=new Int32Array(t+1);return s[0]=r,new zt(this,s)}inverse(t){if(t===0)throw new io;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Me.AZTEC_DATA_12=new Me(4201,4096,1),Me.AZTEC_DATA_10=new Me(1033,1024,1),Me.AZTEC_DATA_6=new Me(67,64,1),Me.AZTEC_PARAM=new Me(19,16,1),Me.QR_CODE_FIELD_256=new Me(285,256,0),Me.DATA_MATRIX_FIELD_256=new Me(301,256,1),Me.AZTEC_DATA_8=Me.DATA_MATRIX_FIELD_256,Me.MAXICODE_FIELD_64=Me.AZTEC_DATA_6;class li extends x{}li.kind="ReedSolomonException";class bn extends x{}bn.kind="IllegalStateException";class Ji{constructor(t){this.field=t}decode(t,r){const s=this.field,o=new zt(s,t),l=new Int32Array(r);let u=!0;for(let T=0;T<r;T++){const O=o.evaluateAt(s.exp(T+s.getGeneratorBase()));l[l.length-1-T]=O,O!==0&&(u=!1)}if(u)return;const d=new zt(s,l),h=this.runEuclideanAlgorithm(s.buildMonomial(r,1),d,r),p=h[0],w=h[1],E=this.findErrorLocations(p),A=this.findErrorMagnitudes(w,E);for(let T=0;T<E.length;T++){const O=t.length-1-s.log(E[T]);if(O<0)throw new li("Bad error location");t[O]=Me.addOrSubtract(t[O],A[T])}}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){const T=t;t=r,r=T}const o=this.field;let l=t,u=r,d=o.getZero(),h=o.getOne();for(;u.getDegree()>=(s/2|0);){let T=l,O=d;if(l=u,d=h,l.isZero())throw new li("r_{i-1} was zero");u=T;let D=o.getZero();const k=l.getCoefficient(l.getDegree()),H=o.inverse(k);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const $=u.getDegree()-l.getDegree(),ee=o.multiply(u.getCoefficient(u.getDegree()),H);D=D.addOrSubtract(o.buildMonomial($,ee)),u=u.addOrSubtract(l.multiplyByMonomial($,ee))}if(h=D.multiply(d).addOrSubtract(O),u.getDegree()>=l.getDegree())throw new bn("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new li("sigmaTilde(0) was zero");const w=o.inverse(p),E=h.multiplyScalar(w),A=u.multiplyScalar(w);return[E,A]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const s=new Int32Array(r);let o=0;const l=this.field;for(let u=1;u<l.getSize()&&o<r;u++)t.evaluateAt(u)===0&&(s[o]=l.inverse(u),o++);if(o!==r)throw new li("Error locator degree does not match number of roots");return s}findErrorMagnitudes(t,r){const s=r.length,o=new Int32Array(s),l=this.field;for(let u=0;u<s;u++){const d=l.inverse(r[u]);let h=1;for(let p=0;p<s;p++)if(u!==p){const w=l.multiply(r[p],d),E=w&1?w&-2:w|1;h=l.multiply(h,E)}o[u]=l.multiply(t.evaluateAt(d),l.inverse(h)),l.getGeneratorBase()!==0&&(o[u]=l.multiply(o[u],d))}return o}}var At;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(At||(At={}));class ze{decode(t){this.ddata=t;let r=t.getBits(),s=this.extractBits(r),o=this.correctBits(s),l=ze.convertBoolArrayToByteArray(o),u=ze.getEncodedData(o),d=new Ki(l,u,null,null);return d.setNumBits(o.length),d}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,s=At.UPPER,o=At.UPPER,l="",u=0;for(;u<r;)if(o===At.BINARY){if(r-u<5)break;let d=ze.readCode(t,u,5);if(u+=5,d===0){if(r-u<11)break;d=ze.readCode(t,u,11)+31,u+=11}for(let h=0;h<d;h++){if(r-u<8){u=r;break}const p=ze.readCode(t,u,8);l+=ne.castAsNonUtf8Char(p),u+=8}o=s}else{let d=o===At.DIGIT?4:5;if(r-u<d)break;let h=ze.readCode(t,u,d);u+=d;let p=ze.getCharacter(o,h);p.startsWith("CTRL_")?(s=o,o=ze.getTable(p.charAt(5)),p.charAt(6)==="L"&&(s=o)):(l+=p,o=s)}return l}static getTable(t){switch(t){case"L":return At.LOWER;case"P":return At.PUNCT;case"M":return At.MIXED;case"D":return At.DIGIT;case"B":return At.BINARY;case"U":default:return At.UPPER}}static getCharacter(t,r){switch(t){case At.UPPER:return ze.UPPER_TABLE[r];case At.LOWER:return ze.LOWER_TABLE[r];case At.MIXED:return ze.MIXED_TABLE[r];case At.PUNCT:return ze.PUNCT_TABLE[r];case At.DIGIT:return ze.DIGIT_TABLE[r];default:throw new bn("Bad table")}}correctBits(t){let r,s;this.ddata.getNbLayers()<=2?(s=6,r=Me.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=Me.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=Me.AZTEC_DATA_10):(s=12,r=Me.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=t.length/s;if(l<o)throw new U;let u=t.length%s,d=new Int32Array(l);for(let A=0;A<l;A++,u+=s)d[A]=ze.readCode(t,u,s);try{new Ji(r).decode(d,l-o)}catch(A){throw new U(A)}let h=(1<<s)-1,p=0;for(let A=0;A<o;A++){let T=d[A];if(T===0||T===h)throw new U;(T===1||T===h-1)&&p++}let w=new Array(o*s-p),E=0;for(let A=0;A<o;A++){let T=d[A];if(T===1||T===h-1)w.fill(T>1,E,E+s-1),E+=s-1;else for(let O=s-1;O>=0;--O)w[E++]=(T&1<<O)!==0}return w}extractBits(t){let r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),o=(r?11:14)+s*4,l=new Int32Array(o),u=new Array(this.totalBitsInLayer(s,r));if(r)for(let d=0;d<l.length;d++)l[d]=d;else{let d=o+1+2*_.truncDivision(_.truncDivision(o,2)-1,15),h=o/2,p=_.truncDivision(d,2);for(let w=0;w<h;w++){let E=w+_.truncDivision(w,15);l[h-w-1]=p-E-1,l[h+w]=p+E+1}}for(let d=0,h=0;d<s;d++){let p=(s-d)*4+(r?9:12),w=d*2,E=o-1-w;for(let A=0;A<p;A++){let T=A*2;for(let O=0;O<2;O++)u[h+T+O]=t.get(l[w+O],l[w+A]),u[h+2*p+T+O]=t.get(l[w+A],l[E-O]),u[h+4*p+T+O]=t.get(l[E-O],l[E-A]),u[h+6*p+T+O]=t.get(l[E-A],l[w+O])}h+=p*8}return u}static readCode(t,r,s){let o=0;for(let l=r;l<r+s;l++)o<<=1,t[l]&&(o|=1);return o}static readByte(t,r){let s=t.length-r;return s>=8?ze.readCode(t,r,8):ze.readCode(t,r,s)<<8-s}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let s=0;s<r.length;s++)r[s]=ze.readByte(t,8*s);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Te{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,s,o){const l=t-s,u=r-o;return Math.sqrt(l*l+u*u)}static sum(t){let r=0;for(let s=0,o=t.length;s!==o;s++){const l=t[s];r+=l}return r}}class so{static floatToIntBits(t){return t}}so.MAX_VALUE=Number.MAX_SAFE_INTEGER;class le{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof le){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*so.floatToIntBits(this.x)+so.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),s=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let l,u,d;if(s>=r&&s>=o?(u=t[0],l=t[1],d=t[2]):o>=s&&o>=r?(u=t[1],l=t[0],d=t[2]):(u=t[2],l=t[0],d=t[1]),this.crossProductZ(l,u,d)<0){const h=l;l=d,d=h}t[0]=l,t[1]=u,t[2]=d}static distance(t,r){return Te.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,s){const o=r.x,l=r.y;return(s.x-o)*(t.y-l)-(s.y-l)*(t.x-o)}}class oo{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class zc extends oo{constructor(t,r,s,o,l){super(t,r),this.compact=s,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Qn{constructor(t,r,s,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Qn.INIT_SIZE),s==null&&(s=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let t=this.leftInit,r=this.rightInit,s=this.upInit,o=this.downInit,l=!1,u=!0,d=!1,h=!1,p=!1,w=!1,E=!1;const A=this.width,T=this.height;for(;u;){u=!1;let O=!0;for(;(O||!h)&&r<A;)O=this.containsBlackPoint(s,o,r,!1),O?(r++,u=!0,h=!0):h||r++;if(r>=A){l=!0;break}let D=!0;for(;(D||!p)&&o<T;)D=this.containsBlackPoint(t,r,o,!0),D?(o++,u=!0,p=!0):p||o++;if(o>=T){l=!0;break}let k=!0;for(;(k||!w)&&t>=0;)k=this.containsBlackPoint(s,o,t,!1),k?(t--,u=!0,w=!0):w||t--;if(t<0){l=!0;break}let H=!0;for(;(H||!E)&&s>=0;)H=this.containsBlackPoint(t,r,s,!0),H?(s--,u=!0,E=!0):E||s--;if(s<0){l=!0;break}u&&(d=!0)}if(!l&&d){const O=r-t;let D=null;for(let ee=1;D===null&&ee<O;ee++)D=this.getBlackPointOnSegment(t,o-ee,t+ee,o);if(D==null)throw new Y;let k=null;for(let ee=1;k===null&&ee<O;ee++)k=this.getBlackPointOnSegment(t,s+ee,t+ee,s);if(k==null)throw new Y;let H=null;for(let ee=1;H===null&&ee<O;ee++)H=this.getBlackPointOnSegment(r,s+ee,r-ee,s);if(H==null)throw new Y;let $=null;for(let ee=1;$===null&&ee<O;ee++)$=this.getBlackPointOnSegment(r,o-ee,r-ee,o);if($==null)throw new Y;return this.centerEdges($,D,H,k)}else throw new Y}getBlackPointOnSegment(t,r,s,o){const l=Te.round(Te.distance(t,r,s,o)),u=(s-t)/l,d=(o-r)/l,h=this.image;for(let p=0;p<l;p++){const w=Te.round(t+p*u),E=Te.round(r+p*d);if(h.get(w,E))return new le(w,E)}return null}centerEdges(t,r,s,o){const l=t.getX(),u=t.getY(),d=r.getX(),h=r.getY(),p=s.getX(),w=s.getY(),E=o.getX(),A=o.getY(),T=Qn.CORR;return l<this.width/2?[new le(E-T,A+T),new le(d+T,h+T),new le(p-T,w-T),new le(l+T,u-T)]:[new le(E+T,A+T),new le(d+T,h-T),new le(p-T,w+T),new le(l-T,u-T)]}containsBlackPoint(t,r,s,o){const l=this.image;if(o){for(let u=t;u<=r;u++)if(l.get(u,s))return!0}else for(let u=t;u<=r;u++)if(l.get(s,u))return!0;return!1}}Qn.INIT_SIZE=10,Qn.CORR=1;class Wa{static checkAndNudgePoints(t,r){const s=t.getWidth(),o=t.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>s||h<-1||h>o)throw new Y;l=!1,d===-1?(r[u]=0,l=!0):d===s&&(r[u]=s-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>s||h<-1||h>o)throw new Y;l=!1,d===-1?(r[u]=0,l=!0):d===s&&(r[u]=s-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}}}class An{constructor(t,r,s,o,l,u,d,h,p){this.a11=t,this.a21=r,this.a31=s,this.a12=o,this.a22=l,this.a32=u,this.a13=d,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(t,r,s,o,l,u,d,h,p,w,E,A,T,O,D,k){const H=An.quadrilateralToSquare(t,r,s,o,l,u,d,h);return An.squareToQuadrilateral(p,w,E,A,T,O,D,k).times(H)}transformPoints(t){const r=t.length,s=this.a11,o=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,w=this.a32,E=this.a33;for(let A=0;A<r;A+=2){const T=t[A],O=t[A+1],D=l*T+h*O+E;t[A]=(s*T+u*O+p)/D,t[A+1]=(o*T+d*O+w)/D}}transformPointsWithValues(t,r){const s=this.a11,o=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,w=this.a32,E=this.a33,A=t.length;for(let T=0;T<A;T++){const O=t[T],D=r[T],k=l*O+h*D+E;t[T]=(s*O+u*D+p)/k,r[T]=(o*O+d*D+w)/k}}static squareToQuadrilateral(t,r,s,o,l,u,d,h){const p=t-s+l-d,w=r-o+u-h;if(p===0&&w===0)return new An(s-t,l-s,t,o-r,u-o,r,0,0,1);{const E=s-l,A=d-l,T=o-u,O=h-u,D=E*O-A*T,k=(p*O-A*w)/D,H=(E*w-p*T)/D;return new An(s-t+k*s,d-t+H*d,t,o-r+k*o,h-r+H*h,r,k,H,1)}}static quadrilateralToSquare(t,r,s,o,l,u,d,h){return An.squareToQuadrilateral(t,r,s,o,l,u,d,h).buildAdjoint()}buildAdjoint(){return new An(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new An(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Hc extends Wa{sampleGrid(t,r,s,o,l,u,d,h,p,w,E,A,T,O,D,k,H,$,ee){const K=An.quadrilateralToQuadrilateral(o,l,u,d,h,p,w,E,A,T,O,D,k,H,$,ee);return this.sampleGridWithTransform(t,r,s,K)}sampleGridWithTransform(t,r,s,o){if(r<=0||s<=0)throw new Y;const l=new ke(r,s),u=new Float32Array(2*r);for(let d=0;d<s;d++){const h=u.length,p=d+.5;for(let w=0;w<h;w+=2)u[w]=w/2+.5,u[w+1]=p;o.transformPoints(u),Wa.checkAndNudgePoints(t,u);try{for(let w=0;w<h;w+=2)t.get(Math.floor(u[w]),Math.floor(u[w+1]))&&l.set(w/2,d)}catch{throw new Y}}return l}}class cr{static setGridSampler(t){cr.gridSampler=t}static getInstance(){return cr.gridSampler}}cr.gridSampler=new Hc;class kt{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new le(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Vc{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(t){let u=s[0];s[0]=s[2],s[2]=u}this.extractParameters(s);let o=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new zc(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Y;let r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(s,r);let o=0;for(let u=0;u<4;u++){let d=s[(this.shift+u)%4];this.compact?(o<<=7,o+=d>>1&127):(o<<=10,o+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let s=0;t.forEach((o,l,u)=>{let d=(o>>r-2<<1)+(o&1);s=(s<<3)+d}),s=((s&1)<<11)+(s>>1);for(let o=0;o<4;o++)if(_.bitCount(s^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new Y}getCorrectedParameterData(t,r){let s,o;r?(s=7,o=2):(s=10,o=4);let l=s-o,u=new Int32Array(s);for(let h=s-1;h>=0;--h)u[h]=t&15,t>>=4;try{new Ji(Me.AZTEC_PARAM).decode(u,l)}catch{throw new Y}let d=0;for(let h=0;h<o;h++)d=(d<<4)+u[h];return d}getBullsEyeCorners(t){let r=t,s=t,o=t,l=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(r,u,1,-1),A=this.getFirstDifferent(s,u,1,1),T=this.getFirstDifferent(o,u,-1,1),O=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let D=this.distancePoint(O,E)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(D<.75||D>1.25||!this.isWhiteOrBlackRectangle(E,A,T,O))break}r=E,s=A,o=T,l=O,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let d=new le(r.getX()+.5,r.getY()-.5),h=new le(s.getX()+.5,s.getY()+.5),p=new le(o.getX()-.5,o.getY()+.5),w=new le(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,h,p,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,s,o;try{let d=new Qn(this.image).detect();t=d[0],r=d[1],s=d[2],o=d[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;t=this.getFirstDifferent(new kt(h+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(h+7,p+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new kt(h-7,p+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new kt(h-7,p-7),!1,-1,-1).toResultPoint()}let l=Te.round((t.getX()+o.getX()+r.getX()+s.getX())/4),u=Te.round((t.getY()+o.getY()+r.getY()+s.getY())/4);try{let d=new Qn(this.image,15,l,u).detect();t=d[0],r=d[1],s=d[2],o=d[3]}catch{t=this.getFirstDifferent(new kt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(l+7,u+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new kt(l-7,u+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new kt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Te.round((t.getX()+o.getX()+r.getX()+s.getX())/4),u=Te.round((t.getY()+o.getY()+r.getY()+s.getY())/4),new kt(l,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,s,o,l){let u=cr.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return u.sampleGrid(t,d,d,h,h,p,h,p,p,h,p,r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(t,r,s){let o=0,l=this.distanceResultPoint(t,r),u=l/s,d=t.getX(),h=t.getY(),p=u*(r.getX()-t.getX())/l,w=u*(r.getY()-t.getY())/l;for(let E=0;E<s;E++)this.image.get(Te.round(d+E*p),Te.round(h+E*w))&&(o|=1<<s-E-1);return o}isWhiteOrBlackRectangle(t,r,s,o){let l=3;t=new kt(t.getX()-l,t.getY()+l),r=new kt(r.getX()-l,r.getY()-l),s=new kt(s.getX()+l,s.getY()-l),o=new kt(o.getX()+l,o.getY()+l);let u=this.getColor(o,t);if(u===0)return!1;let d=this.getColor(t,r);return d!==u||(d=this.getColor(r,s),d!==u)?!1:(d=this.getColor(s,o),d===u)}getColor(t,r){let s=this.distancePoint(t,r),o=(r.getX()-t.getX())/s,l=(r.getY()-t.getY())/s,u=0,d=t.getX(),h=t.getY(),p=this.image.get(t.getX(),t.getY()),w=Math.ceil(s);for(let A=0;A<w;A++)d+=o,h+=l,this.image.get(Te.round(d),Te.round(h))!==p&&u++;let E=u/s;return E>.1&&E<.9?0:E<=.1===p?1:-1}getFirstDifferent(t,r,s,o){let l=t.getX()+s,u=t.getY()+o;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=s,u+=o;for(l-=s,u-=o;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=s;for(l-=s;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=o;return u-=o,new kt(l,u)}expandSquare(t,r,s){let o=s/(2*r),l=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),d=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,p=new le(d+o*l,h+o*u),w=new le(d-o*l,h-o*u);l=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),d=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let E=new le(d+o*l,h+o*u),A=new le(d-o*l,h-o*u);return[p,E,w,A]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Te.round(t.getX()),s=Te.round(t.getY());return this.isValid(r,s)}distancePoint(t,r){return Te.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Te.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class ao{decode(t,r=null){let s=null,o=new Vc(t.getBlackMatrix()),l=null,u=null;try{let w=o.detectMirror(!1);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new ze().decode(w)}catch(w){s=w}if(u==null)try{let w=o.detectMirror(!0);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new ze().decode(w)}catch(w){throw s??w}let d=new Je(u.getText(),u.getRawBytes(),u.getNumBits(),l,ue.AZTEC,L.currentTimeMillis()),h=u.getByteSegments();h!=null&&d.putMetadata(mt.BYTE_SEGMENTS,h);let p=u.getECLevel();return p!=null&&d.putMetadata(mt.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(t,r){if(t!=null){let s=t.get(Z.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach((o,l,u)=>{s.foundPossibleResultPoint(o)})}}reset(){}}class Mh extends fn{constructor(t=500){super(new ao,t)}}class ct{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(Z.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),u=this.doDecode(l,r),d=u.getResultMetadata();let h=270;d!==null&&d.get(mt.ORIENTATION)===!0&&(h=h+d.get(mt.ORIENTATION)%360),u.putMetadata(mt.ORIENTATION,h);const p=u.getResultPoints();if(p!==null){const w=l.getHeight();for(let E=0;E<p.length;E++)p[E]=new le(w-p[E].getY()-1,p[E].getX())}return u}else throw new Y}}reset(){}doDecode(t,r){const s=t.getWidth(),o=t.getHeight();let l=new j(s);const u=r&&r.get(Z.TRY_HARDER)===!0,d=Math.max(1,o>>(u?8:5));let h;u?h=o:h=15;const p=Math.trunc(o/2);for(let w=0;w<h;w++){const E=Math.trunc((w+1)/2),A=(w&1)===0,T=p+d*(A?E:-E);if(T<0||T>=o)break;try{l=t.getBlackRow(T,l)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(l.reverse(),r&&r.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const D=new Map;r.forEach((k,H)=>D.set(H,k)),D.delete(Z.NEED_RESULT_POINT_CALLBACK),r=D}try{const D=this.decodeRow(T,l,r);if(O===1){D.putMetadata(mt.ORIENTATION,180);const k=D.getResultPoints();k!==null&&(k[0]=new le(s-k[0].getX()-1,k[0].getY()),k[1]=new le(s-k[1].getX()-1,k[1].getY()))}return D}catch{}}}throw new Y}static recordPattern(t,r,s){const o=s.length;for(let p=0;p<o;p++)s[p]=0;const l=t.getSize();if(r>=l)throw new Y;let u=!t.get(r),d=0,h=r;for(;h<l;){if(t.get(h)!==u)s[d]++;else{if(++d===o)break;s[d]=1,u=!u}h++}if(!(d===o||d===o-1&&h===l))throw new Y}static recordPatternInReverse(t,r,s){let o=s.length,l=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new Y;ct.recordPattern(t,r+1,s)}static patternMatchVariance(t,r,s){const o=t.length;let l=0,u=0;for(let p=0;p<o;p++)l+=t[p],u+=r[p];if(l<u)return Number.POSITIVE_INFINITY;const d=l/u;s*=d;let h=0;for(let p=0;p<o;p++){const w=t[p],E=r[p]*d,A=w>E?w-E:E-w;if(A>s)return Number.POSITIVE_INFINITY;h+=A}return h/l}}class te extends ct{static findStartPattern(t){const r=t.getSize(),s=t.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),u=s,d=!1;const h=6;for(let p=s;p<r;p++)if(t.get(p)!==d)l[o]++;else{if(o===h-1){let w=te.MAX_AVG_VARIANCE,E=-1;for(let A=te.CODE_START_A;A<=te.CODE_START_C;A++){const T=ct.patternMatchVariance(l,te.CODE_PATTERNS[A],te.MAX_INDIVIDUAL_VARIANCE);T<w&&(w=T,E=A)}if(E>=0&&t.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,E]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,d=!d}throw new Y}static decodeCode(t,r,s){ct.recordPattern(t,s,r);let o=te.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<te.CODE_PATTERNS.length;u++){const d=te.CODE_PATTERNS[u],h=this.patternMatchVariance(r,d,te.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=u)}if(l>=0)return l;throw new Y}decodeRow(t,r,s){const o=s&&s.get(Z.ASSUME_GS1)===!0,l=te.findStartPattern(r),u=l[2];let d=0;const h=new Uint8Array(20);h[d++]=u;let p;switch(u){case te.CODE_START_A:p=te.CODE_CODE_A;break;case te.CODE_START_B:p=te.CODE_CODE_B;break;case te.CODE_START_C:p=te.CODE_CODE_C;break;default:throw new U}let w=!1,E=!1,A="",T=l[0],O=l[1];const D=Int32Array.from([0,0,0,0,0,0]);let k=0,H=0,$=u,ee=0,K=!0,Ie=!1,ye=!1;for(;!w;){const mi=E;switch(E=!1,k=H,H=te.decodeCode(r,D,O),h[d++]=H,H!==te.CODE_STOP&&(K=!0),H!==te.CODE_STOP&&(ee++,$+=ee*H),T=O,O+=D.reduce((ig,sg)=>ig+sg,0),H){case te.CODE_START_A:case te.CODE_START_B:case te.CODE_START_C:throw new U}switch(p){case te.CODE_CODE_A:if(H<64)ye===Ie?A+=String.fromCharCode(32+H):A+=String.fromCharCode(32+H+128),ye=!1;else if(H<96)ye===Ie?A+=String.fromCharCode(H-64):A+=String.fromCharCode(H+64),ye=!1;else switch(H!==te.CODE_STOP&&(K=!1),H){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_A:!Ie&&ye?(Ie=!0,ye=!1):Ie&&ye?(Ie=!1,ye=!1):ye=!0;break;case te.CODE_SHIFT:E=!0,p=te.CODE_CODE_B;break;case te.CODE_CODE_B:p=te.CODE_CODE_B;break;case te.CODE_CODE_C:p=te.CODE_CODE_C;break;case te.CODE_STOP:w=!0;break}break;case te.CODE_CODE_B:if(H<96)ye===Ie?A+=String.fromCharCode(32+H):A+=String.fromCharCode(32+H+128),ye=!1;else switch(H!==te.CODE_STOP&&(K=!1),H){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_B:!Ie&&ye?(Ie=!0,ye=!1):Ie&&ye?(Ie=!1,ye=!1):ye=!0;break;case te.CODE_SHIFT:E=!0,p=te.CODE_CODE_A;break;case te.CODE_CODE_A:p=te.CODE_CODE_A;break;case te.CODE_CODE_C:p=te.CODE_CODE_C;break;case te.CODE_STOP:w=!0;break}break;case te.CODE_CODE_C:if(H<100)H<10&&(A+="0"),A+=H;else switch(H!==te.CODE_STOP&&(K=!1),H){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_CODE_A:p=te.CODE_CODE_A;break;case te.CODE_CODE_B:p=te.CODE_CODE_B;break;case te.CODE_STOP:w=!0;break}break}mi&&(p=p===te.CODE_CODE_A?te.CODE_CODE_B:te.CODE_CODE_A)}const Gt=O-T;if(O=r.getNextUnset(O),!r.isRange(O,Math.min(r.getSize(),O+(O-T)/2),!1))throw new Y;if($-=ee*k,$%103!==k)throw new b;const In=A.length;if(In===0)throw new Y;In>0&&K&&(p===te.CODE_CODE_C?A=A.substring(0,In-2):A=A.substring(0,In-1));const Yt=(l[1]+l[0])/2,je=T+Gt/2,vt=h.length,Jt=new Uint8Array(vt);for(let mi=0;mi<vt;mi++)Jt[mi]=h[mi];const xi=[new le(Yt,t),new le(je,t)];return new Je(A,Jt,0,xi,ue.CODE_128,new Date().getTime())}}te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],te.MAX_AVG_VARIANCE=.25,te.MAX_INDIVIDUAL_VARIANCE=.7,te.CODE_SHIFT=98,te.CODE_CODE_C=99,te.CODE_CODE_B=100,te.CODE_CODE_A=101,te.CODE_FNC_1=102,te.CODE_FNC_2=97,te.CODE_FNC_3=96,te.CODE_FNC_4_A=101,te.CODE_FNC_4_B=100,te.CODE_START_A=103,te.CODE_START_B=104,te.CODE_START_C=105,te.CODE_STOP=106;class dt extends ct{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,s){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=dt.findAsteriskPattern(r,o),u=r.getNextSet(l[1]),d=r.getSize(),h,p;do{dt.recordPattern(r,u,o);let D=dt.toNarrowWidePattern(o);if(D<0)throw new Y;h=dt.patternToChar(D),this.decodeRowResult+=h,p=u;for(let k of o)u+=k;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let D of o)w+=D;let E=u-p-w;if(u!==d&&E*2<w)throw new Y;if(this.usingCheckDigit){let D=this.decodeRowResult.length-1,k=0;for(let H=0;H<D;H++)k+=dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(H));if(this.decodeRowResult.charAt(D)!==dt.ALPHABET_STRING.charAt(k%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new Y;let A;this.extendedMode?A=dt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let T=(l[1]+l[0])/2,O=p+w/2;return new Je(A,null,0,[new le(T,t),new le(O,t)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let s=t.getSize(),o=t.getNextSet(0),l=0,u=o,d=!1,h=r.length;for(let p=o;p<s;p++)if(t.get(p)!==d)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===dt.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new Y}static toNarrowWidePattern(t){let r=t.length,s=0,o;do{let l=2147483647;for(let h of t)h<l&&h>s&&(l=h);s=l,o=0;let u=0,d=0;for(let h=0;h<r;h++){let p=t[h];p>s&&(d|=1<<r-1-h,o++,u+=p)}if(o===3){for(let h=0;h<r&&o>0;h++){let p=t[h];if(p>s&&(o--,p*2>=u))return-1}return d}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<dt.CHARACTER_ENCODINGS.length;r++)if(dt.CHARACTER_ENCODINGS[r]===t)return dt.ALPHABET_STRING.charAt(r);if(t===dt.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(t){let r=t.length,s="";for(let o=0;o<r;o++){let l=t.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=t.charAt(o+1),d="\0";switch(l){case"+":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new U;break;case"$":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new U;break;case"%":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u==="X"||u==="Y"||u==="Z")d="";else throw new U;break;case"/":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new U;break}s+=d,o++}else s+=l}return s}}dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],dt.ASTERISK_ENCODING=148;class Fe extends ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,s){let o=this.decodeStart(r),l=this.decodeEnd(r),u=new we;Fe.decodeMiddle(r,o[1],l[0],u);let d=u.toString(),h=null;s!=null&&(h=s.get(Z.ALLOWED_LENGTHS)),h==null&&(h=Fe.DEFAULT_ALLOWED_LENGTHS);let p=d.length,w=!1,E=0;for(let O of h){if(p===O){w=!0;break}O>E&&(E=O)}if(!w&&p>E&&(w=!0),!w)throw new U;const A=[new le(o[1],t),new le(l[0],t)];return new Je(d,null,0,A,ue.ITF,new Date().getTime())}static decodeMiddle(t,r,s,o){let l=new Int32Array(10),u=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),u.fill(0),d.fill(0);r<s;){ct.recordPattern(t,r,l);for(let p=0;p<5;p++){let w=2*p;u[p]=l[w],d[p]=l[w+1]}let h=Fe.decodeDigit(u);o.append(h.toString()),h=this.decodeDigit(d),o.append(h.toString()),l.forEach(function(p){r+=p})}}decodeStart(t){let r=Fe.skipWhiteSpace(t),s=Fe.findGuardPattern(t,r,Fe.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(t,s[0]),s}validateQuietZone(t,r){let s=this.narrowLineWidth*10;s=s<r?s:r;for(let o=r-1;s>0&&o>=0&&!t.get(o);o--)s--;if(s!==0)throw new Y}static skipWhiteSpace(t){const r=t.getSize(),s=t.getNextSet(0);if(s===r)throw new Y;return s}decodeEnd(t){t.reverse();try{let r=Fe.skipWhiteSpace(t),s;try{s=Fe.findGuardPattern(t,r,Fe.END_PATTERN_REVERSED[0])}catch(l){l instanceof Y&&(s=Fe.findGuardPattern(t,r,Fe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,s[0]);let o=s[0];return s[0]=t.getSize()-s[1],s[1]=t.getSize()-o,s}finally{t.reverse()}}static findGuardPattern(t,r,s){let o=s.length,l=new Int32Array(o),u=t.getSize(),d=!1,h=0,p=r;l.fill(0);for(let w=r;w<u;w++)if(t.get(w)!==d)l[h]++;else{if(h===o-1){if(ct.patternMatchVariance(l,s,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return[p,w];p+=l[0]+l[1],L.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new Y}static decodeDigit(t){let r=Fe.MAX_AVG_VARIANCE,s=-1,o=Fe.PATTERNS.length;for(let l=0;l<o;l++){let u=Fe.PATTERNS[l],d=ct.patternMatchVariance(t,u,Fe.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,s=l):d===r&&(s=-1)}if(s>=0)return s%10;throw new Y}}Fe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Fe.MAX_AVG_VARIANCE=.38,Fe.MAX_INDIVIDUAL_VARIANCE=.5,Fe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Fe.START_PATTERN=Int32Array.from([1,1,1,1]),Fe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class rt extends ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,s,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),s=rt.findGuardPattern(t,o,!1,this.START_END_PATTERN,l);let u=s[0];o=s[1];let d=u-(o-u);d>=0&&(r=t.isRange(d,u,!1))}return s}static checkChecksum(t){return rt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return rt.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new U;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new U;s+=l}return(1e3-s)%10}static decodeEnd(t,r){return rt.findGuardPattern(t,r,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,s,o){return this.findGuardPattern(t,r,s,o,new Int32Array(o.length))}static findGuardPattern(t,r,s,o,l){let u=t.getSize();r=s?t.getNextUnset(r):t.getNextSet(r);let d=0,h=r,p=o.length,w=s;for(let E=r;E<u;E++)if(t.get(E)!==w)l[d]++;else{if(d===p-1){if(ct.patternMatchVariance(l,o,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return Int32Array.from([h,E]);h+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let T=0;T<d-1;T++)l[T]=A[T];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,w=!w}throw new Y}static decodeDigit(t,r,s,o){this.recordPattern(t,s,r);let l=this.MAX_AVG_VARIANCE,u=-1,d=o.length;for(let h=0;h<d;h++){let p=o[h],w=ct.patternMatchVariance(r,p,rt.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,u=h)}if(u>=0)return u;throw new Y}}rt.MAX_AVG_VARIANCE=.48,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.START_END_PATTERN=Int32Array.from([1,1,1]),rt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),rt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class $i{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),u=o.toString(),d=$i.parseExtensionString(u),h=[new le((s[0]+s[1])/2,t),new le(l,t)],p=new Je(u,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],d=0;for(let p=0;p<5&&u<l;p++){let w=rt.decodeDigit(t,o,u,rt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let E of o)u+=E;w>=10&&(d|=1<<4-p),p!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(s.length!==5)throw new Y;let h=this.determineCheckDigit(d);if($i.extensionChecksum(s.toString())!==h)throw new Y;return u}static extensionChecksum(t){let r=t.length,s=0;for(let o=r-2;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;s*=3;for(let o=r-1;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Y}static parseExtensionString(t){if(t.length!==5)return null;let r=$i.parseExtension5String(t);return r==null?null:new Map([[mt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let s=parseInt(t.substring(1)),o=(s/100).toString(),l=s%100,u=l<10?"0"+l:l.toString();return r+o+"."+u}}class Ga{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),u=o.toString(),d=Ga.parseExtensionString(u),h=[new le((s[0]+s[1])/2,t),new le(l,t)],p=new Je(u,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],d=0;for(let h=0;h<2&&u<l;h++){let p=rt.decodeDigit(t,o,u,rt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+p%10);for(let w of o)u+=w;p>=10&&(d|=1<<1-h),h!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(s.length!==2)throw new Y;if(parseInt(s.toString())%4!==d)throw new Y;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[mt.ISSUE_NUMBER,parseInt(t)]])}}class Wc{static decodeRow(t,r,s){let o=rt.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new $i().decodeRow(t,r,o)}catch{return new Ga().decodeRow(t,r,o)}}}Wc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Re extends rt{constructor(){super(),this.decodeRowStringBuffer="",Re.L_AND_G_PATTERNS=Re.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Re.L_PATTERNS[t-10],s=new Int32Array(r.length);for(let o=0;o<r.length;o++)s[o]=r[r.length-o-1];Re.L_AND_G_PATTERNS[t]=s}}decodeRow(t,r,s){let o=Re.findStartGuardPattern(r),l=s==null?null:s.get(Z.NEED_RESULT_POINT_CALLBACK);if(l!=null){const K=new le((o[0]+o[1])/2,t);l.foundPossibleResultPoint(K)}let u=this.decodeMiddle(r,o,this.decodeRowStringBuffer),d=u.rowOffset,h=u.resultString;if(l!=null){const K=new le(d,t);l.foundPossibleResultPoint(K)}let p=this.decodeEnd(r,d);if(l!=null){const K=new le((p[0]+p[1])/2,t);l.foundPossibleResultPoint(K)}let w=p[1],E=w+(w-p[0]);if(E>=r.getSize()||!r.isRange(w,E,!1))throw new Y;let A=h.toString();if(A.length<8)throw new U;if(!Re.checkChecksum(A))throw new b;let T=(o[1]+o[0])/2,O=(p[1]+p[0])/2,D=this.getBarcodeFormat(),k=[new le(T,t),new le(O,t)],H=new Je(A,null,0,k,D,new Date().getTime()),$=0;try{let K=Wc.decodeRow(t,r,p[1]);H.putMetadata(mt.UPC_EAN_EXTENSION,K.getText()),H.putAllMetadata(K.getResultMetadata()),H.addResultPoints(K.getResultPoints()),$=K.getText().length}catch{}let ee=s==null?null:s.get(Z.ALLOWED_EAN_EXTENSIONS);if(ee!=null){let K=!1;for(let Ie in ee)if($.toString()===Ie){K=!0;break}if(!K)throw new Y}return H}decodeEnd(t,r){return Re.findGuardPattern(t,r,!1,Re.START_END_PATTERN,new Int32Array(Re.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Re.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return Re.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new U;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new U;s+=l}return(1e3-s)%10}}class jr extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],d=0;for(let p=0;p<6&&u<l;p++){let w=Re.decodeDigit(t,o,u,Re.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let E of o)u+=E;w>=10&&(d|=1<<5-p)}s=jr.determineFirstDigit(s,d),u=Re.findGuardPattern(t,u,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&u<l;p++){let w=Re.decodeDigit(t,o,u,Re.L_PATTERNS);s+=String.fromCharCode(48+w);for(let E of o)u+=E}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(t,r){for(let s=0;s<10;s++)if(r===this.FIRST_DIGIT_ENCODINGS[s])return t=String.fromCharCode(48+s)+t,t;throw new Y}}jr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Gc extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let p=Re.decodeDigit(t,o,u,Re.L_PATTERNS);s+=String.fromCharCode(48+p);for(let w of o)u+=w}u=Re.findGuardPattern(t,u,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let p=Re.decodeDigit(t,o,u,Re.L_PATTERNS);s+=String.fromCharCode(48+p);for(let w of o)u+=w}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return ue.EAN_8}}class Yc extends Re{constructor(){super(...arguments),this.ean13Reader=new jr}getBarcodeFormat(){return ue.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,s))}decodeMiddle(t,r,s){return this.ean13Reader.decodeMiddle(t,r,s)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let s=new Je(r.substring(1),null,null,t.getResultPoints(),ue.UPC_A);return t.getResultMetadata()!=null&&s.putAllMetadata(t.getResultMetadata()),s}else throw new Y}reset(){this.ean13Reader.reset()}}class Sn extends Re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters.map(p=>p);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=t.getSize();let u=r[1],d=0;for(let p=0;p<6&&u<l;p++){const w=Sn.decodeDigit(t,o,u,Sn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let E of o)u+=E;w>=10&&(d|=1<<5-p)}let h=Sn.determineNumSysAndCheckDigit(s,d);return{rowOffset:u,resultString:h}}decodeEnd(t,r){return Sn.findGuardPatternWithoutCounters(t,r,!0,Sn.MIDDLE_END_PATTERN)}checkChecksum(t){return Re.checkChecksum(Sn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let s=0;s<=1;s++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][o]){let l=String.fromCharCode(48+s),u=String.fromCharCode(48+o);return l+t+u}throw Y.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new we;s.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:s.appendChars(r,0,2),s.append(o),s.append("0000"),s.appendChars(r,2,3);break;case 3:s.appendChars(r,0,3),s.append("00000"),s.appendChars(r,3,2);break;case 4:s.appendChars(r,0,4),s.append("00000"),s.append(r[4]);break;default:s.appendChars(r,0,5),s.append("0000"),s.append(o);break}return t.length>=8&&s.append(t.charAt(7)),s.toString()}}Sn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Sn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ya extends ct{constructor(t){super();let r=t==null?null:t.get(Z.POSSIBLE_FORMATS),s=[];a(r)?(s.push(new jr),s.push(new Yc),s.push(new Gc),s.push(new Sn)):(r.indexOf(ue.EAN_13)>-1&&s.push(new jr),r.indexOf(ue.UPC_A)>-1&&s.push(new Yc),r.indexOf(ue.EAN_8)>-1&&s.push(new Gc),r.indexOf(ue.UPC_E)>-1&&s.push(new Sn)),this.readers=s}decodeRow(t,r,s){for(let o of this.readers)try{const l=o.decodeRow(t,r,s),u=l.getBarcodeFormat()===ue.EAN_13&&l.getText().charAt(0)==="0",d=s==null?null:s.get(Z.POSSIBLE_FORMATS),h=d==null||d.includes(ue.UPC_A);if(u&&h){const p=l.getRawBytes(),w=new Je(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),ue.UPC_A);return w.putAllMetadata(l.getResultMetadata()),w}return l}catch{}throw new Y}reset(){for(let t of this.readers)t.reset()}}class Mt extends ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let s=0;s<r.length;s++)if(ct.patternMatchVariance(t,r[s],Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return s;throw new Y}static count(t){return Te.sum(new Int32Array(t))}static increment(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]>o&&(o=r[l],s=l);t[s]++}static decrement(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]<o&&(o=r[l],s=l);t[s]--}static isFinderPattern(t){let r=t[0]+t[1],s=r+t[2]+t[3],o=r/s;if(o>=Mt.MIN_FINDER_PATTERN_RATIO&&o<=Mt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let d of t)d>u&&(u=d),d<l&&(l=d);return u<10*l}return!1}}Mt.MAX_AVG_VARIANCE=.2,Mt.MAX_INDIVIDUAL_VARIANCE=.45,Mt.MIN_FINDER_PATTERN_RATIO=9.5/12,Mt.MAX_FINDER_PATTERN_RATIO=12.5/14;class ui{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ui))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class lo{constructor(t,r,s,o,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new le(s,l)),this.resultPoints.push(new le(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof lo))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Ln{constructor(){}static getRSSvalue(t,r,s){let o=0;for(let h of t)o+=h;let l=0,u=0,d=t.length;for(let h=0;h<d-1;h++){let p;for(p=1,u|=1<<h;p<t[h];p++,u&=~(1<<h)){let w=Ln.combins(o-p-1,d-h-2);if(s&&u===0&&o-p-(d-h-1)>=d-h-1&&(w-=Ln.combins(o-p-(d-h),d-h-2)),d-h-1>1){let E=0;for(let A=o-p-(d-h-2);A>r;A--)E+=Ln.combins(o-p-A-1,d-h-3);w-=E*(d-1-h)}else o-p>r&&w--;l+=w}o-=p}return l}static combins(t,r){let s,o;t-r>r?(o=r,s=t-r):(o=t-r,s=r);let l=1,u=1;for(let d=t;d>s;d--)l*=d,u<=o&&(l/=u,u++);for(;u<=o;)l/=u,u++;return l}}class Rh{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let s=12*r,o=new j(s),l=0,d=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&o.set(l),l++;for(let h=1;h<t.length;++h){let p=t[h],w=p.getLeftChar().getValue();for(let E=11;E>=0;--E)w&1<<E&&o.set(l),l++;if(p.getRightChar()!=null){let E=p.getRightChar().getValue();for(let A=11;A>=0;--A)E&1<<A&&o.set(l),l++}}return o}}class zr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Xa{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Ht extends Xa{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Ht.FNC1}}Ht.FNC1="$";class Hr extends Xa{constructor(t,r,s){super(t),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class dn extends Xa{constructor(t,r,s){if(super(t),r<0||r>10||s<0||s>10)throw new U;this.firstDigit=r,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===dn.FNC1}isSecondDigitFNC1(){return this.secondDigit===dn.FNC1}isAnyFNC1(){return this.firstDigit===dn.FNC1||this.secondDigit===dn.FNC1}}dn.FNC1=10;class ie{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new Y;let r=t.substring(0,2);for(let l of ie.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(2,l[2],t):ie.processFixedAI(2,l[1],t);if(t.length<3)throw new Y;let s=t.substring(0,3);for(let l of ie.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(3,l[2],t):ie.processFixedAI(3,l[1],t);for(let l of ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],t):ie.processFixedAI(4,l[1],t);if(t.length<4)throw new Y;let o=t.substring(0,4);for(let l of ie.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],t):ie.processFixedAI(4,l[1],t);throw new Y}static processFixedAI(t,r,s){if(s.length<t)throw new Y;let o=s.substring(0,t);if(s.length<t+r)throw new Y;let l=s.substring(t,t+r),u=s.substring(t+r),d="("+o+")"+l,h=ie.parseFieldsInGeneralPurpose(u);return h==null?d:d+h}static processVariableAI(t,r,s){let o=s.substring(0,t),l;s.length<t+r?l=s.length:l=t+r;let u=s.substring(t,l),d=s.substring(l),h="("+o+")"+u,p=ie.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}}ie.VARIABLE_LENGTH=[],ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ie.VARIABLE_LENGTH,20],["22",ie.VARIABLE_LENGTH,29],["30",ie.VARIABLE_LENGTH,8],["37",ie.VARIABLE_LENGTH,8],["90",ie.VARIABLE_LENGTH,30],["91",ie.VARIABLE_LENGTH,30],["92",ie.VARIABLE_LENGTH,30],["93",ie.VARIABLE_LENGTH,30],["94",ie.VARIABLE_LENGTH,30],["95",ie.VARIABLE_LENGTH,30],["96",ie.VARIABLE_LENGTH,30],["97",ie.VARIABLE_LENGTH,3],["98",ie.VARIABLE_LENGTH,30],["99",ie.VARIABLE_LENGTH,30]],ie.THREE_DIGIT_DATA_LENGTH=[["240",ie.VARIABLE_LENGTH,30],["241",ie.VARIABLE_LENGTH,30],["242",ie.VARIABLE_LENGTH,6],["250",ie.VARIABLE_LENGTH,30],["251",ie.VARIABLE_LENGTH,30],["253",ie.VARIABLE_LENGTH,17],["254",ie.VARIABLE_LENGTH,20],["400",ie.VARIABLE_LENGTH,30],["401",ie.VARIABLE_LENGTH,30],["402",17],["403",ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ie.VARIABLE_LENGTH,20],["421",ie.VARIABLE_LENGTH,15],["422",3],["423",ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ie.VARIABLE_LENGTH,15],["391",ie.VARIABLE_LENGTH,18],["392",ie.VARIABLE_LENGTH,15],["393",ie.VARIABLE_LENGTH,18],["703",ie.VARIABLE_LENGTH,30]],ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ie.VARIABLE_LENGTH,20],["8003",ie.VARIABLE_LENGTH,30],["8004",ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ie.VARIABLE_LENGTH,30],["8008",ie.VARIABLE_LENGTH,12],["8018",18],["8020",ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ie.VARIABLE_LENGTH,70],["8200",ie.VARIABLE_LENGTH,70]];class ci{constructor(t){this.buffer=new we,this.information=t}decodeAllCodes(t,r){let s=r,o=null;do{let l=this.decodeGeneralPurposeField(s,o),u=ie.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&t.append(u),l.isRemaining()?o=""+l.getRemainingValue():o=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new dn(this.information.getSize(),dn.FNC1,dn.FNC1):new dn(this.information.getSize(),l-1,dn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),s=(r-8)/11,o=(r-8)%11;return new dn(t+7,s,o)}extractNumericValueFromBitArray(t,r){return ci.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,s){let o=0;for(let l=0;l<s;++l)t.get(r+l)&&(o|=1<<s-l-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Hr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Hr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let s=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(s!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Hr(this.current.getPosition(),this.buffer.toString()):r=new Hr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new zr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Hr(this.current.getPosition(),this.buffer.toString());return new zr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new zr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Hr(this.current.getPosition(),this.buffer.toString());return new zr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new zr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Hr(this.current.getPosition(),this.buffer.toString());return new zr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new zr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ht(t+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<90)return new Ht(t+7,""+(s+1));if(s>=90&&s<116)return new Ht(t+7,""+(s+7));let o=this.extractNumericValueFromBitArray(t,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new U}return new Ht(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,6);return s>=16&&s<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Ht(t+5,Ht.FNC1);if(r>=5&&r<15)return new Ht(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,6);if(s>=32&&s<58)return new Ht(t+6,""+(s+33));let o;switch(s){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new bn("Decoding invalid alphanumeric value: "+s)}return new Ht(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Qa{constructor(t){this.information=t,this.generalDecoder=new ci(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Vt extends Qa{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let s=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,s)}encodeCompressedGtinWithoutAI(t,r,s){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Vt.appendCheckDigit(t,s)}static appendCheckDigit(t,r){let s=0;for(let o=0;o<13;o++){let l=t.charAt(o+r).charCodeAt(0)-48;s+=o&1?l:3*l}s=10-s%10,s===10&&(s=0),t.append(s)}}Vt.GTIN_SIZE=40;class fi extends Vt{constructor(t){super(t)}parseInformation(){let t=new we;t.append("(01)");let r=t.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(fi.HEADER_SIZE,4);return t.append(s),this.encodeCompressedGtinWithoutAI(t,fi.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,fi.HEADER_SIZE+44)}}fi.HEADER_SIZE=4;class uo extends Qa{constructor(t){super(t)}parseInformation(){let t=new we;return this.getGeneralDecoder().decodeAllCodes(t,uo.HEADER_SIZE)}}uo.HEADER_SIZE=5;class co extends Vt{constructor(t){super(t)}encodeCompressedWeight(t,r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,s);this.addWeightCode(t,o);let l=this.checkWeight(o),u=1e5;for(let d=0;d<5;++d)l/u===0&&t.append("0"),u/=10;t.append(l)}}class kn extends co{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=kn.HEADER_SIZE+co.GTIN_SIZE+kn.WEIGHT_SIZE)throw new Y;let t=new we;return this.encodeCompressedGtin(t,kn.HEADER_SIZE),this.encodeCompressedWeight(t,kn.HEADER_SIZE+co.GTIN_SIZE,kn.WEIGHT_SIZE),t.toString()}}kn.HEADER_SIZE=5,kn.WEIGHT_SIZE=15;class Oh extends kn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class Dh extends kn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Bn extends Vt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Bn.HEADER_SIZE+Vt.GTIN_SIZE)throw new Y;let t=new we;this.encodeCompressedGtin(t,Bn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Bn.HEADER_SIZE+Vt.GTIN_SIZE,Bn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Bn.HEADER_SIZE+Vt.GTIN_SIZE+Bn.LAST_DIGIT_SIZE,null);return t.append(s.getNewString()),t.toString()}}Bn.HEADER_SIZE=8,Bn.LAST_DIGIT_SIZE=2;class Bt extends Vt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Bt.HEADER_SIZE+Vt.GTIN_SIZE)throw new Y;let t=new we;this.encodeCompressedGtin(t,Bt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Bt.HEADER_SIZE+Vt.GTIN_SIZE,Bt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Bt.HEADER_SIZE+Vt.GTIN_SIZE+Bt.LAST_DIGIT_SIZE,Bt.FIRST_THREE_DIGITS_SIZE);s/100==0&&t.append("0"),s/10==0&&t.append("0"),t.append(s);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Bt.HEADER_SIZE+Vt.GTIN_SIZE+Bt.LAST_DIGIT_SIZE+Bt.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Bt.HEADER_SIZE=8,Bt.LAST_DIGIT_SIZE=2,Bt.FIRST_THREE_DIGITS_SIZE=10;class Ze extends co{constructor(t,r,s){super(t),this.dateCode=s,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ze.HEADER_SIZE+Ze.GTIN_SIZE+Ze.WEIGHT_SIZE+Ze.DATE_SIZE)throw new Y;let t=new we;return this.encodeCompressedGtin(t,Ze.HEADER_SIZE),this.encodeCompressedWeight(t,Ze.HEADER_SIZE+Ze.GTIN_SIZE,Ze.WEIGHT_SIZE),this.encodeCompressedDate(t,Ze.HEADER_SIZE+Ze.GTIN_SIZE+Ze.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ze.DATE_SIZE);if(s==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=s%32;s/=32;let l=s%12+1;s/=12;let u=s;u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ze.HEADER_SIZE=8,Ze.WEIGHT_SIZE=20,Ze.DATE_SIZE=16;function Xc(C){try{if(C.get(1))return new fi(C);if(!C.get(2))return new uo(C);switch(ci.extractNumericValueFromBitArray(C,1,4)){case 4:return new Oh(C);case 5:return new Dh(C)}switch(ci.extractNumericValueFromBitArray(C,1,5)){case 12:return new Bn(C);case 13:return new Bt(C)}switch(ci.extractNumericValueFromBitArray(C,1,7)){case 56:return new Ze(C,"310","11");case 57:return new Ze(C,"320","11");case 58:return new Ze(C,"310","13");case 59:return new Ze(C,"320","13");case 60:return new Ze(C,"310","15");case 61:return new Ze(C,"320","15");case 62:return new Ze(C,"310","17");case 63:return new Ze(C,"320","17")}}catch(t){throw console.log(t),new bn("unknown decoder: "+C)}}class fr{constructor(t,r,s,o){this.leftchar=t,this.rightchar=r,this.finderpattern=s,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof fr?fr.equalsOrNull(t.leftchar,r.leftchar)&&fr.equalsOrNull(t.rightchar,r.rightchar)&&fr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:fr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Za{constructor(t,r,s){this.pairs=t,this.rowNumber=r,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Za?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let s;return t.forEach((o,l)=>{r.forEach(u=>{o.getLeftChar().getValue()===u.getLeftChar().getValue()&&o.getRightChar().getValue()===u.getRightChar().getValue()&&o.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(s=!0)})}),s}}class Q extends Mt{constructor(t){super(...arguments),this.pairs=new Array(Q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,s){this.pairs.length=0,this.startFromEven=!1;try{return Q.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,Q.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof Y){if(!this.pairs.length)throw new Y;s=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new Y}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let s=r;s<this.rows.length;s++){let o=this.rows[s];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(o.getPairs()),!Q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(o);try{return this.checkRows(l,s+1)}catch(u){this.verbose&&console.log(u)}}throw new Y}static isValidSequence(t){for(let r of Q.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let s=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){s=!1;break}if(s)return!0}return!1}storeRow(t,r){let s=0,o=!1,l=!1;for(;s<this.rows.length;){let u=this.rows[s];if(u.getRowNumber()>t){l=u.isEquivalent(this.pairs);break}o=u.isEquivalent(this.pairs),s++}l||o||Q.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Za(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let s of r)if(s.getPairs().length!==t.length){for(let o of s.getPairs())for(let l of t)if(fr.equals(o,l))break}}static isPartialRow(t,r){for(let s of r){let o=!0;for(let l of t){let u=!1;for(let d of s.getPairs())if(l.equals(d)){u=!0;break}if(!u){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=Rh.buildBitArray(t),o=Xc(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],u[0],u[1]];return new Je(o,null,null,d,ue.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),s=t.getRightChar();if(s==null)return!1;let o=s.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);o+=h.getLeftChar().getChecksumPortion(),l++;let p=h.getRightChar();p!=null&&(o+=p.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(t,r){let s;return t.get(r)?(s=t.getNextUnset(r),s=t.getNextSet(s)):(s=t.getNextSet(r),s=t.getNextUnset(s)),s}retrieveNextPair(t,r,s){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,u=!0,d=-1;do this.findNextPair(t,r,d),l=this.parseFoundFinderPattern(t,s,o),l==null?d=Q.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(t,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Y;let p;try{p=this.decodeDataCharacter(t,l,o,!1)}catch(w){p=null,this.verbose&&console.log(w)}return new fr(h,p,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u;s>=0?u=s:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;u<l&&(h=!t.get(u),!!h);)u++;let p=0,w=u;for(let E=u;E<l;E++)if(t.get(E)!=h)o[p]++;else{if(p==3){if(d&&Q.reverseCounters(o),Q.isFinderPattern(o)){this.startEnd[0]=w,this.startEnd[1]=E;return}d&&Q.reverseCounters(o),w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,h=!h}throw new Y}static reverseCounters(t){let r=t.length;for(let s=0;s<r/2;++s){let o=t[s];t[s]=t[r-s-1],t[r-s-1]=o}}parseFoundFinderPattern(t,r,s){let o,l,u;if(s){let p=this.startEnd[0]-1;for(;p>=0&&!t.get(p);)p--;p++,o=this.startEnd[0]-p,l=p,u=this.startEnd[1]}else l=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),o=u-this.startEnd[1];let d=this.getDecodeFinderCounters();L.arraycopy(d,0,d,1,d.length-1),d[0]=o;let h;try{h=this.parseFinderValue(d,Q.FINDER_PATTERNS)}catch{return null}return new lo(h,[l,u],l,u,r)}decodeDataCharacter(t,r,s,o){let l=this.getDataCharacterCounters();for(let je=0;je<l.length;je++)l[je]=0;if(o)Q.recordPatternInReverse(t,r.getStartEnd()[0],l);else{Q.recordPattern(t,r.getStartEnd()[1],l);for(let je=0,vt=l.length-1;je<vt;je++,vt--){let Jt=l[je];l[je]=l[vt],l[vt]=Jt}}let u=17,d=Te.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new Y;let p=this.getOddCounts(),w=this.getEvenCounts(),E=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let je=0;je<l.length;je++){let vt=1*l[je]/d,Jt=vt+.5;if(Jt<1){if(vt<.3)throw new Y;Jt=1}else if(Jt>8){if(vt>8.7)throw new Y;Jt=8}let xi=je/2;je&1?(w[xi]=Jt,A[xi]=vt-Jt):(p[xi]=Jt,E[xi]=vt-Jt)}this.adjustOddEvenCounts(u);let T=4*r.getValue()+(s?0:2)+(o?0:1)-1,O=0,D=0;for(let je=p.length-1;je>=0;je--){if(Q.isNotA1left(r,s,o)){let vt=Q.WEIGHTS[T][2*je];D+=p[je]*vt}O+=p[je]}let k=0;for(let je=w.length-1;je>=0;je--)if(Q.isNotA1left(r,s,o)){let vt=Q.WEIGHTS[T][2*je+1];k+=w[je]*vt}let H=D+k;if(O&1||O>13||O<4)throw new Y;let $=(13-O)/2,ee=Q.SYMBOL_WIDEST[$],K=9-ee,Ie=Ln.getRSSvalue(p,ee,!0),ye=Ln.getRSSvalue(w,K,!1),Gt=Q.EVEN_TOTAL_SUBSET[$],In=Q.GSUM[$],Yt=Ie*Gt+ye+In;return new ui(Yt,H)}static isNotA1left(t,r,s){return!(t.getValue()==0&&r&&s)}adjustOddEvenCounts(t){let r=Te.sum(new Int32Array(this.getOddCounts())),s=Te.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let u=!1,d=!1;s>13?d=!0:s<4&&(u=!0);let h=r+s-t,p=(r&1)==1,w=(s&1)==0;if(h==1)if(p){if(w)throw new Y;l=!0}else{if(!w)throw new Y;d=!0}else if(h==-1)if(p){if(w)throw new Y;o=!0}else{if(!w)throw new Y;u=!0}else if(h==0){if(p){if(!w)throw new Y;r<s?(o=!0,d=!0):(l=!0,u=!0)}else if(w)throw new Y}else throw new Y;if(o){if(l)throw new Y;Q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new Y;Q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Q.SYMBOL_WIDEST=[7,5,4,3,1],Q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Q.GSUM=[0,348,1388,2948,3988],Q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Q.FINDER_PAT_A=0,Q.FINDER_PAT_B=1,Q.FINDER_PAT_C=2,Q.FINDER_PAT_D=3,Q.FINDER_PAT_E=4,Q.FINDER_PAT_F=5,Q.FINDER_PATTERN_SEQUENCES=[[Q.FINDER_PAT_A,Q.FINDER_PAT_A],[Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B],[Q.FINDER_PAT_A,Q.FINDER_PAT_C,Q.FINDER_PAT_B,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_C],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F]],Q.MAX_PAIRS=11;class bh extends ui{constructor(t,r,s){super(t,r),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class it extends Mt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,s){const o=this.decodePair(r,!1,t,s);it.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,t,s);it.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&it.checkChecksum(u,d))return it.constructResult(u,d)}throw new Y}static addOrTally(t,r){if(r==null)return;let s=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),s=!0;break}s||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let s=4537077*t.getValue()+r.getValue(),o=new String(s).toString(),l=new we;for(let p=13-o.length;p>0;p--)l.append("0");l.append(o);let u=0;for(let p=0;p<13;p++){let w=l.charAt(p).charCodeAt(0)-48;u+=p&1?w:3*w}u=10-u%10,u===10&&(u=0),l.append(u.toString());let d=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new Je(l.toString(),null,0,[d[0],d[1],h[0],h[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(t,r){let s=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,s===o}decodePair(t,r,s,o){try{let l=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,s,r,l),d=o==null?null:o.get(Z.NEED_RESULT_POINT_CALLBACK);if(d!=null){let w=(l[0]+l[1])/2;r&&(w=t.getSize()-1-w),d.foundPossibleResultPoint(new le(w,s))}let h=this.decodeDataCharacter(t,u,!0),p=this.decodeDataCharacter(t,u,!1);return new bh(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,s){let o=this.getDataCharacterCounters();for(let k=0;k<o.length;k++)o[k]=0;if(s)ct.recordPatternInReverse(t,r.getStartEnd()[0],o);else{ct.recordPattern(t,r.getStartEnd()[1]+1,o);for(let k=0,H=o.length-1;k<H;k++,H--){let $=o[k];o[k]=o[H],o[H]=$}}let l=s?16:15,u=Te.sum(new Int32Array(o))/l,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let k=0;k<o.length;k++){let H=o[k]/u,$=Math.floor(H+.5);$<1?$=1:$>8&&($=8);let ee=Math.floor(k/2);k&1?(h[ee]=$,w[ee]=H-$):(d[ee]=$,p[ee]=H-$)}this.adjustOddEvenCounts(s,l);let E=0,A=0;for(let k=d.length-1;k>=0;k--)A*=9,A+=d[k],E+=d[k];let T=0,O=0;for(let k=h.length-1;k>=0;k--)T*=9,T+=h[k],O+=h[k];let D=A+3*T;if(s){if(E&1||E>12||E<4)throw new Y;let k=(12-E)/2,H=it.OUTSIDE_ODD_WIDEST[k],$=9-H,ee=Ln.getRSSvalue(d,H,!1),K=Ln.getRSSvalue(h,$,!0),Ie=it.OUTSIDE_EVEN_TOTAL_SUBSET[k],ye=it.OUTSIDE_GSUM[k];return new ui(ee*Ie+K+ye,D)}else{if(O&1||O>10||O<4)throw new Y;let k=(10-O)/2,H=it.INSIDE_ODD_WIDEST[k],$=9-H,ee=Ln.getRSSvalue(d,H,!0),K=Ln.getRSSvalue(h,$,!1),Ie=it.INSIDE_ODD_TOTAL_SUBSET[k],ye=it.INSIDE_GSUM[k];return new ui(K*Ie+ee+ye,D)}}findFinderPattern(t,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),l=!1,u=0;for(;u<o&&(l=!t.get(u),r!==l);)u++;let d=0,h=u;for(let p=u;p<o;p++)if(t.get(p)!==l)s[d]++;else{if(d===3){if(Mt.isFinderPattern(s))return[h,p];h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,l=!l}throw new Y}parseFoundFinderPattern(t,r,s,o){let l=t.get(o[0]),u=o[0]-1;for(;u>=0&&l!==t.get(u);)u--;u++;const d=o[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);L.arraycopy(h,0,p,1,h.length-1),p[0]=d;const w=this.parseFinderValue(p,it.FINDER_PATTERNS);let E=u,A=o[1];return s&&(E=t.getSize()-1-E,A=t.getSize()-1-A),new lo(w,[u,o[1]],E,A,r)}adjustOddEvenCounts(t,r){let s=Te.sum(new Int32Array(this.getOddCounts())),o=Te.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,d=!1,h=!1;t?(s>12?u=!0:s<4&&(l=!0),o>12?h=!0:o<4&&(d=!0)):(s>11?u=!0:s<5&&(l=!0),o>10?h=!0:o<4&&(d=!0));let p=s+o-r,w=(s&1)===(t?1:0),E=(o&1)===1;if(p===1)if(w){if(E)throw new Y;u=!0}else{if(!E)throw new Y;h=!0}else if(p===-1)if(w){if(E)throw new Y;l=!0}else{if(!E)throw new Y;d=!0}else if(p===0){if(w){if(!E)throw new Y;s<o?(l=!0,h=!0):(u=!0,d=!0)}else if(E)throw new Y}else throw new Y;if(l){if(u)throw new Y;Mt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Mt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new Y;Mt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Mt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],it.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],it.OUTSIDE_GSUM=[0,161,961,2015,2715],it.INSIDE_GSUM=[0,336,1036,1516],it.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],it.INSIDE_ODD_WIDEST=[2,4,6,8],it.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class di extends ct{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const s=t?t.get(Z.POSSIBLE_FORMATS):null,o=t&&t.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ue.EAN_13)||s.includes(ue.UPC_A)||s.includes(ue.EAN_8)||s.includes(ue.UPC_E))&&this.readers.push(new Ya(t)),s.includes(ue.CODE_39)&&this.readers.push(new dt(o)),s.includes(ue.CODE_128)&&this.readers.push(new te),s.includes(ue.ITF)&&this.readers.push(new Fe),s.includes(ue.RSS_14)&&this.readers.push(new it),s.includes(ue.RSS_EXPANDED)&&this.readers.push(new Q(this.verbose))):(this.readers.push(new Ya(t)),this.readers.push(new dt),this.readers.push(new Ya(t)),this.readers.push(new te),this.readers.push(new Fe),this.readers.push(new it),this.readers.push(new Q(this.verbose)))}decodeRow(t,r,s){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,s)}catch{}throw new Y}reset(){this.readers.forEach(t=>t.reset())}}class Lh extends fn{constructor(t=500,r){super(new di(r),t,r)}}class De{constructor(t,r,s){this.ecCodewords=t,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Oe{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ve{constructor(t,r,s,o,l,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=u;let d=0;const h=u.getECCodewords(),p=u.getECBlocks();for(let w of p)d+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new U;for(let s of ve.VERSIONS)if(s.symbolSizeRows===t&&s.symbolSizeColumns===r)return s;throw new U}toString(){return""+this.versionNumber}static buildVersions(){return[new ve(1,10,10,8,8,new De(5,new Oe(1,3))),new ve(2,12,12,10,10,new De(7,new Oe(1,5))),new ve(3,14,14,12,12,new De(10,new Oe(1,8))),new ve(4,16,16,14,14,new De(12,new Oe(1,12))),new ve(5,18,18,16,16,new De(14,new Oe(1,18))),new ve(6,20,20,18,18,new De(18,new Oe(1,22))),new ve(7,22,22,20,20,new De(20,new Oe(1,30))),new ve(8,24,24,22,22,new De(24,new Oe(1,36))),new ve(9,26,26,24,24,new De(28,new Oe(1,44))),new ve(10,32,32,14,14,new De(36,new Oe(1,62))),new ve(11,36,36,16,16,new De(42,new Oe(1,86))),new ve(12,40,40,18,18,new De(48,new Oe(1,114))),new ve(13,44,44,20,20,new De(56,new Oe(1,144))),new ve(14,48,48,22,22,new De(68,new Oe(1,174))),new ve(15,52,52,24,24,new De(42,new Oe(2,102))),new ve(16,64,64,14,14,new De(56,new Oe(2,140))),new ve(17,72,72,16,16,new De(36,new Oe(4,92))),new ve(18,80,80,18,18,new De(48,new Oe(4,114))),new ve(19,88,88,20,20,new De(56,new Oe(4,144))),new ve(20,96,96,22,22,new De(68,new Oe(4,174))),new ve(21,104,104,24,24,new De(56,new Oe(6,136))),new ve(22,120,120,18,18,new De(68,new Oe(6,175))),new ve(23,132,132,20,20,new De(62,new Oe(8,163))),new ve(24,144,144,22,22,new De(62,new Oe(8,156),new Oe(2,155))),new ve(25,8,18,6,16,new De(7,new Oe(1,5))),new ve(26,8,32,6,14,new De(11,new Oe(1,10))),new ve(27,12,26,10,24,new De(14,new Oe(1,16))),new ve(28,12,36,10,16,new De(18,new Oe(1,22))),new ve(29,16,36,14,16,new De(24,new Oe(1,32))),new ve(30,16,48,14,22,new De(28,new Oe(1,49)))]}}ve.VERSIONS=ve.buildVersions();class Ka{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new U;this.version=Ka.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ke(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),s=t.getWidth();return ve.getVersionForDimensions(r,s)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,s=4,o=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let d=!1,h=!1,p=!1,w=!1;do if(s===l&&o===0&&!d)t[r++]=this.readCorner1(l,u)&255,s-=2,o+=2,d=!0;else if(s===l-2&&o===0&&u&3&&!h)t[r++]=this.readCorner2(l,u)&255,s-=2,o+=2,h=!0;else if(s===l+4&&o===2&&!(u&7)&&!p)t[r++]=this.readCorner3(l,u)&255,s-=2,o+=2,p=!0;else if(s===l-2&&o===0&&(u&7)===4&&!w)t[r++]=this.readCorner4(l,u)&255,s-=2,o+=2,w=!0;else{do s<l&&o>=0&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,u)&255),s-=2,o+=2;while(s>=0&&o<u);s+=1,o+=3;do s>=0&&o<u&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,u)&255),s+=2,o-=2;while(s<l&&o>=0);s+=3,o+=1}while(s<l||o<u);if(r!==this.version.getTotalCodewords())throw new U;return t}readModule(t,r,s,o){return t<0&&(t+=s,r+=4-(s+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,s,o){let l=0;return this.readModule(t-2,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-2,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r,s,o)&&(l|=1),l<<=1,this.readModule(t,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t,r,s,o)&&(l|=1),l}readCorner1(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,1,t,r)&&(s|=1),s<<=1,this.readModule(t-1,2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}readCorner2(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-4,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner3(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-3,t,r)&&(s|=1),s<<=1,this.readModule(1,r-2,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner4(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new S("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/o|0,d=s/l|0,h=u*o,p=d*l,w=new ke(p,h);for(let E=0;E<u;++E){const A=E*o;for(let T=0;T<d;++T){const O=T*l;for(let D=0;D<o;++D){const k=E*(o+2)+1+D,H=A+D;for(let $=0;$<l;++$){const ee=T*(l+2)+1+$;if(t.get(ee,k)){const K=O+$;w.set(K,H)}}}}}return w}}class qa{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const s=r.getECBlocks();let o=0;const l=s.getECBlocks();for(let D of l)o+=D.getCount();const u=new Array(o);let d=0;for(let D of l)for(let k=0;k<D.getCount();k++){const H=D.getDataCodewords(),$=s.getECCodewords()+H;u[d++]=new qa(H,new Uint8Array($))}const p=u[0].codewords.length-s.getECCodewords(),w=p-1;let E=0;for(let D=0;D<w;D++)for(let k=0;k<d;k++)u[k].codewords[D]=t[E++];const A=r.getVersionNumber()===24,T=A?8:d;for(let D=0;D<T;D++)u[D].codewords[p-1]=t[E++];const O=u[0].codewords.length;for(let D=p;D<O;D++)for(let k=0;k<d;k++){const H=A?(k+8)%d:k,$=A&&H>7?D-1:D;u[H].codewords[$]=t[E++]}if(E!==t.length)throw new S;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ja{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new S(""+t);let r=0,s=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(s>0){const u=8-s,d=t<u?t:u,h=u-d,p=255>>8-d<<h;r=(l[o]&p)>>h,t-=d,s+=d,s===8&&(s=0,o++)}if(t>0){for(;t>=8;)r=r<<8|l[o]&255,o++,t-=8;if(t>0){const u=8-t,d=255>>u<<u;r=r<<t|(l[o]&d)>>u,s+=t}}return this.bitOffset=s,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ht;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(ht||(ht={}));class dr{static decode(t){const r=new Ja(t),s=new we,o=new we,l=new Array;let u=ht.ASCII_ENCODE;do if(u===ht.ASCII_ENCODE)u=this.decodeAsciiSegment(r,s,o);else{switch(u){case ht.C40_ENCODE:this.decodeC40Segment(r,s);break;case ht.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case ht.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case ht.BASE256_ENCODE:this.decodeBase256Segment(r,s,l);break;default:throw new U}u=ht.ASCII_ENCODE}while(u!==ht.PAD_ENCODE&&r.available()>0);return o.length()>0&&s.append(o.toString()),new Ki(t,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,s){let o=!1;do{let l=t.readBits(8);if(l===0)throw new U;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),ht.ASCII_ENCODE;if(l===129)return ht.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return ht.C40_ENCODE;case 231:return ht.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return ht.ANSIX12_ENCODE;case 239:return ht.TEXT_ENCODE;case 240:return ht.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new U;break}}while(t.available()>0);return ht.ASCII_ENCODE}static decodeC40Segment(t,r){let s=!1;const o=[];let l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else throw new U;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new U}l=0;break;case 3:s?(r.append(String.fromCharCode(h+224)),s=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new U}}}while(t.available()>0)}static decodeTextSegment(t,r){let s=!1,o=[],l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else throw new U;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new U}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p),l=0}else throw new U;break;default:throw new U}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const s=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),s);for(let l=0;l<3;l++){const u=s[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new U;break}}}while(t.available()>0)}static parseTwoBytes(t,r,s){let o=(t<<8)+r-1,l=Math.floor(o/1600);s[0]=l,o-=l*1600,l=Math.floor(o/40),s[1]=l,s[2]=o-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let s=0;s<4;s++){let o=t.readBits(6);if(o===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,s){let o=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),o++);let u;if(l===0?u=t.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(t.readBits(8),o++),u<0)throw new U;const d=new Uint8Array(u);for(let h=0;h<u;h++){if(t.available()<8)throw new U;d[h]=this.unrandomize255State(t.readBits(8),o++)}s.push(d);try{r.append(ce.decode(d,ne.ISO88591))}catch(h){throw new bn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const s=149*r%255+1,o=t-s;return o>=0?o:o+256}}dr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],dr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],dr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],dr.TEXT_SHIFT2_SET_CHARS=dr.C40_SHIFT2_SET_CHARS,dr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class kh{constructor(){this.rsDecoder=new Ji(Me.DATA_MATRIX_FIELD_256)}decode(t){const r=new Ka(t),s=r.getVersion(),o=r.readCodewords(),l=qa.getDataBlocks(o,s);let u=0;for(let p of l)u+=p.getNumDataCodewords();const d=new Uint8Array(u),h=l.length;for(let p=0;p<h;p++){const w=l[p],E=w.getCodewords(),A=w.getNumDataCodewords();this.correctErrors(E,A);for(let T=0;T<A;T++)d[T*h+p]=E[T]}return dr.decode(d)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new b}for(let o=0;o<r;o++)t[o]=s[o]}}class lt{constructor(t){this.image=t,this.rectangleDetector=new Qn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Y;r=this.shiftToModuleCenter(r);const s=r[0],o=r[1],l=r[2],u=r[3];let d=this.transitionsBetween(s,u)+1,h=this.transitionsBetween(l,u)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let p=lt.sampleGrid(this.image,s,o,l,u,d,h);return new oo(p,[s,o,l,u])}static shiftPoint(t,r,s){let o=(r.getX()-t.getX())/(s+1),l=(r.getY()-t.getY())/(s+1);return new le(t.getX()+o,t.getY()+l)}static moveAway(t,r,s){let o=t.getX(),l=t.getY();return o<r?o-=1:o+=1,l<s?l-=1:l+=1,new le(o,l)}detectSolid1(t){let r=t[0],s=t[1],o=t[3],l=t[2],u=this.transitionsBetween(r,s),d=this.transitionsBetween(s,o),h=this.transitionsBetween(o,l),p=this.transitionsBetween(l,r),w=u,E=[l,r,s,o];return w>d&&(w=d,E[0]=r,E[1]=s,E[2]=o,E[3]=l),w>h&&(w=h,E[0]=s,E[1]=o,E[2]=l,E[3]=r),w>p&&(E[0]=o,E[1]=l,E[2]=r,E[3]=s),E}detectSolid2(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),d=lt.shiftPoint(s,o,(u+1)*4),h=lt.shiftPoint(o,s,(u+1)*4),p=this.transitionsBetween(d,r),w=this.transitionsBetween(h,l);return p<w?(t[0]=r,t[1]=s,t[2]=o,t[3]=l):(t[0]=s,t[1]=o,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),d=this.transitionsBetween(s,l),h=lt.shiftPoint(r,s,(d+1)*4),p=lt.shiftPoint(o,s,(u+1)*4);u=this.transitionsBetween(h,l),d=this.transitionsBetween(p,l);let w=new le(l.getX()+(o.getX()-s.getX())/(u+1),l.getY()+(o.getY()-s.getY())/(u+1)),E=new le(l.getX()+(r.getX()-s.getX())/(d+1),l.getY()+(r.getY()-s.getY())/(d+1));if(!this.isValid(w))return this.isValid(E)?E:null;if(!this.isValid(E))return w;let A=this.transitionsBetween(h,w)+this.transitionsBetween(p,w),T=this.transitionsBetween(h,E)+this.transitionsBetween(p,E);return A>T?w:E}shiftToModuleCenter(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(o,l)+1,h=lt.shiftPoint(r,s,d*4),p=lt.shiftPoint(o,s,u*4);u=this.transitionsBetween(h,l)+1,d=this.transitionsBetween(p,l)+1,(u&1)===1&&(u+=1),(d&1)===1&&(d+=1);let w=(r.getX()+s.getX()+o.getX()+l.getX())/4,E=(r.getY()+s.getY()+o.getY()+l.getY())/4;r=lt.moveAway(r,w,E),s=lt.moveAway(s,w,E),o=lt.moveAway(o,w,E),l=lt.moveAway(l,w,E);let A,T;return h=lt.shiftPoint(r,s,d*4),h=lt.shiftPoint(h,l,u*4),A=lt.shiftPoint(s,r,d*4),A=lt.shiftPoint(A,o,u*4),p=lt.shiftPoint(o,l,d*4),p=lt.shiftPoint(p,s,u*4),T=lt.shiftPoint(l,o,d*4),T=lt.shiftPoint(T,r,u*4),[h,A,p,T]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,s,o,l,u,d){return cr.getInstance().sampleGrid(t,u,d,.5,.5,u-.5,.5,u-.5,d-.5,.5,d-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),s.getX(),s.getY())}transitionsBetween(t,r){let s=Math.trunc(t.getX()),o=Math.trunc(t.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),d=Math.abs(u-o)>Math.abs(l-s);if(d){let D=s;s=o,o=D,D=l,l=u,u=D}let h=Math.abs(l-s),p=Math.abs(u-o),w=-h/2,E=o<u?1:-1,A=s<l?1:-1,T=0,O=this.image.get(d?o:s,d?s:o);for(let D=s,k=o;D!==l;D+=A){let H=this.image.get(d?k:D,d?D:k);if(H!==O&&(T++,O=H),w+=p,w>0){if(k===u)break;k+=E,w-=h}}return T}}class hr{constructor(){this.decoder=new kh}decode(t,r=null){let s,o;if(r!=null&&r.has(Z.PURE_BARCODE)){const p=hr.extractPureBits(t.getBlackMatrix());s=this.decoder.decode(p),o=hr.NO_POINTS}else{const p=new lt(t.getBlackMatrix()).detect();s=this.decoder.decode(p.getBits()),o=p.getPoints()}const l=s.getRawBytes(),u=new Je(s.getText(),l,8*l.length,o,ue.DATA_MATRIX,L.currentTimeMillis()),d=s.getByteSegments();d!=null&&u.putMetadata(mt.BYTE_SEGMENTS,d);const h=s.getECLevel();return h!=null&&u.putMetadata(mt.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r==null||s==null)throw new Y;const o=this.moduleSize(r,t);let l=r[1];const u=s[1];let d=r[0];const p=(s[0]-d+1)/o,w=(u-l+1)/o;if(p<=0||w<=0)throw new Y;const E=o/2;l+=E,d+=E;const A=new ke(p,w);for(let T=0;T<w;T++){const O=l+T*o;for(let D=0;D<p;D++)t.get(d+D*o,O)&&A.set(D,T)}return A}static moduleSize(t,r){const s=r.getWidth();let o=t[0];const l=t[1];for(;o<s&&r.get(o,l);)o++;if(o===s)throw new Y;const u=o-t[0];if(u===0)throw new Y;return u}}hr.NO_POINTS=[];class Bh extends fn{constructor(t=500){super(new hr,t)}}var hi;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(hi||(hi={}));class He{constructor(t,r,s){this.value=t,this.stringValue=r,this.bits=s,He.FOR_BITS.set(s,this),He.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return He.L;case"M":return He.M;case"Q":return He.Q;case"H":return He.H;default:throw new I(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof He))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=He.FOR_BITS.size)throw new S;return He.FOR_BITS.get(t)}}He.FOR_BITS=new Map,He.FOR_VALUE=new Map,He.L=new He(hi.L,"L",1),He.M=new He(hi.M,"M",0),He.Q=new He(hi.Q,"Q",3),He.H=new He(hi.H,"H",2);class Rt{constructor(t){this.errorCorrectionLevel=He.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return _.bitCount(t^r)}static decodeFormatInformation(t,r){const s=Rt.doDecodeFormatInformation(t,r);return s!==null?s:Rt.doDecodeFormatInformation(t^Rt.FORMAT_INFO_MASK_QR,r^Rt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let s=Number.MAX_SAFE_INTEGER,o=0;for(const l of Rt.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===t||u===r)return new Rt(l[1]);let d=Rt.numBitsDiffering(t,u);d<s&&(o=l[1],s=d),t!==r&&(d=Rt.numBitsDiffering(r,u),d<s&&(o=l[1],s=d))}return s<=3?new Rt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Rt))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Rt.FORMAT_INFO_MASK_QR=21522,Rt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class P{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const s of r)t+=s.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class v{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class fe{constructor(t,r,...s){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=s;let o=0;const l=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();for(const d of u)o+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new U;try{return this.getVersionForNumber((t-17)/4)}catch{throw new U}}static getVersionForNumber(t){if(t<1||t>40)throw new S;return fe.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,s=0;for(let o=0;o<fe.VERSION_DECODE_INFO.length;o++){const l=fe.VERSION_DECODE_INFO[o];if(l===t)return fe.getVersionForNumber(o+7);const u=Rt.numBitsDiffering(t,l);u<r&&(s=o+7,r=u)}return r<=3?fe.getVersionForNumber(s):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new ke(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const s=this.alignmentPatternCenters.length;for(let o=0;o<s;o++){const l=this.alignmentPatternCenters[o]-2;for(let u=0;u<s;u++)o===0&&(u===0||u===s-1)||o===s-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}fe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),fe.VERSIONS=[new fe(1,new Int32Array(0),new P(7,new v(1,19)),new P(10,new v(1,16)),new P(13,new v(1,13)),new P(17,new v(1,9))),new fe(2,Int32Array.from([6,18]),new P(10,new v(1,34)),new P(16,new v(1,28)),new P(22,new v(1,22)),new P(28,new v(1,16))),new fe(3,Int32Array.from([6,22]),new P(15,new v(1,55)),new P(26,new v(1,44)),new P(18,new v(2,17)),new P(22,new v(2,13))),new fe(4,Int32Array.from([6,26]),new P(20,new v(1,80)),new P(18,new v(2,32)),new P(26,new v(2,24)),new P(16,new v(4,9))),new fe(5,Int32Array.from([6,30]),new P(26,new v(1,108)),new P(24,new v(2,43)),new P(18,new v(2,15),new v(2,16)),new P(22,new v(2,11),new v(2,12))),new fe(6,Int32Array.from([6,34]),new P(18,new v(2,68)),new P(16,new v(4,27)),new P(24,new v(4,19)),new P(28,new v(4,15))),new fe(7,Int32Array.from([6,22,38]),new P(20,new v(2,78)),new P(18,new v(4,31)),new P(18,new v(2,14),new v(4,15)),new P(26,new v(4,13),new v(1,14))),new fe(8,Int32Array.from([6,24,42]),new P(24,new v(2,97)),new P(22,new v(2,38),new v(2,39)),new P(22,new v(4,18),new v(2,19)),new P(26,new v(4,14),new v(2,15))),new fe(9,Int32Array.from([6,26,46]),new P(30,new v(2,116)),new P(22,new v(3,36),new v(2,37)),new P(20,new v(4,16),new v(4,17)),new P(24,new v(4,12),new v(4,13))),new fe(10,Int32Array.from([6,28,50]),new P(18,new v(2,68),new v(2,69)),new P(26,new v(4,43),new v(1,44)),new P(24,new v(6,19),new v(2,20)),new P(28,new v(6,15),new v(2,16))),new fe(11,Int32Array.from([6,30,54]),new P(20,new v(4,81)),new P(30,new v(1,50),new v(4,51)),new P(28,new v(4,22),new v(4,23)),new P(24,new v(3,12),new v(8,13))),new fe(12,Int32Array.from([6,32,58]),new P(24,new v(2,92),new v(2,93)),new P(22,new v(6,36),new v(2,37)),new P(26,new v(4,20),new v(6,21)),new P(28,new v(7,14),new v(4,15))),new fe(13,Int32Array.from([6,34,62]),new P(26,new v(4,107)),new P(22,new v(8,37),new v(1,38)),new P(24,new v(8,20),new v(4,21)),new P(22,new v(12,11),new v(4,12))),new fe(14,Int32Array.from([6,26,46,66]),new P(30,new v(3,115),new v(1,116)),new P(24,new v(4,40),new v(5,41)),new P(20,new v(11,16),new v(5,17)),new P(24,new v(11,12),new v(5,13))),new fe(15,Int32Array.from([6,26,48,70]),new P(22,new v(5,87),new v(1,88)),new P(24,new v(5,41),new v(5,42)),new P(30,new v(5,24),new v(7,25)),new P(24,new v(11,12),new v(7,13))),new fe(16,Int32Array.from([6,26,50,74]),new P(24,new v(5,98),new v(1,99)),new P(28,new v(7,45),new v(3,46)),new P(24,new v(15,19),new v(2,20)),new P(30,new v(3,15),new v(13,16))),new fe(17,Int32Array.from([6,30,54,78]),new P(28,new v(1,107),new v(5,108)),new P(28,new v(10,46),new v(1,47)),new P(28,new v(1,22),new v(15,23)),new P(28,new v(2,14),new v(17,15))),new fe(18,Int32Array.from([6,30,56,82]),new P(30,new v(5,120),new v(1,121)),new P(26,new v(9,43),new v(4,44)),new P(28,new v(17,22),new v(1,23)),new P(28,new v(2,14),new v(19,15))),new fe(19,Int32Array.from([6,30,58,86]),new P(28,new v(3,113),new v(4,114)),new P(26,new v(3,44),new v(11,45)),new P(26,new v(17,21),new v(4,22)),new P(26,new v(9,13),new v(16,14))),new fe(20,Int32Array.from([6,34,62,90]),new P(28,new v(3,107),new v(5,108)),new P(26,new v(3,41),new v(13,42)),new P(30,new v(15,24),new v(5,25)),new P(28,new v(15,15),new v(10,16))),new fe(21,Int32Array.from([6,28,50,72,94]),new P(28,new v(4,116),new v(4,117)),new P(26,new v(17,42)),new P(28,new v(17,22),new v(6,23)),new P(30,new v(19,16),new v(6,17))),new fe(22,Int32Array.from([6,26,50,74,98]),new P(28,new v(2,111),new v(7,112)),new P(28,new v(17,46)),new P(30,new v(7,24),new v(16,25)),new P(24,new v(34,13))),new fe(23,Int32Array.from([6,30,54,78,102]),new P(30,new v(4,121),new v(5,122)),new P(28,new v(4,47),new v(14,48)),new P(30,new v(11,24),new v(14,25)),new P(30,new v(16,15),new v(14,16))),new fe(24,Int32Array.from([6,28,54,80,106]),new P(30,new v(6,117),new v(4,118)),new P(28,new v(6,45),new v(14,46)),new P(30,new v(11,24),new v(16,25)),new P(30,new v(30,16),new v(2,17))),new fe(25,Int32Array.from([6,32,58,84,110]),new P(26,new v(8,106),new v(4,107)),new P(28,new v(8,47),new v(13,48)),new P(30,new v(7,24),new v(22,25)),new P(30,new v(22,15),new v(13,16))),new fe(26,Int32Array.from([6,30,58,86,114]),new P(28,new v(10,114),new v(2,115)),new P(28,new v(19,46),new v(4,47)),new P(28,new v(28,22),new v(6,23)),new P(30,new v(33,16),new v(4,17))),new fe(27,Int32Array.from([6,34,62,90,118]),new P(30,new v(8,122),new v(4,123)),new P(28,new v(22,45),new v(3,46)),new P(30,new v(8,23),new v(26,24)),new P(30,new v(12,15),new v(28,16))),new fe(28,Int32Array.from([6,26,50,74,98,122]),new P(30,new v(3,117),new v(10,118)),new P(28,new v(3,45),new v(23,46)),new P(30,new v(4,24),new v(31,25)),new P(30,new v(11,15),new v(31,16))),new fe(29,Int32Array.from([6,30,54,78,102,126]),new P(30,new v(7,116),new v(7,117)),new P(28,new v(21,45),new v(7,46)),new P(30,new v(1,23),new v(37,24)),new P(30,new v(19,15),new v(26,16))),new fe(30,Int32Array.from([6,26,52,78,104,130]),new P(30,new v(5,115),new v(10,116)),new P(28,new v(19,47),new v(10,48)),new P(30,new v(15,24),new v(25,25)),new P(30,new v(23,15),new v(25,16))),new fe(31,Int32Array.from([6,30,56,82,108,134]),new P(30,new v(13,115),new v(3,116)),new P(28,new v(2,46),new v(29,47)),new P(30,new v(42,24),new v(1,25)),new P(30,new v(23,15),new v(28,16))),new fe(32,Int32Array.from([6,34,60,86,112,138]),new P(30,new v(17,115)),new P(28,new v(10,46),new v(23,47)),new P(30,new v(10,24),new v(35,25)),new P(30,new v(19,15),new v(35,16))),new fe(33,Int32Array.from([6,30,58,86,114,142]),new P(30,new v(17,115),new v(1,116)),new P(28,new v(14,46),new v(21,47)),new P(30,new v(29,24),new v(19,25)),new P(30,new v(11,15),new v(46,16))),new fe(34,Int32Array.from([6,34,62,90,118,146]),new P(30,new v(13,115),new v(6,116)),new P(28,new v(14,46),new v(23,47)),new P(30,new v(44,24),new v(7,25)),new P(30,new v(59,16),new v(1,17))),new fe(35,Int32Array.from([6,30,54,78,102,126,150]),new P(30,new v(12,121),new v(7,122)),new P(28,new v(12,47),new v(26,48)),new P(30,new v(39,24),new v(14,25)),new P(30,new v(22,15),new v(41,16))),new fe(36,Int32Array.from([6,24,50,76,102,128,154]),new P(30,new v(6,121),new v(14,122)),new P(28,new v(6,47),new v(34,48)),new P(30,new v(46,24),new v(10,25)),new P(30,new v(2,15),new v(64,16))),new fe(37,Int32Array.from([6,28,54,80,106,132,158]),new P(30,new v(17,122),new v(4,123)),new P(28,new v(29,46),new v(14,47)),new P(30,new v(49,24),new v(10,25)),new P(30,new v(24,15),new v(46,16))),new fe(38,Int32Array.from([6,32,58,84,110,136,162]),new P(30,new v(4,122),new v(18,123)),new P(28,new v(13,46),new v(32,47)),new P(30,new v(48,24),new v(14,25)),new P(30,new v(42,15),new v(32,16))),new fe(39,Int32Array.from([6,26,54,82,110,138,166]),new P(30,new v(20,117),new v(4,118)),new P(28,new v(40,47),new v(7,48)),new P(30,new v(43,24),new v(22,25)),new P(30,new v(10,15),new v(67,16))),new fe(40,Int32Array.from([6,30,58,86,114,142,170]),new P(30,new v(19,118),new v(6,119)),new P(28,new v(18,47),new v(31,48)),new P(30,new v(34,24),new v(34,25)),new P(30,new v(20,15),new v(61,16)))];var wt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(wt||(wt={}));class hn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let s=0;s<r;s++)for(let o=0;o<r;o++)this.isMasked(s,o)&&t.flip(o,s)}}hn.values=new Map([[wt.DATA_MASK_000,new hn(wt.DATA_MASK_000,(C,t)=>(C+t&1)===0)],[wt.DATA_MASK_001,new hn(wt.DATA_MASK_001,(C,t)=>(C&1)===0)],[wt.DATA_MASK_010,new hn(wt.DATA_MASK_010,(C,t)=>t%3===0)],[wt.DATA_MASK_011,new hn(wt.DATA_MASK_011,(C,t)=>(C+t)%3===0)],[wt.DATA_MASK_100,new hn(wt.DATA_MASK_100,(C,t)=>(Math.floor(C/2)+Math.floor(t/3)&1)===0)],[wt.DATA_MASK_101,new hn(wt.DATA_MASK_101,(C,t)=>C*t%6===0)],[wt.DATA_MASK_110,new hn(wt.DATA_MASK_110,(C,t)=>C*t%6<3)],[wt.DATA_MASK_111,new hn(wt.DATA_MASK_111,(C,t)=>(C+t+C*t%3&1)===0)]]);class Ph{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new U;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let s=0;const o=r-7;for(let l=r-1;l>=o;l--)s=this.copyBit(8,l,s);for(let l=r-8;l<r;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=Rt.decodeFormatInformation(t,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new U}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return fe.getVersionForNumber(r);let s=0;const o=t-11;for(let u=5;u>=0;u--)for(let d=t-9;d>=o;d--)s=this.copyBit(d,u,s);let l=fe.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;s=0;for(let u=5;u>=0;u--)for(let d=t-9;d>=o;d--)s=this.copyBit(u,d,s);if(l=fe.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new U}copyBit(t,r,s){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?s<<1|1:s<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),s=hn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let u=!0;const d=new Uint8Array(r.getTotalCodewords());let h=0,p=0,w=0;for(let E=o-1;E>0;E-=2){E===6&&E--;for(let A=0;A<o;A++){const T=u?o-1-A:A;for(let O=0;O<2;O++)l.get(E-O,T)||(w++,p<<=1,this.bitMatrix.get(E-O,T)&&(p|=1),w===8&&(d[h++]=p,w=0,p=0))}u=!u}if(h!==r.getTotalCodewords())throw new U;return d}remask(){if(this.parsedFormatInfo===null)return;const t=hn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,s=t.getWidth();r<s;r++)for(let o=r+1,l=t.getHeight();o<l;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class $a{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,s){if(t.length!==r.getTotalCodewords())throw new S;const o=r.getECBlocksForLevel(s);let l=0;const u=o.getECBlocks();for(const O of u)l+=O.getCount();const d=new Array(l);let h=0;for(const O of u)for(let D=0;D<O.getCount();D++){const k=O.getDataCodewords(),H=o.getECCodewordsPerBlock()+k;d[h++]=new $a(k,new Uint8Array(H))}const p=d[0].codewords.length;let w=d.length-1;for(;w>=0&&d[w].codewords.length!==p;)w--;w++;const E=p-o.getECCodewordsPerBlock();let A=0;for(let O=0;O<E;O++)for(let D=0;D<h;D++)d[D].codewords[O]=t[A++];for(let O=w;O<h;O++)d[O].codewords[E]=t[A++];const T=d[0].codewords.length;for(let O=E;O<T;O++)for(let D=0;D<h;D++){const k=D<w?O:O+1;d[D].codewords[k]=t[A++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gn;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(gn||(gn={}));class de{constructor(t,r,s,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=o,de.FOR_BITS.set(o,this),de.FOR_VALUE.set(t,this)}static forBits(t){const r=de.FOR_BITS.get(t);if(r===void 0)throw new S;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof de))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}de.FOR_BITS=new Map,de.FOR_VALUE=new Map,de.TERMINATOR=new de(gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),de.NUMERIC=new de(gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),de.ALPHANUMERIC=new de(gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),de.STRUCTURED_APPEND=new de(gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),de.BYTE=new de(gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),de.ECI=new de(gn.ECI,"ECI",Int32Array.from([0,0,0]),7),de.KANJI=new de(gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),de.FNC1_FIRST_POSITION=new de(gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),de.FNC1_SECOND_POSITION=new de(gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),de.HANZI=new de(gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class $e{static decode(t,r,s,o){const l=new Ja(t);let u=new we;const d=new Array;let h=-1,p=-1;try{let w=null,E=!1,A;do{if(l.available()<4)A=de.TERMINATOR;else{const T=l.readBits(4);A=de.forBits(T)}switch(A){case de.TERMINATOR:break;case de.FNC1_FIRST_POSITION:case de.FNC1_SECOND_POSITION:E=!0;break;case de.STRUCTURED_APPEND:if(l.available()<16)throw new U;h=l.readBits(8),p=l.readBits(8);break;case de.ECI:const T=$e.parseECIValue(l);if(w=G.getCharacterSetECIByValue(T),w===null)throw new U;break;case de.HANZI:const O=l.readBits(4),D=l.readBits(A.getCharacterCountBits(r));O===$e.GB2312_SUBSET&&$e.decodeHanziSegment(l,u,D);break;default:const k=l.readBits(A.getCharacterCountBits(r));switch(A){case de.NUMERIC:$e.decodeNumericSegment(l,u,k);break;case de.ALPHANUMERIC:$e.decodeAlphanumericSegment(l,u,k,E);break;case de.BYTE:$e.decodeByteSegment(l,u,k,w,d,o);break;case de.KANJI:$e.decodeKanjiSegment(l,u,k);break;default:throw new U}break}}while(A!==de.TERMINATOR)}catch{throw new U}return new Ki(t,u.toString(),d.length===0?null:d,s===null?null:s.toString(),h,p)}static decodeHanziSegment(t,r,s){if(s*13>t.available())throw new U;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const u=t.readBits(13);let d=u/96<<8&4294967295|u%96;d<959?d+=41377:d+=42657,o[l]=d>>8&255,o[l+1]=d&255,l+=2,s--}try{r.append(ce.decode(o,ne.GB2312))}catch(u){throw new U(u)}}static decodeKanjiSegment(t,r,s){if(s*13>t.available())throw new U;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const u=t.readBits(13);let d=u/192<<8&4294967295|u%192;d<7936?d+=33088:d+=49472,o[l]=d>>8,o[l+1]=d,l+=2,s--}try{r.append(ce.decode(o,ne.SHIFT_JIS))}catch(u){throw new U(u)}}static decodeByteSegment(t,r,s,o,l,u){if(8*s>t.available())throw new U;const d=new Uint8Array(s);for(let p=0;p<s;p++)d[p]=t.readBits(8);let h;o===null?h=ne.guessEncoding(d,u):h=o.getName();try{r.append(ce.decode(d,h))}catch(p){throw new U(p)}l.push(d)}static toAlphaNumericChar(t){if(t>=$e.ALPHANUMERIC_CHARS.length)throw new U;return $e.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,s,o){const l=r.length();for(;s>1;){if(t.available()<11)throw new U;const u=t.readBits(11);r.append($e.toAlphaNumericChar(Math.floor(u/45))),r.append($e.toAlphaNumericChar(u%45)),s-=2}if(s===1){if(t.available()<6)throw new U;r.append($e.toAlphaNumericChar(t.readBits(6)))}if(o)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,s){for(;s>=3;){if(t.available()<10)throw new U;const o=t.readBits(10);if(o>=1e3)throw new U;r.append($e.toAlphaNumericChar(Math.floor(o/100))),r.append($e.toAlphaNumericChar(Math.floor(o/10)%10)),r.append($e.toAlphaNumericChar(o%10)),s-=3}if(s===2){if(t.available()<7)throw new U;const o=t.readBits(7);if(o>=100)throw new U;r.append($e.toAlphaNumericChar(Math.floor(o/10))),r.append($e.toAlphaNumericChar(o%10))}else if(s===1){if(t.available()<4)throw new U;const o=t.readBits(4);if(o>=10)throw new U;r.append($e.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const s=t.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){const s=t.readBits(16);return(r&31)<<16&4294967295|s}throw new U}}$e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",$e.GB2312_SUBSET=1;class Qc{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class Fh{constructor(){this.rsDecoder=new Ji(Me.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(ke.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const s=new Ph(t);let o=null;try{return this.decodeBitMatrixParser(s,r)}catch(l){o=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const l=this.decodeBitMatrixParser(s,r);return l.setOther(new Qc(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(t,r){const s=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=$a.getDataBlocks(l,s,o);let d=0;for(const w of u)d+=w.getNumDataCodewords();const h=new Uint8Array(d);let p=0;for(const w of u){const E=w.getCodewords(),A=w.getNumDataCodewords();this.correctErrors(E,A);for(let T=0;T<A;T++)h[p++]=E[T]}return $e.decode(h,s,o,r)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new b}for(let o=0;o<r;o++)t[o]=s[o]}}class el extends le{constructor(t,r,s){super(t,r),this.estimatedModuleSize=s}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=(this.getX()+r)/2,l=(this.getY()+t)/2,u=(this.estimatedModuleSize+s)/2;return new el(o,l,u)}}class fo{constructor(t,r,s,o,l,u,d){this.image=t,this.startX=r,this.startY=s,this.width=o,this.height=l,this.moduleSize=u,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,s=this.width,o=t+s,l=this.startY+r/2,u=new Int32Array(3),d=this.image;for(let h=0;h<r;h++){const p=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let w=t;for(;w<o&&!d.get(w,p);)w++;let E=0;for(;w<o;){if(d.get(w,p))if(E===1)u[1]++;else if(E===2){if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,p,w);if(A!==null)return A}u[0]=u[2],u[1]=1,u[2]=0,E=1}else u[++E]++;else E===1&&E++,u[E]++;w++}if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,p,o);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,s=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=s)return!1;return!0}crossCheckVertical(t,r,s,o){const l=this.image,u=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=t;for(;h>=0&&l.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&!l.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<u&&l.get(r,h)&&d[1]<=s;)d[1]++,h++;if(h===u||d[1]>s)return NaN;for(;h<u&&!l.get(r,h)&&d[2]<=s;)d[2]++,h++;if(d[2]>s)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-o)>=2*o?NaN:this.foundPatternCross(d)?fo.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,s){const o=t[0]+t[1]+t[2],l=fo.centerFromEnd(t,s),u=this.crossCheckVertical(r,l,2*t[1],o);if(!isNaN(u)){const d=(t[0]+t[1]+t[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,u,l))return p.combineEstimate(u,l,d);const h=new el(l,u,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class tl extends le{constructor(t,r,s,o){super(t,r),this.estimatedModuleSize=s,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=this.count+1,l=(this.count*this.getX()+r)/o,u=(this.count*this.getY()+t)/o,d=(this.count*this.estimatedModuleSize+s)/o;return new tl(l,u,d,o)}}class Uh{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class yt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(Z.TRY_HARDER)!==void 0,s=t!=null&&t.get(Z.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),u=o.getWidth();let d=Math.floor(3*l/(4*yt.MAX_MODULES));(d<yt.MIN_SKIP||r)&&(d=yt.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let E=d-1;E<l&&!h;E+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let A=0;for(let T=0;T<u;T++)if(o.get(T,E))(A&1)===1&&A++,p[A]++;else if(A&1)p[A]++;else if(A===4)if(yt.foundPatternCross(p)){if(this.handlePossibleCenter(p,E,T,s)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const D=this.findRowSkip();D>p[2]&&(E+=D-p[2]-d,T=u-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;continue}A=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;else p[++A]++;yt.foundPatternCross(p)&&this.handlePossibleCenter(p,E,u,s)===!0&&(d=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return le.orderBestPatterns(w),new Uh(w)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const u=t[l];if(u===0)return!1;r+=u}if(r<7)return!1;const s=r/7,o=s/2;return Math.abs(s-t[0])<o&&Math.abs(s-t[1])<o&&Math.abs(3*s-t[2])<3*o&&Math.abs(s-t[3])<o&&Math.abs(s-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,s,o){const l=this.getCrossCheckStateCount();let u=0;const d=this.image;for(;t>=u&&r>=u&&d.get(r-u,t-u);)l[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!d.get(r-u,t-u)&&l[1]<=s;)l[1]++,u++;if(t<u||r<u||l[1]>s)return!1;for(;t>=u&&r>=u&&d.get(r-u,t-u)&&l[0]<=s;)l[0]++,u++;if(l[0]>s)return!1;const h=d.getHeight(),p=d.getWidth();for(u=1;t+u<h&&r+u<p&&d.get(r+u,t+u);)l[2]++,u++;if(t+u>=h||r+u>=p)return!1;for(;t+u<h&&r+u<p&&!d.get(r+u,t+u)&&l[3]<s;)l[3]++,u++;if(t+u>=h||r+u>=p||l[3]>=s)return!1;for(;t+u<h&&r+u<p&&d.get(r+u,t+u)&&l[4]<s;)l[4]++,u++;if(l[4]>=s)return!1;const w=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(w-o)<2*o&&yt.foundPatternCross(l)}crossCheckVertical(t,r,s,o){const l=this.image,u=l.getHeight(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(r,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<u&&l.get(r,h);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&d[3]<s;)d[3]++,h++;if(h===u||d[3]>=s)return NaN;for(;h<u&&l.get(r,h)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-o)>=2*o?NaN:yt.foundPatternCross(d)?yt.centerFromEnd(d,h):NaN}crossCheckHorizontal(t,r,s,o){const l=this.image,u=l.getWidth(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,r);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(h,r)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<u&&l.get(h,r);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&d[3]<s;)d[3]++,h++;if(h===u||d[3]>=s)return NaN;for(;h<u&&l.get(h,r)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-o)>=o?NaN:yt.foundPatternCross(d)?yt.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,s,o){const l=t[0]+t[1]+t[2]+t[3]+t[4];let u=yt.centerFromEnd(t,s),d=this.crossCheckVertical(r,Math.floor(u),t[2],l);if(!isNaN(d)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(d),t[2],l),!isNaN(u)&&(!o||this.crossCheckDiagonal(Math.floor(d),Math.floor(u),t[2],l)))){const h=l/7;let p=!1;const w=this.possibleCenters;for(let E=0,A=w.length;E<A;E++){const T=w[E];if(T.aboutEquals(h,d,u)){w[E]=T.combineEstimate(d,u,h),p=!0;break}}if(!p){const E=new tl(u,d,h);w.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const s of this.possibleCenters)if(s.getCount()>=yt.CENTER_QUORUM)if(r==null)r=s;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const s=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=yt.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const o=r/s;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new Y;const r=this.possibleCenters;let s;if(t>3){let o=0,l=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();o+=p,l+=p*p}s=o/t;let u=Math.sqrt(l/t-s*s);r.sort((h,p)=>{const w=Math.abs(p.getEstimatedModuleSize()-s),E=Math.abs(h.getEstimatedModuleSize()-s);return w<E?-1:w>E?1:0});const d=Math.max(.2*s,u);for(let h=0;h<r.length&&r.length>3;h++){const p=r[h];Math.abs(p.getEstimatedModuleSize()-s)>d&&(r.splice(h,1),h--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();s=o/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const d=Math.abs(u.getEstimatedModuleSize()-s),h=Math.abs(l.getEstimatedModuleSize()-s);return d<h?1:d>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}yt.CENTER_QUORUM=2,yt.MIN_SKIP=3,yt.MAX_MODULES=57;class es{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Z.NEED_RESULT_POINT_CALLBACK);const s=new yt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(s)}processFinderPatternInfo(t){const r=t.getTopLeft(),s=t.getTopRight(),o=t.getBottomLeft(),l=this.calculateModuleSize(r,s,o);if(l<1)throw new Y("No pattern found in proccess finder.");const u=es.computeDimension(r,s,o,l),d=fe.getProvisionalVersionForDimension(u),h=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const T=s.getX()-r.getX()+o.getX(),O=s.getY()-r.getY()+o.getY(),D=1-3/h,k=Math.floor(r.getX()+D*(T-r.getX())),H=Math.floor(r.getY()+D*(O-r.getY()));for(let $=4;$<=16;$<<=1)try{p=this.findAlignmentInRegion(l,k,H,$);break}catch(ee){if(!(ee instanceof Y))throw ee}}const w=es.createTransform(r,s,o,p,u),E=es.sampleGrid(this.image,w,u);let A;return p===null?A=[o,r,s]:A=[o,r,s,p],new oo(E,A)}static createTransform(t,r,s,o,l){const u=l-3.5;let d,h,p,w;return o!==null?(d=o.getX(),h=o.getY(),p=u-3,w=p):(d=r.getX()-t.getX()+s.getX(),h=r.getY()-t.getY()+s.getY(),p=u,w=u),An.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,p,w,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),d,h,s.getX(),s.getY())}static sampleGrid(t,r,s){return cr.getInstance().sampleGridWithTransform(t,s,s,r)}static computeDimension(t,r,s,o){const l=Te.round(le.distance(t,r)/o),u=Te.round(le.distance(t,s)/o);let d=Math.floor((l+u)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new Y("Dimensions could be not found.")}return d}calculateModuleSize(t,r,s){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,s))/2}calculateModuleSizeOneWay(t,r){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(s)?o/7:isNaN(o)?s/7:(s+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,s,o){let l=this.sizeOfBlackWhiteBlackRun(t,r,s,o),u=1,d=t-(s-t);d<0?(u=t/(t-d),d=0):d>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(d-t),d=this.image.getWidth()-1);let h=Math.floor(r-(o-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),d=Math.floor(t+(d-t)*u),l+=this.sizeOfBlackWhiteBlackRun(t,r,d,h),l-1}sizeOfBlackWhiteBlackRun(t,r,s,o){const l=Math.abs(o-r)>Math.abs(s-t);if(l){let T=t;t=r,r=T,T=s,s=o,o=T}const u=Math.abs(s-t),d=Math.abs(o-r);let h=-u/2;const p=t<s?1:-1,w=r<o?1:-1;let E=0;const A=s+p;for(let T=t,O=r;T!==A;T+=p){const D=l?O:T,k=l?T:O;if(E===1===this.image.get(D,k)){if(E===2)return Te.distance(T,O,t,r);E++}if(h+=d,h>0){if(O===o)break;O+=w,h-=u}}return E===2?Te.distance(s+p,o,t,r):NaN}findAlignmentInRegion(t,r,s,o){const l=Math.floor(o*t),u=Math.max(0,r-l),d=Math.min(this.image.getWidth()-1,r+l);if(d-u<t*3)throw new Y("Alignment top exceeds estimated module size.");const h=Math.max(0,s-l),p=Math.min(this.image.getHeight()-1,s+l);if(p-h<t*3)throw new Y("Alignment bottom exceeds estimated module size.");return new fo(this.image,u,h,d-u,p-h,t,this.resultPointCallback).find()}}class gr{constructor(){this.decoder=new Fh}getDecoder(){return this.decoder}decode(t,r){let s,o;if(r!=null&&r.get(Z.PURE_BARCODE)!==void 0){const h=gr.extractPureBits(t.getBlackMatrix());s=this.decoder.decodeBitMatrix(h,r),o=gr.NO_POINTS}else{const h=new es(t.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(h.getBits(),r),o=h.getPoints()}s.getOther()instanceof Qc&&s.getOther().applyMirroredCorrection(o);const l=new Je(s.getText(),s.getRawBytes(),void 0,o,ue.QR_CODE,void 0),u=s.getByteSegments();u!==null&&l.putMetadata(mt.BYTE_SEGMENTS,u);const d=s.getECLevel();return d!==null&&l.putMetadata(mt.ERROR_CORRECTION_LEVEL,d),s.hasStructuredAppend()&&(l.putMetadata(mt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(mt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r===null||s===null)throw new Y;const o=this.moduleSize(r,t);let l=r[1],u=s[1],d=r[0],h=s[0];if(d>=h||l>=u)throw new Y;if(u-l!==h-d&&(h=d+(u-l),h>=t.getWidth()))throw new Y;const p=Math.round((h-d+1)/o),w=Math.round((u-l+1)/o);if(p<=0||w<=0)throw new Y;if(w!==p)throw new Y;const E=Math.floor(o/2);l+=E,d+=E;const A=d+Math.floor((p-1)*o)-h;if(A>0){if(A>E)throw new Y;d-=A}const T=l+Math.floor((w-1)*o)-u;if(T>0){if(T>E)throw new Y;l-=T}const O=new ke(p,w);for(let D=0;D<w;D++){const k=l+Math.floor(D*o);for(let H=0;H<p;H++)t.get(d+Math.floor(H*o),k)&&O.set(H,D)}return O}static moduleSize(t,r){const s=r.getHeight(),o=r.getWidth();let l=t[0],u=t[1],d=!0,h=0;for(;l<o&&u<s;){if(d!==r.get(l,u)){if(++h===5)break;d=!d}l++,u++}if(l===o||u===s)throw new Y;return(l-t[0])/7}}gr.NO_POINTS=new Array;class xe{PDF417Common(){}static getBitCountSum(t){return Te.sum(t)}static toIntArray(t){if(t==null||!t.length)return xe.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let s=0;for(const o of t)r[s++]=o;return r}static getCodeword(t){const r=N.binarySearch(xe.SYMBOL_TABLE,t&262143);return r<0?-1:(xe.CODEWORD_TABLE[r]-1)%xe.NUMBER_OF_CODEWORDS}}xe.NUMBER_OF_CODEWORDS=929,xe.MAX_CODEWORDS_IN_BARCODE=xe.NUMBER_OF_CODEWORDS-1,xe.MIN_ROWS_IN_BARCODE=3,xe.MAX_ROWS_IN_BARCODE=90,xe.MODULES_IN_CODEWORD=17,xe.MODULES_IN_STOP_PATTERN=18,xe.BARS_IN_MODULE=8,xe.EMPTY_INT_ARRAY=new Int32Array([]),xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class jh{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ce{static detectMultiple(t,r,s){let o=t.getBlackMatrix(),l=Ce.detect(s,o);return l.length||(o=o.clone(),o.rotate180(),l=Ce.detect(s,o)),new jh(o,l)}static detect(t,r){const s=new Array;let o=0,l=0,u=!1;for(;o<r.getHeight();){const d=Ce.findVertices(r,o,l);if(d[0]==null&&d[3]==null){if(!u)break;u=!1,l=0;for(const h of s)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=Ce.ROW_STEP;continue}if(u=!0,s.push(d),!t)break;d[2]!=null?(l=Math.trunc(d[2].getX()),o=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY()))}return s}static findVertices(t,r,s){const o=t.getHeight(),l=t.getWidth(),u=new Array(8);return Ce.copyToResult(u,Ce.findRowsWithPattern(t,o,l,r,s,Ce.START_PATTERN),Ce.INDEXES_START_PATTERN),u[4]!=null&&(s=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),Ce.copyToResult(u,Ce.findRowsWithPattern(t,o,l,r,s,Ce.STOP_PATTERN),Ce.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,s){for(let o=0;o<s.length;o++)t[s[o]]=r[o]}static findRowsWithPattern(t,r,s,o,l,u){const d=new Array(4);let h=!1;const p=new Int32Array(u.length);for(;o<r;o+=Ce.ROW_STEP){let E=Ce.findGuardPattern(t,l,o,s,!1,u,p);if(E!=null){for(;o>0;){const A=Ce.findGuardPattern(t,l,--o,s,!1,u,p);if(A!=null)E=A;else{o++;break}}d[0]=new le(E[0],o),d[1]=new le(E[1],o),h=!0;break}}let w=o+1;if(h){let E=0,A=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;w<r;w++){const T=Ce.findGuardPattern(t,A[0],w,s,!1,u,p);if(T!=null&&Math.abs(A[0]-T[0])<Ce.MAX_PATTERN_DRIFT&&Math.abs(A[1]-T[1])<Ce.MAX_PATTERN_DRIFT)A=T,E=0;else{if(E>Ce.SKIPPED_ROW_COUNT_MAX)break;E++}}w-=E+1,d[2]=new le(A[0],w),d[3]=new le(A[1],w)}return w-o<Ce.BARCODE_MIN_HEIGHT&&N.fill(d,null),d}static findGuardPattern(t,r,s,o,l,u,d){N.fillWithin(d,0,d.length,0);let h=r,p=0;for(;t.get(h,s)&&h>0&&p++<Ce.MAX_PIXEL_DRIFT;)h--;let w=h,E=0,A=u.length;for(let T=l;w<o;w++)if(t.get(w,s)!==T)d[E]++;else{if(E===A-1){if(Ce.patternMatchVariance(d,u,Ce.MAX_INDIVIDUAL_VARIANCE)<Ce.MAX_AVG_VARIANCE)return new Int32Array([h,w]);h+=d[0]+d[1],L.arraycopy(d,2,d,0,E-1),d[E-1]=0,d[E]=0,E--}else E++;d[E]=1,T=!T}return E===A-1&&Ce.patternMatchVariance(d,u,Ce.MAX_INDIVIDUAL_VARIANCE)<Ce.MAX_AVG_VARIANCE?new Int32Array([h,w-1]):null}static patternMatchVariance(t,r,s){let o=t.length,l=0,u=0;for(let p=0;p<o;p++)l+=t[p],u+=r[p];if(l<u)return 1/0;let d=l/u;s*=d;let h=0;for(let p=0;p<o;p++){let w=t[p],E=r[p]*d,A=w>E?w-E:E-w;if(A>s)return 1/0;h+=A}return h/l}}Ce.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ce.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ce.MAX_AVG_VARIANCE=.42,Ce.MAX_INDIVIDUAL_VARIANCE=.8,Ce.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ce.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ce.MAX_PIXEL_DRIFT=3,Ce.MAX_PATTERN_DRIFT=5,Ce.SKIPPED_ROW_COUNT_MAX=25,Ce.ROW_STEP=5,Ce.BARCODE_MIN_HEIGHT=10;class St{constructor(t,r){if(r.length===0)throw new S;this.field=t;let s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-o),L.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],s=this.coefficients.length;for(let o=1;o<s;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){let u=r;r=s,s=u}let o=new Int32Array(s.length),l=s.length-r.length;L.arraycopy(s,0,o,0,l);for(let u=l;u<s.length;u++)o[u]=this.field.add(r[u-l],s[u]);return new St(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof St?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new St(this.field,new Int32Array([0]));let r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,u=new Int32Array(s+l-1);for(let d=0;d<s;d++){let h=r[d];for(let p=0;p<l;p++)u[d+p]=this.field.add(u[d+p],this.field.multiply(h,o[p]))}return new St(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let s=0;s<t;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new St(this.field,r)}multiplyScalar(t){if(t===0)return new St(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],t);return new St(this.field,s)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return new St(this.field,new Int32Array([0]));let s=this.coefficients.length,o=new Int32Array(s+t);for(let l=0;l<s;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new St(this.field,o)}toString(){let t=new we;for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);s!==0&&(s<0?(t.append(" - "),s=-s):t.length()>0&&t.append(" + "),(r===0||s!==1)&&t.append(s),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class zh{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}inverse(t){if(t===0)throw new io;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class nl extends zh{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let s=1;for(let o=0;o<t;o++)this.expTable[o]=s,s=s*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new St(this,new Int32Array([0])),this.one=new St(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;let s=new Int32Array(t+1);return s[0]=r,new St(this,s)}}nl.PDF417_GF=new nl(xe.NUMBER_OF_CODEWORDS,3);class Zc{constructor(){this.field=nl.PDF417_GF}decode(t,r,s){let o=new St(this.field,t),l=new Int32Array(r),u=!1;for(let O=r;O>0;O--){let D=o.evaluateAt(this.field.exp(O));l[r-O]=D,D!==0&&(u=!0)}if(!u)return 0;let d=this.field.getOne();if(s!=null)for(const O of s){let D=this.field.exp(t.length-1-O),k=new St(this.field,new Int32Array([this.field.subtract(0,D),1]));d=d.multiply(k)}let h=new St(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),w=p[0],E=p[1],A=this.findErrorLocations(w),T=this.findErrorMagnitudes(E,w,A);for(let O=0;O<A.length;O++){let D=t.length-1-this.field.log(A[O]);if(D<0)throw b.getChecksumInstance();t[D]=this.field.subtract(t[D],T[O])}return A.length}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){let A=t;t=r,r=A}let o=t,l=r,u=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let A=o,T=u;if(o=l,u=d,o.isZero())throw b.getChecksumInstance();l=A;let O=this.field.getZero(),D=o.getCoefficient(o.getDegree()),k=this.field.inverse(D);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let H=l.getDegree()-o.getDegree(),$=this.field.multiply(l.getCoefficient(l.getDegree()),k);O=O.add(this.field.buildMonomial(H,$)),l=l.subtract(o.multiplyByMonomial(H,$))}d=O.multiply(u).subtract(T).negative()}let h=d.getCoefficient(0);if(h===0)throw b.getChecksumInstance();let p=this.field.inverse(h),w=d.multiply(p),E=l.multiply(p);return[w,E]}findErrorLocations(t){let r=t.getDegree(),s=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)t.evaluateAt(l)===0&&(s[o]=this.field.inverse(l),o++);if(o!==r)throw b.getChecksumInstance();return s}findErrorMagnitudes(t,r,s){let o=r.getDegree(),l=new Int32Array(o);for(let p=1;p<=o;p++)l[o-p]=this.field.multiply(p,r.getCoefficient(p));let u=new St(this.field,l),d=s.length,h=new Int32Array(d);for(let p=0;p<d;p++){let w=this.field.inverse(s[p]),E=this.field.subtract(0,t.evaluateAt(w)),A=this.field.inverse(u.evaluateAt(w));h[p]=this.field.multiply(E,A)}return h}}class Vr{constructor(t,r,s,o,l){t instanceof Vr?this.constructor_2(t):this.constructor_1(t,r,s,o,l)}constructor_1(t,r,s,o,l){const u=r==null||s==null,d=o==null||l==null;if(u&&d)throw new Y;u?(r=new le(0,o.getY()),s=new le(0,l.getY())):d&&(o=new le(t.getWidth()-1,r.getY()),l=new le(t.getWidth()-1,s.getY())),this.image=t,this.topLeft=r,this.bottomLeft=s,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Vr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,s){let o=this.topLeft,l=this.bottomLeft,u=this.topRight,d=this.bottomRight;if(t>0){let h=s?this.topLeft:this.topRight,p=Math.trunc(h.getY()-t);p<0&&(p=0);let w=new le(h.getX(),p);s?o=w:u=w}if(r>0){let h=s?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let w=new le(h.getX(),p);s?l=w:d=w}return new Vr(this.image,o,l,u,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Hh{constructor(t,r,s,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ts{constructor(){this.buffer=""}static form(t,r){let s=-1;function o(u,d,h,p,w,E){if(u==="%%")return"%";if(r[++s]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let A=w?parseInt(w.substr(1)):void 0,T;switch(E){case"s":T=r[s];break;case"c":T=r[s][0];break;case"f":T=parseFloat(r[s]).toFixed(u);break;case"p":T=parseFloat(r[s]).toPrecision(u);break;case"e":T=parseFloat(r[s]).toExponential(u);break;case"x":T=parseInt(r[s]).toString(A||16);break;case"d":T=parseFloat(parseInt(r[s],A||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(A);let O=parseInt(h),D=h&&h[0]+""=="0"?"0":" ";for(;T.length<O;)T=d!==void 0?T+D:D+T;return T}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}format(t,...r){this.buffer+=ts.form(t,r)}toString(){return this.buffer}}class ns{constructor(t){this.boundingBox=new Vr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let s=1;s<ns.MAX_NEARBY_DISTANCE;s++){let o=this.imageRowToCodewordIndex(t)-s;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+s,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new ts;let r=0;for(const s of this.codewords){if(s==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,s.getRowNumber(),s.getValue())}return t.toString()}}ns.MAX_NEARBY_DISTANCE=5;class rs{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[s,o]of this.values.entries()){const l={getKey:()=>s,getValue:()=>o};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return xe.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Kc extends ns{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,p=1,w=0;for(let E=u;E<d;E++){if(r[E]==null)continue;let A=r[E],T=A.getRowNumber()-h;if(T===0)w++;else if(T===1)p=Math.max(p,w),w=1,h=A.getRowNumber();else if(T<0||A.getRowNumber()>=t.getRowCount()||T>E)r[E]=null;else{let O;p>2?O=(p-2)*T:O=T;let D=O>=E;for(let k=1;k<=O&&!D;k++)D=r[E-k]!=null;D?r[E]=null:(h=A.getRowNumber(),w=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let s of this.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.getCodewords(),h=-1;for(let p=l;p<u;p++){if(d[p]==null)continue;let w=d[p];w.setRowNumberAsRowIndicatorColumn();let E=w.getRowNumber()-h;E===0||(E===1?h=w.getRowNumber():w.getRowNumber()>=t.getRowCount()?d[p]=null:h=w.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new rs,s=new rs,o=new rs,l=new rs;for(let d of t){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<xe.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>xe.MAX_ROWS_IN_BARCODE)return null;let u=new Hh(r.getValue()[0],s.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let s=0;s<t.length;s++){let o=t[s];if(t[s]==null)continue;let l=o.getValue()%30,u=o.getRowNumber();if(u>r.getRowCount()){t[s]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[s]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[s]=null);break;case 2:l+1!==r.getColumnCount()&&(t[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class is{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=xe.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let s=this.detectionResultColumns[r].getCodewords();for(let o=0;o<s.length;o++)s[o]!=null&&(s[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,s))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<t.length;s++)if(t[s]!=null&&r[s]!=null&&t[s].getRowNumber()===r[s].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[s];l!=null&&(l.setRowNumber(t[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let d=this.detectionResultColumns[u].getCodewords()[s];d!=null&&(l=is.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let d=this.detectionResultColumns[u].getCodewords()[s];d!=null&&(l=is.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(t)?(s.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,s){if(!this.detectionResultColumns[t-1])return;let o=s[r],l=this.detectionResultColumns[t-1].getCodewords(),u=l;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let d=new Array(14);d[2]=l[r],d[3]=u[r],r>0&&(d[0]=s[r-1],d[4]=l[r-1],d[5]=u[r-1]),r>1&&(d[8]=s[r-2],d[10]=l[r-2],d[11]=u[r-2]),r<s.length-1&&(d[1]=s[r+1],d[6]=l[r+1],d[7]=u[r+1]),r<s.length-2&&(d[9]=s[r+2],d[12]=l[r+2],d[13]=u[r+2]);for(let h of d)if(is.adjustRowNumber(o,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new ts;for(let s=0;s<t.getCodewords().length;s++){r.format("CW %3d:",s);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[s];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class ss{constructor(t,r,s,o){this.rowNumber=ss.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ss.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ss.BARCODE_ROW_UNKNOWN=-1;class Wt{static initialize(){for(let t=0;t<xe.SYMBOL_TABLE.length;t++){let r=xe.SYMBOL_TABLE[t],s=r&1;for(let o=0;o<xe.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===s;)l+=1,r>>=1;s=r&1,Wt.RATIOS_TABLE[t]||(Wt.RATIOS_TABLE[t]=new Array(xe.BARS_IN_MODULE)),Wt.RATIOS_TABLE[t][xe.BARS_IN_MODULE-o-1]=Math.fround(l/xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Wt.getDecodedCodewordValue(Wt.sampleBitCounts(t));return r!==-1?r:Wt.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Te.sum(t),s=new Int32Array(xe.BARS_IN_MODULE),o=0,l=0;for(let u=0;u<xe.MODULES_IN_CODEWORD;u++){let d=r/(2*xe.MODULES_IN_CODEWORD)+u*r/xe.MODULES_IN_CODEWORD;l+t[o]<=d&&(l+=t[o],o++),s[o]++}return s}static getDecodedCodewordValue(t){let r=Wt.getBitValue(t);return xe.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let s=0;s<t.length;s++)for(let o=0;o<t[s];o++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Te.sum(t),s=new Array(xe.BARS_IN_MODULE);if(r>1)for(let u=0;u<s.length;u++)s[u]=Math.fround(t[u]/r);let o=so.MAX_VALUE,l=-1;this.bSymbolTableReady||Wt.initialize();for(let u=0;u<Wt.RATIOS_TABLE.length;u++){let d=0,h=Wt.RATIOS_TABLE[u];for(let p=0;p<xe.BARS_IN_MODULE;p++){let w=Math.fround(h[p]-s[p]);if(d+=Math.fround(w*w),d>=o)break}d<o&&(o=d,l=xe.SYMBOL_TABLE[u])}return l}}Wt.bSymbolTableReady=!1,Wt.RATIOS_TABLE=new Array(xe.SYMBOL_TABLE.length).map(C=>new Array(xe.BARS_IN_MODULE));class qc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Jc{static parseLong(t,r=void 0){return parseInt(t,r)}}class $c extends x{}$c.kind="NullPointerException";class Vh{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,s){if(t==null)throw new $c;if(r<0||r>t.length||s<0||r+s>t.length||r+s<0)throw new X;if(s===0)return;for(let o=0;o<s;o++)this.write(t[r+o])}flush(){}close(){}}class Wh extends x{}class Gh extends Vh{constructor(t=32){if(super(),this.count=0,t<0)throw new S("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let s=this.buf.length<<1;if(s-t<0&&(s=t),s<0){if(t<0)throw new Wh;s=_.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,s)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,s){if(r<0||r>t.length||s<0||r+s-t.length>0)throw new X;this.ensureCapacity(this.count+s),L.arraycopy(t,r,this.buf,this.count,s),this.count+=s}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Be;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Be||(Be={}));function e1(){if(typeof window<"u")return window.BigInt||null;if(typeof ls<"u")return ls.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ho;function pr(C){if(typeof ho>"u"&&(ho=e1()),ho===null)throw new Error("BigInt is not supported!");return ho(C)}function Yh(){let C=[];C[0]=pr(1);let t=pr(900);C[1]=t;for(let r=2;r<16;r++)C[r]=C[r-1]*t;return C}class z{static decode(t,r){let s=new we(""),o=G.ISO8859_1;s.enableDecoding(o);let l=1,u=t[l++],d=new qc;for(;l<t[0];){switch(u){case z.TEXT_COMPACTION_MODE_LATCH:l=z.textCompaction(t,l,s);break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:l=z.byteCompaction(u,t,o,l,s);break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[l++]);break;case z.NUMERIC_COMPACTION_MODE_LATCH:l=z.numericCompaction(t,l,s);break;case z.ECI_CHARSET:G.getCharacterSetECIByValue(t[l++]);break;case z.ECI_GENERAL_PURPOSE:l+=2;break;case z.ECI_USER_DEFINED:l++;break;case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=z.decodeMacroBlock(t,l,d);break;case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:throw new U;default:l--,l=z.textCompaction(t,l,s);break}if(l<t.length)u=t[l++];else throw U.getFormatInstance()}if(s.length()===0)throw U.getFormatInstance();let h=new Ki(null,s.toString(),null,r);return h.setOther(d),h}static decodeMacroBlock(t,r,s){if(r+z.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw U.getFormatInstance();let o=new Int32Array(z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<z.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)o[d]=t[r];s.setSegmentIndex(_.parseInt(z.decodeBase900toBase10(o,z.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new we;r=z.textCompaction(t,r,l),s.setFileId(l.toString());let u=-1;for(t[r]===z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new we;r=z.textCompaction(t,r+1,d),s.setFileName(d.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new we;r=z.textCompaction(t,r+1,h),s.setSender(h.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new we;r=z.textCompaction(t,r+1,p),s.setAddressee(p.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new we;r=z.numericCompaction(t,r+1,w),s.setSegmentCount(_.parseInt(w.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new we;r=z.numericCompaction(t,r+1,E),s.setTimestamp(Jc.parseLong(E.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new we;r=z.numericCompaction(t,r+1,A),s.setChecksum(_.parseInt(A.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new we;r=z.numericCompaction(t,r+1,T),s.setFileSize(Jc.parseLong(T.toString()));break;default:throw U.getFormatInstance()}break;case z.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw U.getFormatInstance()}if(u!==-1){let d=r-u;s.isLastSegment()&&d--,s.setOptionalData(N.copyOfRange(t,u,u+d))}return r}static textCompaction(t,r,s){let o=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),u=0,d=!1;for(;r<t[0]&&!d;){let h=t[r++];if(h<z.TEXT_COMPACTION_MODE_LATCH)o[u]=h/30,o[u+1]=h%30,u+=2;else switch(h){case z.TEXT_COMPACTION_MODE_LATCH:o[u++]=z.TEXT_COMPACTION_MODE_LATCH;break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[u]=z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],l[u]=h,u++;break}}return z.decodeTextCompaction(o,l,u,s),r}static decodeTextCompaction(t,r,s,o){let l=Be.ALPHA,u=Be.ALPHA,d=0;for(;d<s;){let h=t[d],p="";switch(l){case Be.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case z.LL:l=Be.LOWER;break;case z.ML:l=Be.MIXED;break;case z.PS:u=l,l=Be.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case z.AS:u=l,l=Be.ALPHA_SHIFT;break;case z.ML:l=Be.MIXED;break;case z.PS:u=l,l=Be.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.MIXED:if(h<z.PL)p=z.MIXED_CHARS[h];else switch(h){case z.PL:l=Be.PUNCT;break;case 26:p=" ";break;case z.LL:l=Be.LOWER;break;case z.AL:l=Be.ALPHA;break;case z.PS:u=l,l=Be.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.PUNCT:if(h<z.PAL)p=z.PUNCT_CHARS[h];else switch(h){case z.PAL:l=Be.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.ALPHA_SHIFT:if(l=u,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case z.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break;case Be.PUNCT_SHIFT:if(l=u,h<z.PAL)p=z.PUNCT_CHARS[h];else switch(h){case z.PAL:l=Be.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:l=Be.ALPHA;break}break}p!==""&&o.append(p),d++}}static byteCompaction(t,r,s,o,l){let u=new Gh,d=0,h=0,p=!1;switch(t){case z.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),E=r[o++];for(;o<r[0]&&!p;)switch(w[d++]=E,h=900*h+E,E=r[o++],E){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,p=!0;break;default:if(d%5===0&&d>0){for(let A=0;A<6;++A)u.write(Number(pr(h)>>pr(8*(5-A))));h=0,d=0}break}o===r[0]&&E<z.TEXT_COMPACTION_MODE_LATCH&&(w[d++]=E);for(let A=0;A<d;A++)u.write(w[A]);break;case z.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!p;){let A=r[o++];if(A<z.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+A;else switch(A){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,p=!0;break}if(d%5===0&&d>0){for(let T=0;T<6;++T)u.write(Number(pr(h)>>pr(8*(5-T))));h=0,d=0}}break}return l.append(ce.decode(u.toByteArray(),s)),o}static numericCompaction(t,r,s){let o=0,l=!1,u=new Int32Array(z.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let d=t[r++];if(r===t[0]&&(l=!0),d<z.TEXT_COMPACTION_MODE_LATCH)u[o]=d,o++;else switch(d){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%z.MAX_NUMERIC_CODEWORDS===0||d===z.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(s.append(z.decodeBase900toBase10(u,o)),o=0)}return r}static decodeBase900toBase10(t,r){let s=pr(0);for(let l=0;l<r;l++)s+=z.EXP900[r-l-1]*pr(t[l]);let o=s.toString();if(o.charAt(0)!=="1")throw new U;return o.substring(1)}}z.TEXT_COMPACTION_MODE_LATCH=900,z.BYTE_COMPACTION_MODE_LATCH=901,z.NUMERIC_COMPACTION_MODE_LATCH=902,z.BYTE_COMPACTION_MODE_LATCH_6=924,z.ECI_USER_DEFINED=925,z.ECI_GENERAL_PURPOSE=926,z.ECI_CHARSET=927,z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,z.MACRO_PDF417_TERMINATOR=922,z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,z.MAX_NUMERIC_CODEWORDS=15,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,z.PL=25,z.LL=27,z.AS=27,z.ML=28,z.AL=28,z.PS=29,z.PAL=29,z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",z.EXP900=e1()?Yh():[],z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ee{constructor(){}static decode(t,r,s,o,l,u,d){let h=new Vr(t,r,s,o,l),p=null,w=null,E;for(let O=!0;;O=!1){if(r!=null&&(p=Ee.getRowIndicatorColumn(t,h,r,!0,u,d)),o!=null&&(w=Ee.getRowIndicatorColumn(t,h,o,!1,u,d)),E=Ee.merge(p,w),E==null)throw Y.getNotFoundInstance();let D=E.getBoundingBox();if(O&&D!=null&&(D.getMinY()<h.getMinY()||D.getMaxY()>h.getMaxY()))h=D;else break}E.setBoundingBox(h);let A=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,p),E.setDetectionResultColumn(A,w);let T=p!=null;for(let O=1;O<=A;O++){let D=T?O:A-O;if(E.getDetectionResultColumn(D)!==void 0)continue;let k;D===0||D===A?k=new Kc(h,D===0):k=new ns(h),E.setDetectionResultColumn(D,k);let H=-1,$=H;for(let ee=h.getMinY();ee<=h.getMaxY();ee++){if(H=Ee.getStartColumn(E,D,ee,T),H<0||H>h.getMaxX()){if($===-1)continue;H=$}let K=Ee.detectCodeword(t,h.getMinX(),h.getMaxX(),T,H,ee,u,d);K!=null&&(k.setCodeword(ee,K),$=H,u=Math.min(u,K.getWidth()),d=Math.max(d,K.getWidth()))}}return Ee.createDecoderResult(E)}static merge(t,r){if(t==null&&r==null)return null;let s=Ee.getBarcodeMetadata(t,r);if(s==null)return null;let o=Vr.merge(Ee.adjustBoundingBox(t),Ee.adjustBoundingBox(r));return new is(s,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let s=Ee.getMax(r),o=0;for(let d of r)if(o+=s-d,d>0)break;let l=t.getCodewords();for(let d=0;o>0&&l[d]==null;d++)o--;let u=0;for(let d=r.length-1;d>=0&&(u+=s-r[d],!(r[d]>0));d--);for(let d=l.length-1;u>0&&l[d]==null;d--)u--;return t.getBoundingBox().addMissingRows(o,u,t.isLeft())}static getMax(t){let r=-1;for(let s of t)r=Math.max(r,s);return r}static getBarcodeMetadata(t,r){let s;if(t==null||(s=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==o.getColumnCount()&&s.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&s.getRowCount()!==o.getRowCount()?null:s}static getRowIndicatorColumn(t,r,s,o,l,u){let d=new Kc(r,o);for(let h=0;h<2;h++){let p=h===0?1:-1,w=Math.trunc(Math.trunc(s.getX()));for(let E=Math.trunc(Math.trunc(s.getY()));E<=r.getMaxY()&&E>=r.getMinY();E+=p){let A=Ee.detectCodeword(t,0,t.getWidth(),o,w,E,l,u);A!=null&&(d.setCodeword(E,A),o?w=A.getStartX():w=A.getEndX())}}return d}static adjustCodewordCount(t,r){let s=r[0][1],o=s.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ee.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(l<1||l>xe.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();s.setValue(l)}else o[0]!==l&&s.setValue(l)}static createDecoderResult(t){let r=Ee.createBarcodeMatrix(t);Ee.adjustCodewordCount(t,r);let s=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let p=0;p<t.getBarcodeColumnCount();p++){let w=r[h][p+1].getValue(),E=h*t.getBarcodeColumnCount()+p;w.length===0?s.push(E):w.length===1?o[E]=w[0]:(u.push(E),l.push(w))}let d=new Array(l.length);for(let h=0;h<d.length;h++)d[h]=l[h];return Ee.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,xe.toIntArray(s),xe.toIntArray(u),d)}static createDecoderResultFromAmbiguousValues(t,r,s,o,l){let u=new Int32Array(o.length),d=100;for(;d-- >0;){for(let h=0;h<u.length;h++)r[o[h]]=l[h][u[h]];try{return Ee.decodeCodewords(r,t,s)}catch(h){if(!(h instanceof b))throw h}if(u.length===0)throw b.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new rs;let s=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][s].setValue(l.getValue())}}}s++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,s,o){let l=o?1:-1,u=null;if(Ee.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodeword(s)),u!=null)return o?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(s),u!=null)return o?u.getStartX():u.getEndX();if(Ee.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodewordNearby(s)),u!=null)return o?u.getEndX():u.getStartX();let d=0;for(;Ee.isValidBarcodeColumn(t,r-l);){r-=l;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+l*d*(h.getEndX()-h.getStartX());d++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,s,o,l,u,d,h){l=Ee.adjustCodewordStartColumn(t,r,s,o,l,u);let p=Ee.getModuleBitCount(t,r,s,o,l,u);if(p==null)return null;let w,E=Te.sum(p);if(o)w=l+E;else{for(let O=0;O<p.length/2;O++){let D=p[O];p[O]=p[p.length-1-O],p[p.length-1-O]=D}w=l,l=w-E}if(!Ee.checkCodewordSkew(E,d,h))return null;let A=Wt.getDecodedValue(p),T=xe.getCodeword(A);return T===-1?null:new ss(l,w,Ee.getCodewordBucketNumber(A),T)}static getModuleBitCount(t,r,s,o,l,u){let d=l,h=new Int32Array(8),p=0,w=o?1:-1,E=o;for(;(o?d<s:d>=r)&&p<h.length;)t.get(d,u)===E?(h[p]++,d+=w):(p++,E=!E);return p===h.length||d===(o?s:r)&&p===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,s,o,l,u){let d=l,h=o?-1:1;for(let p=0;p<2;p++){for(;(o?d>=r:d<s)&&o===t.get(d,u);){if(Math.abs(l-d)>Ee.CODEWORD_SKEW_SIZE)return l;d+=h}h=-h,o=!o}return d}static checkCodewordSkew(t,r,s){return r-Ee.CODEWORD_SKEW_SIZE<=t&&t<=s+Ee.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,s){if(t.length===0)throw U.getFormatInstance();let o=1<<r+1,l=Ee.correctErrors(t,s,o);Ee.verifyCodewordCount(t,o);let u=z.decode(t,""+r);return u.setErrorsCorrected(l),u.setErasures(s.length),u}static correctErrors(t,r,s){if(r!=null&&r.length>s/2+Ee.MAX_ERRORS||s<0||s>Ee.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return Ee.errorCorrection.decode(t,s,r)}static verifyCodewordCount(t,r){if(t.length<4)throw U.getFormatInstance();let s=t[0];if(s>t.length)throw U.getFormatInstance();if(s===0)if(r<t.length)t[0]=t.length-r;else throw U.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),s=0,o=r.length-1;for(;!((t&1)!==s&&(s=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ee.getCodewordBucketNumber(Ee.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new ts;for(let s=0;s<t.length;s++){r.format("Row %2d: ",s);for(let o=0;o<t[s].length;o++){let l=t[s][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ee.CODEWORD_SKEW_SIZE=2,Ee.MAX_ERRORS=3,Ee.MAX_EC_CODEWORDS=512,Ee.errorCorrection=new Zc;class It{decode(t,r=null){let s=It.decode(t,r,!1);if(s==null||s.length===0||s[0]==null)throw Y.getNotFoundInstance();return s[0]}decodeMultiple(t,r=null){try{return It.decode(t,r,!0)}catch(s){throw s instanceof U||s instanceof b?Y.getNotFoundInstance():s}}static decode(t,r,s){const o=new Array,l=Ce.detectMultiple(t,r,s);for(const u of l.getPoints()){const d=Ee.decode(l.getBits(),u[4],u[5],u[6],u[7],It.getMinCodewordWidth(u),It.getMaxCodewordWidth(u)),h=new Je(d.getText(),d.getRawBytes(),void 0,u,ue.PDF_417);h.putMetadata(mt.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&h.putMetadata(mt.PDF417_EXTRA_METADATA,p),o.push(h)}return o.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?_.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(It.getMaxWidth(t[0],t[4]),It.getMaxWidth(t[6],t[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.max(It.getMaxWidth(t[1],t[5]),It.getMaxWidth(t[7],t[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(It.getMinWidth(t[0],t[4]),It.getMinWidth(t[6],t[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.min(It.getMinWidth(t[1],t[5]),It.getMinWidth(t[7],t[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class go extends x{}go.kind="ReaderException";class t1{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!a(t)&&t.get(Z.TRY_HARDER)===!0,s=a(t)?null:t.get(Z.POSSIBLE_FORMATS),o=new Array;if(!a(s)){const l=s.some(u=>u===ue.UPC_A||u===ue.UPC_E||u===ue.EAN_13||u===ue.EAN_8||u===ue.CODABAR||u===ue.CODE_39||u===ue.CODE_93||u===ue.CODE_128||u===ue.ITF||u===ue.RSS_14||u===ue.RSS_EXPANDED);l&&!r&&o.push(new di(t,this.verbose)),s.includes(ue.QR_CODE)&&o.push(new gr),s.includes(ue.DATA_MATRIX)&&o.push(new hr),s.includes(ue.AZTEC)&&o.push(new ao),s.includes(ue.PDF_417)&&o.push(new It),l&&r&&o.push(new di(t,this.verbose))}o.length===0&&(r||o.push(new di(t,this.verbose)),o.push(new gr),o.push(new hr),o.push(new ao),o.push(new It),r&&o.push(new di(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new go("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(s){if(s instanceof go)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class Xh extends fn{constructor(t=null,r=500){const s=new t1;s.setHints(t),super(s,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Qh extends fn{constructor(t=500){super(new It,t)}}class Zh extends fn{constructor(t=500){super(new gr,t)}}var rl;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(rl||(rl={}));var gt=rl;class il{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new zt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let s=r[r.length-1];const o=this.field;for(let l=r.length;l<=t;l++){const u=s.multiply(new zt(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(u),s=u}}return r[t]}encode(t,r){if(r===0)throw new S("No error correction bytes");const s=t.length-r;if(s<=0)throw new S("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(s);L.arraycopy(t,0,l,0,s);let u=new zt(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(o)[1].getCoefficients(),p=r-h.length;for(let w=0;w<p;w++)t[s+w]=0;L.arraycopy(h,0,t,s+p,h.length)}}class st{constructor(){}static applyMaskPenaltyRule1(t){return st.applyMaskPenaltyRule1Internal(t,!0)+st.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l-1;u++){const d=s[u];for(let h=0;h<o-1;h++){const p=d[h];p===d[h+1]&&p===s[u+1][h]&&p===s[u+1][h+1]&&r++}}return st.N2*r}static applyMaskPenaltyRule3(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l;u++)for(let d=0;d<o;d++){const h=s[u];d+6<o&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(st.isWhiteHorizontal(h,d-4,d)||st.isWhiteHorizontal(h,d+7,d+11))&&r++,u+6<l&&s[u][d]===1&&s[u+1][d]===0&&s[u+2][d]===1&&s[u+3][d]===1&&s[u+4][d]===1&&s[u+5][d]===0&&s[u+6][d]===1&&(st.isWhiteVertical(s,d,u-4,u)||st.isWhiteVertical(s,d,u+7,u+11))&&r++}return r*st.N3}static isWhiteHorizontal(t,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let o=r;o<s;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,s,o){s=Math.max(s,0),o=Math.min(o,t.length);for(let l=s;l<o;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const p=s[h];for(let w=0;w<o;w++)p[w]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*st.N4}static getDataMaskBit(t,r,s){let o,l;switch(t){case 0:o=s+r&1;break;case 1:o=s&1;break;case 2:o=r%3;break;case 3:o=(s+r)%3;break;case 4:o=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:l=s*r,o=(l&1)+l%3;break;case 6:l=s*r,o=(l&1)+l%3&1;break;case 7:l=s*r,o=l%3+(s+r&1)&1;break;default:throw new S("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let s=0;const o=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),u=t.getArray();for(let d=0;d<o;d++){let h=0,p=-1;for(let w=0;w<l;w++){const E=r?u[d][w]:u[w][d];E===p?h++:(h>=5&&(s+=st.N1+(h-5)),h=1,p=E)}h>=5&&(s+=st.N1+(h-5))}return s}}st.N1=3,st.N2=3,st.N3=40,st.N4=10;class po{constructor(t,r){this.width=t,this.height=r;const s=new Array(r);for(let o=0;o!==r;o++)s[o]=new Uint8Array(t);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,s){this.bytes[r][t]=s}setBoolean(t,r,s){this.bytes[r][t]=s?1:0}clear(t){for(const r of this.bytes)N.fill(r,t)}equals(t){if(!(t instanceof po))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let s=0,o=this.height;s<o;++s){const l=this.bytes[s],u=r.bytes[s];for(let d=0,h=this.width;d<h;++d)if(l[d]!==u[d])return!1}return!0}toString(){const t=new we;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(o[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Wr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new we;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Wr.NUM_MASK_PATTERNS}}Wr.NUM_MASK_PATTERNS=8;class Ue extends x{}Ue.kind="WriterException";class ge{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,s,o,l){ge.clearMatrix(l),ge.embedBasicPatterns(s,l),ge.embedTypeInfo(r,o,l),ge.maybeEmbedVersionInfo(s,l),ge.embedDataBits(t,o,l)}static embedBasicPatterns(t,r){ge.embedPositionDetectionPatternsAndSeparators(r),ge.embedDarkDotAtLeftBottomCorner(r),ge.maybeEmbedPositionAdjustmentPatterns(t,r),ge.embedTimingPatterns(r)}static embedTypeInfo(t,r,s){const o=new j;ge.makeTypeInfoBits(t,r,o);for(let l=0,u=o.getSize();l<u;++l){const d=o.get(o.getSize()-1-l),h=ge.TYPE_INFO_COORDINATES[l],p=h[0],w=h[1];if(s.setBoolean(p,w,d),l<8){const E=s.getWidth()-l-1;s.setBoolean(E,8,d)}else{const A=s.getHeight()-7+(l-8);s.setBoolean(8,A,d)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const s=new j;ge.makeVersionInfoBits(t,s);let o=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const d=s.get(o);o--,r.setBoolean(l,r.getHeight()-11+u,d),r.setBoolean(r.getHeight()-11+u,l,d)}}static embedDataBits(t,r,s){let o=0,l=-1,u=s.getWidth()-1,d=s.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);d>=0&&d<s.getHeight();){for(let h=0;h<2;++h){const p=u-h;if(!ge.isEmpty(s.get(p,d)))continue;let w;o<t.getSize()?(w=t.get(o),++o):w=!1,r!==255&&st.getDataMaskBit(r,p,d)&&(w=!w),s.setBoolean(p,d,w)}d+=l}l=-l,d+=l,u-=2}if(o!==t.getSize())throw new Ue("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-_.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new S("0 polynomial");const s=ge.findMSBSet(r);for(t<<=s-1;ge.findMSBSet(t)>=s;)t^=r<<ge.findMSBSet(t)-s;return t}static makeTypeInfoBits(t,r,s){if(!Wr.isValidMaskPattern(r))throw new Ue("Invalid mask pattern");const o=t.getBits()<<3|r;s.appendBits(o,5);const l=ge.calculateBCHCode(o,ge.TYPE_INFO_POLY);s.appendBits(l,10);const u=new j;if(u.appendBits(ge.TYPE_INFO_MASK_PATTERN,15),s.xor(u),s.getSize()!==15)throw new Ue("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const s=ge.calculateBCHCode(t.getVersionNumber(),ge.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new Ue("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const s=(r+1)%2;ge.isEmpty(t.get(r,6))&&t.setNumber(r,6,s),ge.isEmpty(t.get(6,r))&&t.setNumber(6,r,s)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ue;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,s){for(let o=0;o<8;++o){if(!ge.isEmpty(s.get(t+o,r)))throw new Ue;s.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,s){for(let o=0;o<7;++o){if(!ge.isEmpty(s.get(t,r+o)))throw new Ue;s.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,s){for(let o=0;o<5;++o){const l=ge.POSITION_ADJUSTMENT_PATTERN[o];for(let u=0;u<5;++u)s.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPattern(t,r,s){for(let o=0;o<7;++o){const l=ge.POSITION_DETECTION_PATTERN[o];for(let u=0;u<7;++u)s.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=ge.POSITION_DETECTION_PATTERN[0].length;ge.embedPositionDetectionPattern(0,0,t),ge.embedPositionDetectionPattern(t.getWidth()-r,0,t),ge.embedPositionDetectionPattern(0,t.getWidth()-r,t);const s=8;ge.embedHorizontalSeparationPattern(0,s-1,t),ge.embedHorizontalSeparationPattern(t.getWidth()-s,s-1,t),ge.embedHorizontalSeparationPattern(0,t.getWidth()-s,t);const o=7;ge.embedVerticalSeparationPattern(o,0,t),ge.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),ge.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const s=t.getVersionNumber()-1,o=ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,u=o.length;l!==u;l++){const d=o[l];if(d>=0)for(let h=0;h!==u;h++){const p=o[h];p>=0&&ge.isEmpty(r.get(p,d))&&ge.embedPositionAdjustmentPattern(p-2,d-2,r)}}}}ge.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ge.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ge.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ge.VERSION_INFO_POLY=7973,ge.TYPE_INFO_POLY=1335,ge.TYPE_INFO_MASK_PATTERN=21522;class Kh{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class We{constructor(){}static calculateMaskPenalty(t){return st.applyMaskPenaltyRule1(t)+st.applyMaskPenaltyRule2(t)+st.applyMaskPenaltyRule3(t)+st.applyMaskPenaltyRule4(t)}static encode(t,r,s=null){let o=We.DEFAULT_BYTE_MODE_ENCODING;const l=s!==null&&s.get(gt.CHARACTER_SET)!==void 0;l&&(o=s.get(gt.CHARACTER_SET).toString());const u=this.chooseMode(t,o),d=new j;if(u===de.BYTE&&(l||We.DEFAULT_BYTE_MODE_ENCODING!==o)){const ee=G.getCharacterSetECIByName(o);ee!==void 0&&this.appendECI(ee,d)}this.appendModeInfo(u,d);const h=new j;this.appendBytes(t,u,h,o);let p;if(s!==null&&s.get(gt.QR_VERSION)!==void 0){const ee=Number.parseInt(s.get(gt.QR_VERSION).toString(),10);p=fe.getVersionForNumber(ee);const K=this.calculateBitsNeeded(u,d,h,p);if(!this.willFit(K,p,r))throw new Ue("Data too big for requested version")}else p=this.recommendVersion(r,u,d,h);const w=new j;w.appendBitArray(d);const E=u===de.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(E,p,u,w),w.appendBitArray(h);const A=p.getECBlocksForLevel(r),T=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(T,w);const O=this.interleaveWithECBytes(w,p.getTotalCodewords(),T,A.getNumBlocks()),D=new Wr;D.setECLevel(r),D.setMode(u),D.setVersion(p);const k=p.getDimensionForVersion(),H=new po(k,k),$=this.chooseMaskPattern(O,r,p,H);return D.setMaskPattern($),ge.buildMatrix(O,r,p,$,H),D.setMatrix(H),D}static recommendVersion(t,r,s,o){const l=this.calculateBitsNeeded(r,s,o,fe.getVersionForNumber(1)),u=this.chooseVersion(l,t),d=this.calculateBitsNeeded(r,s,o,u);return this.chooseVersion(d,t)}static calculateBitsNeeded(t,r,s,o){return r.getSize()+t.getCharacterCountBits(o)+s.getSize()}static getAlphanumericCode(t){return t<We.ALPHANUMERIC_TABLE.length?We.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(G.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return de.KANJI;let s=!1,o=!1;for(let l=0,u=t.length;l<u;++l){const d=t.charAt(l);if(We.isDigit(d))s=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)o=!0;else return de.BYTE}return o?de.ALPHANUMERIC:s?de.NUMERIC:de.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=ce.encode(t,G.SJIS)}catch{return!1}const s=r.length;if(s%2!==0)return!1;for(let o=0;o<s;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,s,o){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let d=0;d<Wr.NUM_MASK_PATTERNS;d++){ge.buildMatrix(t,r,s,d,o);let h=this.calculateMaskPenalty(o);h<l&&(l=h,u=d)}return u}static chooseVersion(t,r){for(let s=1;s<=40;s++){const o=fe.getVersionForNumber(s);if(We.willFit(t,o,r))return o}throw new Ue("Data too big")}static willFit(t,r,s){const o=r.getTotalCodewords(),u=r.getECBlocksForLevel(s).getTotalECCodewords(),d=o-u,h=(t+7)/8;return d>=h}static terminateBits(t,r){const s=t*8;if(r.getSize()>s)throw new Ue("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(let u=0;u<4&&r.getSize()<s;++u)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let u=o;u<8;u++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==s)throw new Ue("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,s,o,l,u){if(o>=s)throw new Ue("Block ID too large");const d=t%s,h=s-d,p=Math.floor(t/s),w=p+1,E=Math.floor(r/s),A=E+1,T=p-E,O=w-A;if(T!==O)throw new Ue("EC bytes mismatch");if(s!==h+d)throw new Ue("RS blocks mismatch");if(t!==(E+T)*h+(A+O)*d)throw new Ue("Total bytes mismatch");o<h?(l[0]=E,u[0]=T):(l[0]=A,u[0]=O)}static interleaveWithECBytes(t,r,s,o){if(t.getSizeInBytes()!==s)throw new Ue("Number of bits and data bytes does not match");let l=0,u=0,d=0;const h=new Array;for(let w=0;w<o;++w){const E=new Int32Array(1),A=new Int32Array(1);We.getNumDataBytesAndNumECBytesForBlockID(r,s,o,w,E,A);const T=E[0],O=new Uint8Array(T);t.toBytes(8*l,O,0,T);const D=We.generateECBytes(O,A[0]);h.push(new Kh(O,D)),u=Math.max(u,T),d=Math.max(d,D.length),l+=E[0]}if(s!==l)throw new Ue("Data bytes does not match offset");const p=new j;for(let w=0;w<u;++w)for(const E of h){const A=E.getDataBytes();w<A.length&&p.appendBits(A[w],8)}for(let w=0;w<d;++w)for(const E of h){const A=E.getErrorCorrectionBytes();w<A.length&&p.appendBits(A[w],8)}if(r!==p.getSizeInBytes())throw new Ue("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(t,r){const s=t.length,o=new Int32Array(s+r);for(let u=0;u<s;u++)o[u]=t[u]&255;new il(Me.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=o[s+u];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,s,o){const l=s.getCharacterCountBits(r);if(t>=1<<l)throw new Ue(t+" is bigger than "+((1<<l)-1));o.appendBits(t,l)}static appendBytes(t,r,s,o){switch(r){case de.NUMERIC:We.appendNumericBytes(t,s);break;case de.ALPHANUMERIC:We.appendAlphanumericBytes(t,s);break;case de.BYTE:We.append8BitBytes(t,s,o);break;case de.KANJI:We.appendKanjiBytes(t,s);break;default:throw new Ue("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=We.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=We.getDigit(t.charAt(o));if(o+2<s){const u=We.getDigit(t.charAt(o+1)),d=We.getDigit(t.charAt(o+2));r.appendBits(l*100+u*10+d,10),o+=3}else if(o+1<s){const u=We.getDigit(t.charAt(o+1));r.appendBits(l*10+u,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=We.getAlphanumericCode(t.charCodeAt(o));if(l===-1)throw new Ue;if(o+1<s){const u=We.getAlphanumericCode(t.charCodeAt(o+1));if(u===-1)throw new Ue;r.appendBits(l*45+u,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(t,r,s){let o;try{o=ce.encode(t,s)}catch(l){throw new Ue(l)}for(let l=0,u=o.length;l!==u;l++){const d=o[l];r.appendBits(d,8)}}static appendKanjiBytes(t,r){let s;try{s=ce.encode(t,G.SJIS)}catch(l){throw new Ue(l)}const o=s.length;for(let l=0;l<o;l+=2){const u=s[l]&255,d=s[l+1]&255,h=u<<8&4294967295|d;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new Ue("Invalid byte sequence");const w=(p>>8)*192+(p&255);r.appendBits(w,13)}}static appendECI(t,r){r.appendBits(de.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}We.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),We.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class Gr{write(t,r,s,o=null){if(t.length===0)throw new S("Found empty contents");if(r<0||s<0)throw new S("Requested dimensions are too small: "+r+"x"+s);let l=He.L,u=Gr.QUIET_ZONE_SIZE;o!==null&&(o.get(gt.ERROR_CORRECTION)!==void 0&&(l=He.fromString(o.get(gt.ERROR_CORRECTION).toString())),o.get(gt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(gt.MARGIN).toString(),10)));const d=We.encode(t,l,o);return this.renderResult(d,r,s,u)}writeToDom(t,r,s,o,l=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,s,o,l);t&&t.appendChild(u)}renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new bn;const u=l.getWidth(),d=l.getHeight(),h=u+o*2,p=d+o*2,w=Math.max(r,h),E=Math.max(s,p),A=Math.min(Math.floor(w/h),Math.floor(E/p)),T=Math.floor((w-u*A)/2),O=Math.floor((E-d*A)/2),D=this.createSVGElement(w,E);for(let k=0,H=O;k<d;k++,H+=A)for(let $=0,ee=T;$<u;$++,ee+=A)if(l.get($,k)===1){const K=this.createSvgRectElement(ee,H,A,A);D.appendChild(K)}return D}createSVGElement(t,r){const s=document.createElementNS(Gr.SVG_NS,"svg");return s.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width",r.toString()),s}createSvgRectElement(t,r,s,o){const l=document.createElementNS(Gr.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Gr.QUIET_ZONE_SIZE=4,Gr.SVG_NS="http://www.w3.org/2000/svg";class gi{encode(t,r,s,o,l){if(t.length===0)throw new S("Found empty contents");if(r!==ue.QR_CODE)throw new S("Can only encode QR_CODE, but got "+r);if(s<0||o<0)throw new S(`Requested dimensions are too small: ${s}x${o}`);let u=He.L,d=gi.QUIET_ZONE_SIZE;l!==null&&(l.get(gt.ERROR_CORRECTION)!==void 0&&(u=He.fromString(l.get(gt.ERROR_CORRECTION).toString())),l.get(gt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(gt.MARGIN).toString(),10)));const h=We.encode(t,u,l);return gi.renderResult(h,s,o,d)}static renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new bn;const u=l.getWidth(),d=l.getHeight(),h=u+o*2,p=d+o*2,w=Math.max(r,h),E=Math.max(s,p),A=Math.min(Math.floor(w/h),Math.floor(E/p)),T=Math.floor((w-u*A)/2),O=Math.floor((E-d*A)/2),D=new ke(w,E);for(let k=0,H=O;k<d;k++,H+=A)for(let $=0,ee=T;$<u;$++,ee+=A)l.get($,k)===1&&D.setRegion(ee,H,A,A);return D}}gi.QUIET_ZONE_SIZE=4;class qh{encode(t,r,s,o,l){let u;switch(r){case ue.QR_CODE:u=new gi;break;default:throw new S("No encoder available for format "+r)}return u.encode(t,r,s,o,l)}}class Pn extends re{constructor(t,r,s,o,l,u,d,h){if(super(u,d),this.yuvData=t,this.dataWidth=r,this.dataHeight=s,this.left=o,this.top=l,o+u>r||l+d>s)throw new S("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,d)}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return L.arraycopy(this.yuvData,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return L.arraycopy(this.yuvData,l,o,0,s),o;for(let u=0;u<r;u++){const d=u*t;L.arraycopy(this.yuvData,l,o,d,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new Pn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,s,o,!1)}renderThumbnail(){const t=this.getWidth()/Pn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Pn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(t*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const d=u*t;for(let h=0;h<t;h++){const p=o[l+h*Pn.THUMBNAIL_SCALE_FACTOR]&255;s[d+h]=4278190080|p*65793}l+=this.dataWidth*Pn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Pn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Pn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const s=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const u=l+t/2;for(let d=l,h=l+t-1;d<u;d++,h--){const p=s[d];s[d]=s[h],s[h]=p}}}invert(){return new he(this)}}Pn.THUMBNAIL_SCALE_FACTOR=2;class sl extends re{constructor(t,r,s,o,l,u,d){if(super(r,s),this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=d,t.BYTES_PER_ELEMENT===4){const h=r*s,p=new Uint8ClampedArray(h);for(let w=0;w<h;w++){const E=t[w],A=E>>16&255,T=E>>7&510,O=E&255;p[w]=(A+T+O)/4&255}this.luminances=p}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=s),u===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+s>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return L.arraycopy(this.luminances,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return L.arraycopy(this.luminances,l,o,0,s),o;for(let u=0;u<r;u++){const d=u*t;L.arraycopy(this.luminances,l,o,d,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new sl(this.luminances,s,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new he(this)}}class n1 extends G{static forName(t){return this.getCharacterSetECIByName(t)}}class ol{}ol.ISO_8859_1=G.ISO8859_1;class r1{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class i1{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Jh{constructor(t){this.previous=t}getPrevious(){return this.previous}}class pi extends Jh{constructor(t,r,s){super(t),this.value=r,this.bitCount=s}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new pi(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new pi(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+_.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class al extends pi{constructor(t,r,s){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=s}appendTo(t,r){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):s===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+s],8)}addBinaryShift(t,r){return new al(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $h(C,t,r){return new al(C,t,r)}function os(C,t,r){return new pi(C,t,r)}const eg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xr=0,xo=1,pn=2,s1=3,Fn=4,tg=new pi(null,0,0),ll=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ng(C){for(let t of C)N.fill(t,-1);return C[xr][Fn]=0,C[xo][Fn]=0,C[xo][xr]=28,C[s1][Fn]=0,C[pn][Fn]=0,C[pn][xr]=15,C}const o1=ng(N.createInt32Array(6,6));class Un{constructor(t,r,s,o){this.token=t,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let s=this.bitCount,o=this.token;if(t!==this.mode){let u=ll[this.mode][t];o=os(o,u&65535,u>>16),s+=u>>16}let l=t===pn?4:5;return o=os(o,r,l),new Un(o,t,0,s+l)}shiftAndAppend(t,r){let s=this.token,o=this.mode===pn?4:5;return s=os(s,o1[this.mode][t],o),s=os(s,r,5),new Un(s,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,s=this.mode,o=this.bitCount;if(this.mode===Fn||this.mode===pn){let d=ll[s][xr];r=os(r,d&65535,d>>16),o+=d>>16,s=xr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Un(r,s,this.binaryShiftByteCount+1,o+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=$h(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Un(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(ll[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Un.calculateBinaryShiftCost(t)-Un.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let s=new j;for(const o of r)o.appendTo(s,t);return s}toString(){return ne.format("%s bits=%d bytes=%d",eg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Un.INITIAL_STATE=new Un(tg,xr,0,0);function rg(C){const t=ne.getCharCode(" "),r=ne.getCharCode("."),s=ne.getCharCode(",");C[xr][t]=1;const o=ne.getCharCode("Z"),l=ne.getCharCode("A");for(let A=l;A<=o;A++)C[xr][A]=A-l+2;C[xo][t]=1;const u=ne.getCharCode("z"),d=ne.getCharCode("a");for(let A=d;A<=u;A++)C[xo][A]=A-d+2;C[pn][t]=1;const h=ne.getCharCode("9"),p=ne.getCharCode("0");for(let A=p;A<=h;A++)C[pn][A]=A-p+2;C[pn][s]=12,C[pn][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<w.length;A++)C[s1][ne.getCharCode(w[A])]=A;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<E.length;A++)ne.getCharCode(E[A])>0&&(C[Fn][ne.getCharCode(E[A])]=A);return C}const ul=rg(N.createInt32Array(5,256));class as{constructor(t){this.text=t}encode(){const t=ne.getCharCode(" "),r=ne.getCharCode(`
`);let s=i1.singletonList(Un.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ne.getCharCode("\r"):u=d===r?2:0;break;case ne.getCharCode("."):u=d===t?3:0;break;case ne.getCharCode(","):u=d===t?4:0;break;case ne.getCharCode(":"):u=d===t?5:0;break;default:u=0}u>0?(s=as.updateStateListForPair(s,l,u),l++):s=this.updateStateListForChar(s,l)}return i1.min(s,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const s=[];for(let o of t)this.updateStateForChar(o,r,s);return as.simplifyStates(s)}updateStateForChar(t,r,s){let o=this.text[r]&255,l=ul[t.getMode()][o]>0,u=null;for(let d=0;d<=Fn;d++){let h=ul[d][o];if(h>0){if(u==null&&(u=t.endBinaryShift(r)),!l||d===t.getMode()||d===pn){const p=u.latchAndAppend(d,h);s.push(p)}if(!l&&o1[t.getMode()][d]>=0){const p=u.shiftAndAppend(d,h);s.push(p)}}}if(t.getBinaryShiftByteCount()>0||ul[t.getMode()][o]===0){let d=t.addBinaryShiftChar(r);s.push(d)}}static updateStateListForPair(t,r,s){const o=[];for(let l of t)this.updateStateForPair(l,r,s,o);return this.simplifyStates(o)}static updateStateForPair(t,r,s,o){let l=t.endBinaryShift(r);if(o.push(l.latchAndAppend(Fn,s)),t.getMode()!==Fn&&o.push(l.shiftAndAppend(Fn,s)),s===3||s===4){let u=l.latchAndAppend(pn,16-s).latchAndAppend(pn,1);o.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(u)}}static simplifyStates(t){let r=[];for(const s of t){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(s)){o=!1;break}s.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}o&&r.push(s)}return r}}class Ne{constructor(){}static encodeBytes(t){return Ne.encode(t,Ne.DEFAULT_EC_PERCENT,Ne.DEFAULT_AZTEC_LAYERS)}static encode(t,r,s){let o=new as(t).encode(),l=_.truncDivision(o.getSize()*r,100)+11,u=o.getSize()+l,d,h,p,w,E;if(s!==Ne.DEFAULT_AZTEC_LAYERS){if(d=s<0,h=Math.abs(s),h>(d?Ne.MAX_NB_BITS_COMPACT:Ne.MAX_NB_BITS))throw new S(ne.format("Illegal value %s for layers",s));p=Ne.totalBitsInLayer(h,d),w=Ne.WORD_SIZE[h];let K=p-p%w;if(E=Ne.stuffBits(o,w),E.getSize()+l>K)throw new S("Data to large for user specified layer");if(d&&E.getSize()>w*64)throw new S("Data to large for user specified layer")}else{w=0,E=null;for(let K=0;;K++){if(K>Ne.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(d=K<=3,h=d?K+1:K,p=Ne.totalBitsInLayer(h,d),u>p)continue;(E==null||w!==Ne.WORD_SIZE[h])&&(w=Ne.WORD_SIZE[h],E=Ne.stuffBits(o,w));let Ie=p-p%w;if(!(d&&E.getSize()>w*64)&&E.getSize()+l<=Ie)break}}let A=Ne.generateCheckWords(E,p,w),T=E.getSize()/w,O=Ne.generateModeMessage(d,h,T),D=(d?11:14)+h*4,k=new Int32Array(D),H;if(d){H=D;for(let K=0;K<k.length;K++)k[K]=K}else{H=D+1+2*_.truncDivision(_.truncDivision(D,2)-1,15);let K=_.truncDivision(D,2),Ie=_.truncDivision(H,2);for(let ye=0;ye<K;ye++){let Gt=ye+_.truncDivision(ye,15);k[K-ye-1]=Ie-Gt-1,k[K+ye]=Ie+Gt+1}}let $=new ke(H);for(let K=0,Ie=0;K<h;K++){let ye=(h-K)*4+(d?9:12);for(let Gt=0;Gt<ye;Gt++){let In=Gt*2;for(let Yt=0;Yt<2;Yt++)A.get(Ie+In+Yt)&&$.set(k[K*2+Yt],k[K*2+Gt]),A.get(Ie+ye*2+In+Yt)&&$.set(k[K*2+Gt],k[D-1-K*2-Yt]),A.get(Ie+ye*4+In+Yt)&&$.set(k[D-1-K*2-Yt],k[D-1-K*2-Gt]),A.get(Ie+ye*6+In+Yt)&&$.set(k[D-1-K*2-Gt],k[K*2+Yt])}Ie+=ye*8}if(Ne.drawModeMessage($,d,H,O),d)Ne.drawBullsEye($,_.truncDivision(H,2),5);else{Ne.drawBullsEye($,_.truncDivision(H,2),7);for(let K=0,Ie=0;K<_.truncDivision(D,2)-1;K+=15,Ie+=16)for(let ye=_.truncDivision(H,2)&1;ye<H;ye+=2)$.set(_.truncDivision(H,2)-Ie,ye),$.set(_.truncDivision(H,2)+Ie,ye),$.set(ye,_.truncDivision(H,2)-Ie),$.set(ye,_.truncDivision(H,2)+Ie)}let ee=new r1;return ee.setCompact(d),ee.setSize(H),ee.setLayers(h),ee.setCodeWords(T),ee.setMatrix($),ee}static drawBullsEye(t,r,s){for(let o=0;o<s;o+=2)for(let l=r-o;l<=r+o;l++)t.set(l,r-o),t.set(l,r+o),t.set(r-o,l),t.set(r+o,l);t.set(r-s,r-s),t.set(r-s+1,r-s),t.set(r-s,r-s+1),t.set(r+s,r-s),t.set(r+s,r-s+1),t.set(r+s,r+s-1)}static generateModeMessage(t,r,s){let o=new j;return t?(o.appendBits(r-1,2),o.appendBits(s-1,6),o=Ne.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(s-1,11),o=Ne.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,s,o){let l=_.truncDivision(s,2);if(r)for(let u=0;u<7;u++){let d=l-3+u;o.get(u)&&t.set(d,l-5),o.get(u+7)&&t.set(l+5,d),o.get(20-u)&&t.set(d,l+5),o.get(27-u)&&t.set(l-5,d)}else for(let u=0;u<10;u++){let d=l-5+u+_.truncDivision(u,5);o.get(u)&&t.set(d,l-7),o.get(u+10)&&t.set(l+7,d),o.get(29-u)&&t.set(d,l+7),o.get(39-u)&&t.set(l-7,d)}}static generateCheckWords(t,r,s){let o=t.getSize()/s,l=new il(Ne.getGF(s)),u=_.truncDivision(r,s),d=Ne.bitsToWords(t,s,u);l.encode(d,u-o);let h=r%s,p=new j;p.appendBits(0,h);for(const w of Array.from(d))p.appendBits(w,s);return p}static bitsToWords(t,r,s){let o=new Int32Array(s),l,u;for(l=0,u=t.getSize()/r;l<u;l++){let d=0;for(let h=0;h<r;h++)d|=t.get(l*r+h)?1<<r-h-1:0;o[l]=d}return o}static getGF(t){switch(t){case 4:return Me.AZTEC_PARAM;case 6:return Me.AZTEC_DATA_6;case 8:return Me.AZTEC_DATA_8;case 10:return Me.AZTEC_DATA_10;case 12:return Me.AZTEC_DATA_12;default:throw new S("Unsupported word size "+t)}}static stuffBits(t,r){let s=new j,o=t.getSize(),l=(1<<r)-2;for(let u=0;u<o;u+=r){let d=0;for(let h=0;h<r;h++)(u+h>=o||t.get(u+h))&&(d|=1<<r-1-h);(d&l)===l?(s.appendBits(d&l,r),u--):d&l?s.appendBits(d,r):(s.appendBits(d|1,r),u--)}return s}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Ne.DEFAULT_EC_PERCENT=33,Ne.DEFAULT_AZTEC_LAYERS=0,Ne.MAX_NB_BITS=32,Ne.MAX_NB_BITS_COMPACT=4,Ne.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class mo{encode(t,r,s,o){return this.encodeWithHints(t,r,s,o,null)}encodeWithHints(t,r,s,o,l){let u=ol.ISO_8859_1,d=Ne.DEFAULT_EC_PERCENT,h=Ne.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(gt.CHARACTER_SET)&&(u=n1.forName(l.get(gt.CHARACTER_SET).toString())),l.has(gt.ERROR_CORRECTION)&&(d=_.parseInt(l.get(gt.ERROR_CORRECTION).toString())),l.has(gt.AZTEC_LAYERS)&&(h=_.parseInt(l.get(gt.AZTEC_LAYERS).toString()))),mo.encodeLayers(t,r,s,o,u,d,h)}static encodeLayers(t,r,s,o,l,u,d){if(r!==ue.AZTEC)throw new S("Can only encode AZTEC, but got "+r);let h=Ne.encode(ne.getBytes(t,l),u,d);return mo.renderResult(h,s,o)}static renderResult(t,r,s){let o=t.getMatrix();if(o==null)throw new bn;let l=o.getWidth(),u=o.getHeight(),d=Math.max(r,l),h=Math.max(s,u),p=Math.min(d/l,h/u),w=(d-l*p)/2,E=(h-u*p)/2,A=new ke(d,h);for(let T=0,O=E;T<u;T++,O+=p)for(let D=0,k=w;D<l;D++,k+=p)o.get(D,T)&&A.setRegion(k,O,p,p);return A}}i.AbstractExpandedDecoder=Qa,i.ArgumentException=I,i.ArithmeticException=io,i.AztecCode=r1,i.AztecCodeReader=ao,i.AztecCodeWriter=mo,i.AztecDecoder=ze,i.AztecDetector=Vc,i.AztecDetectorResult=zc,i.AztecEncoder=Ne,i.AztecHighLevelEncoder=as,i.AztecPoint=kt,i.BarcodeFormat=ue,i.Binarizer=V,i.BinaryBitmap=R,i.BitArray=j,i.BitMatrix=ke,i.BitSource=Ja,i.BrowserAztecCodeReader=Mh,i.BrowserBarcodeReader=Lh,i.BrowserCodeReader=fn,i.BrowserDatamatrixCodeReader=Bh,i.BrowserMultiFormatReader=Xh,i.BrowserPDF417Reader=Qh,i.BrowserQRCodeReader=Zh,i.BrowserQRCodeSvgWriter=Gr,i.CharacterSetECI=G,i.ChecksumException=b,i.Code128Reader=te,i.Code39Reader=dt,i.DataMatrixDecodedBitStreamParser=dr,i.DataMatrixReader=hr,i.DecodeHintType=Z,i.DecoderResult=Ki,i.DefaultGridSampler=Hc,i.DetectorResult=oo,i.EAN13Reader=jr,i.EncodeHintType=gt,i.Exception=x,i.FormatException=U,i.GenericGF=Me,i.GenericGFPoly=zt,i.GlobalHistogramBinarizer=Qe,i.GridSampler=Wa,i.GridSamplerInstance=cr,i.HTMLCanvasElementLuminanceSource=pe,i.HybridBinarizer=me,i.ITFReader=Fe,i.IllegalArgumentException=S,i.IllegalStateException=bn,i.InvertedLuminanceSource=he,i.LuminanceSource=re,i.MathUtils=Te,i.MultiFormatOneDReader=di,i.MultiFormatReader=t1,i.MultiFormatWriter=qh,i.NotFoundException=Y,i.OneDReader=ct,i.PDF417DecodedBitStreamParser=z,i.PDF417DecoderErrorCorrection=Zc,i.PDF417Reader=It,i.PDF417ResultMetadata=qc,i.PerspectiveTransform=An,i.PlanarYUVLuminanceSource=Pn,i.QRCodeByteMatrix=po,i.QRCodeDataMask=hn,i.QRCodeDecodedBitStreamParser=$e,i.QRCodeDecoderErrorCorrectionLevel=He,i.QRCodeDecoderFormatInformation=Rt,i.QRCodeEncoder=We,i.QRCodeEncoderQRCode=Wr,i.QRCodeMaskUtil=st,i.QRCodeMatrixUtil=ge,i.QRCodeMode=de,i.QRCodeReader=gr,i.QRCodeVersion=fe,i.QRCodeWriter=gi,i.RGBLuminanceSource=sl,i.RSS14Reader=it,i.RSSExpandedReader=Q,i.ReaderException=go,i.ReedSolomonDecoder=Ji,i.ReedSolomonEncoder=il,i.ReedSolomonException=li,i.Result=Je,i.ResultMetadataType=mt,i.ResultPoint=le,i.StringUtils=ne,i.UnsupportedOperationException=ae,i.VideoInputDevice=Pe,i.WhiteRectangleDetector=Qn,i.WriterException=Ue,i.ZXingArrays=N,i.ZXingCharset=n1,i.ZXingInteger=_,i.ZXingStandardCharsets=ol,i.ZXingStringBuilder=we,i.ZXingStringEncoding=ce,i.ZXingSystem=L,i.createAbstractExpandedDecoder=Xc,Object.defineProperty(i,"__esModule",{value:!0})})})(Bu,Bu.exports);var Ye=Bu.exports;const Pm=j0(Ye),Fm=og({__proto__:null,default:Pm},[Ye]);var M0=function(){function e(n,i,a){if(this.formatMap=new Map([[se.QR_CODE,Ye.BarcodeFormat.QR_CODE],[se.AZTEC,Ye.BarcodeFormat.AZTEC],[se.CODABAR,Ye.BarcodeFormat.CODABAR],[se.CODE_39,Ye.BarcodeFormat.CODE_39],[se.CODE_93,Ye.BarcodeFormat.CODE_93],[se.CODE_128,Ye.BarcodeFormat.CODE_128],[se.DATA_MATRIX,Ye.BarcodeFormat.DATA_MATRIX],[se.MAXICODE,Ye.BarcodeFormat.MAXICODE],[se.ITF,Ye.BarcodeFormat.ITF],[se.EAN_13,Ye.BarcodeFormat.EAN_13],[se.EAN_8,Ye.BarcodeFormat.EAN_8],[se.PDF_417,Ye.BarcodeFormat.PDF_417],[se.RSS_14,Ye.BarcodeFormat.RSS_14],[se.RSS_EXPANDED,Ye.BarcodeFormat.RSS_EXPANDED],[se.UPC_A,Ye.BarcodeFormat.UPC_A],[se.UPC_E,Ye.BarcodeFormat.UPC_E],[se.UPC_EAN_EXTENSION,Ye.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Fm)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var c=this.createZXingFormats(n),f=new Map;f.set(Ye.DecodeHintType.POSSIBLE_FORMATS,c),f.set(Ye.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(n){var i=this;return new Promise(function(a,c){try{a(i.decode(n))}catch(f){c(f)}})},e.prototype.decode=function(n){var i=new Ye.MultiFormatReader(this.verbose,this.hints),a=new Ye.HTMLCanvasElementLuminanceSource(n),c=new Ye.BinaryBitmap(new Ye.HybridBinarizer(a)),f=i.decode(c);return{text:f.text,format:Ah.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,c){n.set(i,a)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var i=[],a=0,c=n;a<c.length;a++){var f=c[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Um=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},jm=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},R0=function(){function e(n,i,a){if(this.formatMap=new Map([[se.QR_CODE,"qr_code"],[se.AZTEC,"aztec"],[se.CODABAR,"codabar"],[se.CODE_39,"code_39"],[se.CODE_93,"code_93"],[se.CODE_128,"code_128"],[se.DATA_MATRIX,"data_matrix"],[se.ITF,"itf"],[se.EAN_13,"ean_13"],[se.EAN_8,"ean_8"],[se.PDF_417,"pdf417"],[se.UPC_A,"upc_a"],[se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var c=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Um(this,void 0,void 0,function(){var i,a;return jm(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(n)];case 1:if(i=c.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:Ah.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var i=null,a=0,c=0,f=n;c<f.length;c++){var g=f[c],m=g.boundingBox.width*g.boundingBox.height;m>a&&(a=m,i=g)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(n){for(var i=[],a=0,c=n;a<c.length;a++){var f=c[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,c){n.set(i,a)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),O0=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},D0=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},zm=function(){function e(n,i,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&R0.isSupported()?(this.primaryDecoder=new R0(n,a,c),this.secondaryDecoder=new M0(n,a,c)):this.primaryDecoder=new M0(n,a,c)}return e.prototype.decodeAsync=function(n){return O0(this,void 0,void 0,function(){var i;return D0(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return O0(this,void 0,void 0,function(){var i,a;return D0(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var i=performance.now()-n;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,i=0,a=this.executionResults;i<a.length;i++){var c=a[i];n+=c}var f=n/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Uc=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),Aa=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},Sa=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Th=function(){function e(n,i){this.name=n,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var i=n[this.name];return i}return null},e}(),Hm=function(e){Uc(n,e);function n(i,a){return e.call(this,i,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(i){var a={};a[this.name]=i;var c={advanced:[a]};return this.track.applyConstraints(c)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(Th),Vm=function(e){Uc(n,e);function n(i){return e.call(this,"zoom",i)||this}return n}(Hm),Wm=function(e){Uc(n,e);function n(i){return e.call(this,"torch",i)||this}return n}(Th),Gm=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Vm(this.track)},e.prototype.torchFeature=function(){return new Wm(this.track)},e}(),Ym=function(){function e(n,i,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var i=document.createElement("video");return i.style.width="".concat(n,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=n.surface.clientWidth,c=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,c),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,i,a,c){return Aa(this,void 0,void 0,function(){var f,g;return Sa(this,function(m){switch(m.label){case 0:return f=new e(n,i,c),a.aspectRatio?(g={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:m.sent(),m.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var i=this,a=function(){setTimeout(n,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return Aa(this,void 0,void 0,function(){return Sa(this,function(i){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(i,a){var c=n.mediaStream.getVideoTracks(),f=c.length,g=0;n.mediaStream.getVideoTracks().forEach(function(m){n.mediaStream.removeTrack(m),m.stop(),++g,g>=f&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),i())})})},e.prototype.getCapabilities=function(){return new Gm(this.getFirstTrackOrFail())},e}(),Xm=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,i,a){return Aa(this,void 0,void 0,function(){return Sa(this,function(c){return[2,Ym.create(n,this.mediaStream,i,a)]})})},e.create=function(n){return Aa(this,void 0,void 0,function(){var i,a;return Sa(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=c.sent(),[2,new e(a)]}})})},e}(),b0=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},L0=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Qm=function(){function e(){}return e.failIfNotSupported=function(){return b0(this,void 0,void 0,function(){return L0(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return b0(this,void 0,void 0,function(){return L0(this,function(i){return[2,Xm.create(n)]})})},e}(),Zm=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},Km=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},qm=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Oi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Oi.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return Zm(this,void 0,void 0,function(){var n,i,a,c,f,g,m;return Km(this,function(y){switch(y.label){case 0:return n=function(x){for(var I=x.getVideoTracks(),S=0,R=I;S<R.length;S++){var b=R[S];b.enabled=!1,b.stop(),x.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=y.sent(),c=[],f=0,g=a;f<g.length;f++)m=g[f],m.kind==="videoinput"&&c.push({id:m.deviceId,label:m.label});return n(i),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,i){var a=function(f){for(var g=[],m=0,y=f;m<y.length;m++){var x=y[m];x.kind==="video"&&g.push({id:x.id,label:x.label})}n(g)},c=MediaStreamTrack;c.getSources(a)})},e}(),ot;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ot||(ot={}));var Jm=function(){function e(){this.state=ot.NOT_STARTED,this.onGoingTransactionNewState=ot.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ot.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ot.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ot.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ot.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ot.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case ot.UNKNOWN:throw"Transition from unknown is not allowed";case ot.NOT_STARTED:this.failIfNewStateIs(n,[ot.PAUSED]);break;case ot.SCANNING:break;case ot.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,i){for(var a=0,c=i;a<c.length;a++){var f=c[a];if(n===f)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),$m=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ot.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ot.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ot.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ot.PAUSED},e}(),ew=function(){function e(){}return e.create=function(){return new $m(new Jm)},e}(),tw=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),$t=function(e){tw(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(_n),nw=function(){function e(n,i){this.logger=i,this.fps=$t.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=$t.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?vh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Hn(this.qrbox)},e.create=function(n,i){return new e(n,i)},e}(),k0=function(){function e(n,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Ih(this.verbose),this.qrcode=new zm(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ew.create()}return e.prototype.start=function(n,i,a,c){var f=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;c?g=c:g=this.verbose?this.logger.log:function(){};var m=nw.create(i,this.logger);this.clearElement();var y=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=y,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:$t.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var S=this,R=this.stateManagerProxy.startTransition(ot.SCANNING);return new Promise(function(b,V){var L=x?m.videoConstraints:S.createVideoConstraints(n);if(!L){R.cancel(),V("videoConstraints should be defined");return}var X={};(!x||m.aspectRatio)&&(X.aspectRatio=m.aspectRatio);var M={onRenderSurfaceReady:function(N,_){S.setupUi(N,_,m),S.isScanning=!0,S.foreverScan(m,a,g)}};Qm.failIfNotSupported().then(function(N){N.create(L).then(function(_){return _.render(f.element,X,M).then(function(j){S.renderedCamera=j,R.execute(),b(null)}).catch(function(j){R.cancel(),V(j)})}).catch(function(_){R.cancel(),V(Oi.errorGettingUserMedia(_))})}).catch(function(N){R.cancel(),V(Oi.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ot.PAUSED),this.showPausedState(),(Hn(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,i=function(){n.stateManagerProxy.directTransition(ot.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(ot.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var f=document.getElementById($t.SHADED_REGION_ELEMENT_ID);f&&n.element.removeChild(f)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),i.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,i){return this.scanFileV2(n,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(n,i){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Hn(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var g=new Image;g.onload=function(){var m=g.width,y=g.height,x=document.getElementById(a.elementId),I=x.clientWidth?x.clientWidth:$t.DEFAULT_WIDTH,S=Math.max(x.clientHeight?x.clientHeight:y,$t.FILE_SCAN_MIN_HEIGHT),R=a.computeCanvasDrawConfig(m,y,I,S);if(i){var b=a.createCanvasElement(I,S,"qr-canvas-visible");b.style.display="inline-block",x.appendChild(b);var V=b.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=I,V.canvas.height=S,V.drawImage(g,0,0,m,y,R.x,R.y,R.width,R.height)}var L=$t.FILE_SCAN_HIDDEN_CANVAS_PADDING,X=Math.max(g.width,R.width),M=Math.max(g.height,R.height),N=X+2*L,_=M+2*L,j=a.createCanvasElement(N,_);x.appendChild(j);var q=j.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=N,q.canvas.height=_,q.drawImage(g,0,0,m,y,L,L,X,M);try{a.qrcode.decodeRobustlyAsync(j).then(function(Z){c(N0.createFromQrcodeResult(Z))}).catch(f)}catch(Z){f("QR code parse error, error = ".concat(Z))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return qm.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!vh.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var i=[se.QR_CODE,se.AZTEC,se.CODABAR,se.CODE_39,se.CODE_93,se.CODE_128,se.DATA_MATRIX,se.MAXICODE,se.ITF,se.EAN_13,se.EAN_8,se.PDF_417,se.RSS_14,se.RSS_EXPANDED,se.UPC_A,se.UPC_E,se.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return i;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,f=n.formatsToSupport;c<f.length;c++){var g=f[c];km(g)?a.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Hn(n))return!0;if(!Hn(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Hn(n.experimentalFeatures))return!0;var i=n.experimentalFeatures;return Hn(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,i,a){var c=this,f=a.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(n,i,f),m=function(x){if(x<$t.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($t.MIN_QR_BOX_SIZE,"px.")},y=function(x){return x>n&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};m(g.width),m(g.height),g.width=y(g.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,i)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(n,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,i,a);var c=Hn(a.qrbox)?{width:n,height:i}:a.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(n,i,c);f.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=a.isShadedBoxEnabled()&&f.height<=i,m={x:0,y:0,width:n,height:i},y=g?this.getShadedRegionBounds(n,i,f):m,x=this.createCanvasElement(y.width,y.height),I={willReadFrequently:!0},S=x.getContext("2d",I);S.canvas.width=y.width,S.canvas.height=y.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,n,i,f),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=S,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(n){var i=document.createElement("div");i.innerText=Oi.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",n.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(n,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return n(c.text,N0.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var f=Oi.codeParseError(c);return i(f,Sh.createFrom(f)),!1})},e.prototype.foreverScan=function(n,i,a){var c=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,m=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*g,x=this.qrRegion.height*m,I=this.qrRegion.x*g,S=this.qrRegion.y*m;this.context.drawImage(f,I,S,y,x,0,0,this.qrRegion.width,this.qrRegion.height);var R=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(n,i,a)},c.getTimeoutFps(n.fps))};this.scanContext(i,a).then(function(b){!b&&n.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(i,a).finally(function(){R()})):R()}).catch(function(b){c.logger.logError("Error happend while scanning context",b),R()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var i="facingMode",a="deviceId",c={user:!0,environment:!0},f="exact",g=function(V){if(V in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(V,"'")},m=Object.keys(n);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var y=Object.keys(n)[0];if(y!==i&&y!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(y===i){var x=n.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(g(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var I=typeof x;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var S=n.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(f in S)return{deviceId:{exact:S["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var R=typeof S;throw"Invalid type of 'deviceId' = ".concat(R)}}}var b=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},e.prototype.computeCanvasDrawConfig=function(n,i,a,c){if(n<=a&&i<=c){var f=(a-n)/2,g=(c-i)/2;return{x:f,y:g,width:n,height:i}}else{var m=n,y=i;return n>a&&(i=a/n*i,n=a),i>c&&(n=c/i*n,i=c),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(y)+" to ".concat(n,"X").concat(i,".")),this.computeCanvasDrawConfig(n,i,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=n?$t.BORDER_SHADER_MATCH_COLOR:$t.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,i,a){var c=n,f=i,g=document.createElement("canvas");return g.style.width="".concat(c,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=Hn(a)?"qr-canvas":a,g},e.prototype.getShadedRegionBounds=function(n,i,a){if(a.width>n||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(n,i,a,c){if(!(i-c.width<1||a-c.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(i-c.width)/2,m=(a-c.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat($t.SHADED_REGION_ELEMENT_ID),i-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var y=5,x=40;this.insertShaderBorders(f,x,y,-y,null,0,!0),this.insertShaderBorders(f,x,y,-y,null,0,!1),this.insertShaderBorders(f,x,y,null,-y,0,!0),this.insertShaderBorders(f,x,y,null,-y,0,!1),this.insertShaderBorders(f,y,x+y,-y,null,-y,!0),this.insertShaderBorders(f,y,x+y,null,-y,-y,!0),this.insertShaderBorders(f,y,x+y,-y,null,-y,!1),this.insertShaderBorders(f,y,x+y,null,-y,-y,!1),this.hasBorderShaders=!0}n.append(f)}},e.prototype.insertShaderBorders=function(n,i,a,c,f,g,m){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=$t.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(i,"px"),y.style.height="".concat(a,"px"),c!==null&&(y.style.top="".concat(c,"px")),f!==null&&(y.style.bottom="".concat(f,"px")),m?y.style.left="".concat(g,"px"):y.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),n.appendChild(y)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),jc="data:image/svg+xml;base64,",rw=jc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",iw=jc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",B0=jc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",sw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",P0=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),ow=function(){function e(){this.data=P0.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=P0.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),aw=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=_0.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var a=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(c);var f=document.createElement("a");f.innerText=_0.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),lw=function(){function e(n,i){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=B0,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return i.onHoverIn()},this.infoIcon.onmouseout=function(a){return i.onHoverOut()},this.infoIcon.onclick=function(a){return i.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=sw,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=B0,this.infoIcon.style.opacity="0.6")},e}(),uw=function(){function e(){var n=this;this.infoDiv=new aw,this.infoIcon=new lw(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),cw=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},fw=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},F0=function(){function e(){}return e.hasPermissions=function(){return cw(this,void 0,void 0,function(){var n,i,a,c;return fw(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=f.sent(),i=0,a=n;i<a.length;i++)if(c=a[i],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},e}(),wr=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,i=this.supportedScanTypes;n<i.length;n++){var a=i[n];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(n){return n===kr.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===kr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return _n.DEFAULT_SUPPORTED_SCAN_TYPE;var i=_n.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var a=0,c=n;a<c.length;a++){var f=c[a];if(!_n.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return n},e}(),nn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),$n=function(){function e(){}return e.createElement=function(n,i){var a=document.createElement(n);return a.id=i,a.classList.add(nn.ALL_ELEMENT_CLASS),n==="button"&&a.setAttribute("type","button"),a},e}(),Nh=function(e,n,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(I){try{x(a.next(I))}catch(S){g(S)}}function y(I){try{x(a.throw(I))}catch(S){g(S)}}function x(I){I.done?f(I.value):c(I.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},_h=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(I){return y([x,I])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(I){x=[6,I],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},U0=function(){function e(n,i,a){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=i,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Nh(this,void 0,void 0,function(){var n,i;return _h(this,function(a){switch(a.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return i=a.sent(),this.propagateFailure(n,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,i){n===i?(this.buttonController.setText(i?be.torchOffButton():be.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(n,i){var a=n?be.torchOnFailedMessage():be.torchOffFailedMessage();i&&(a+="; Error = "+i),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),dw=function(){function e(n,i){this.onTorchActionFailureCallback=i,this.torchButton=$n.createElement("button",nn.TORCH_BUTTON_ID),this.torchController=new U0(n,this,i)}return e.prototype.render=function(n,i){var a=this;this.torchButton.innerText=be.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var c=this;this.torchButton.addEventListener("click",function(f){return Nh(a,void 0,void 0,function(){return _h(this,function(g){switch(g.label){case 0:return[4,c.torchController.flipState()];case 1:return g.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(nn.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(nn.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(nn.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(nn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new U0(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=be.torchOnButton(),this.torchController.reset()},e.create=function(n,i,a,c){var f=new e(i,c);return f.render(n,a),f},e}(),hw=function(){function e(n,i,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",n.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=$n.createElement("button",nn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(m){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=$n.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(m){if(!(m==null||m.target==null)){var y=m.target;if(!(y.files&&y.files.length===0)){var x=y.files,I=x[0],S=I.name;f.setImageNameToButton(S),a(I)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(m){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(m){m.stopPropagation(),m.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var y=m.dataTransfer;if(y){var x=y.files;if(!x||x.length===0)return;for(var I=!1,S=0;S<x.length;++S){var R=x.item(S);if(R){var b=/image.*/;if(R.type.match(b)){I=!0;var V=R.name;f.setImageNameToButton(V),a(R),g.innerText=be.dragAndDropMessage();break}}}I||(g.innerText=be.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=be.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){var i=20;if(n.length>i){var a=n.substring(0,8),c=n.length,f=n.substring(c-8,c);n="".concat(a,"....").concat(f)}var g=be.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=g},e.prototype.setInitialValueToButton=function(){var n=be.fileSelectionChooseImage()+" - "+be.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,i,a){var c=new e(n,i,a);return c},e}(),gw=function(){function e(n){this.selectElement=$n.createElement("select",nn.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var i=document.createElement("span");i.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)i.style.display="none";else{var c=be.selectCamera();i.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var f=1,g=0,m=this.cameras;g<m.length;g++){var y=m[g],x=y.id,I=y.label==null?x:y.label;(!I||I==="")&&(I=[be.anonymousCameraPrefix(),f++].join(" "));var S=document.createElement("option");S.value=x,S.innerText=I,this.options.push(S),this.selectElement.appendChild(S)}i.appendChild(this.selectElement),n.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var i=0,a=this.options;i<a.length;i++){var c=a[i];if(c.value===n)return!0}return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,i){var a=new e(i);return a.render(n),a},e}(),pw=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=$n.createElement("input",nn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=be.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=be.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,i,a,c){this.rangeInput.min=n.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,i){var a=new e;return a.render(n,i),a},e}(),en;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(en||(en={}));function xw(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function mw(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}var ww=function(){function e(n,i,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(i),this.verbose=a===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new wr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ih(this.verbose),this.persistedDataManager=new ow,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(n,i){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,g){if(n)n(f,g);else{if(a.lastMatchFound===f)return;a.lastMatchFound=f,a.setHeaderMessage(be.lastMatch(f),en.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,g){i&&i(f,g)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new k0(this.getScanRegionId(),mw(this.config,this.verbose))},e.prototype.pause=function(n){(Hn(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,i=function(){var a=document.getElementById(n.elementId);a&&(a.innerHTML="",n.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,c){if(!n.html5Qrcode){a();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(f){if(!n.html5Qrcode){a();return}n.html5Qrcode.clear(),i(),a()}).catch(function(f){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",f),c(f)}):(n.html5Qrcode.clear(),i(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=_n.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!_n.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=_n.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=_n.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:_n.SCAN_DEFAULT_FPS,rememberLastUsedCamera:_n.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:_n.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var i=document.createElement("div"),a=this.getScanRegionId();i.id=a,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",n.appendChild(i),wr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),f=this.getDashboardId();c.id=f,c.style.width="100%",n.appendChild(c),this.setupInitialDashboard(c)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",n.appendChild(i);var a=new uw;a.renderInto(i);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",i.appendChild(c)},e.prototype.createSection=function(n){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",n.appendChild(i)},e.prototype.createCameraListUi=function(n,i,a){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(be.cameraPermissionRequesting());var f=function(){a||c.createPermissionButton(n,i)};k0.getCameras().then(function(g){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),g&&g.length>0?(n.removeChild(i),c.renderCameraSelection(g)):(c.setHeaderMessage(be.noCameraFound(),en.STATUS_WARNING),f())}).catch(function(g){c.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:f(),c.setHeaderMessage(g,en.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,i){var a=this,c=$n.createElement("button",this.getCameraPermissionButtonId());c.innerText=be.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,a.createCameraListUi(n,i,c)}),i.appendChild(c)},e.prototype.createPermissionsUi=function(n,i){var a=this;if(wr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){F0.hasPermissions().then(function(c){c?a.createCameraListUi(n,i):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(n,i))}).catch(function(c){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(n,i)});return}this.createPermissionButton(n,i)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");n.appendChild(i);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=wr.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(a);var c=document.createElement("div");c.style.textAlign="center",a.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,c),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(n){var i=wr.isFileScanType(this.currentScanType),a=this,c=function(f){if(!a.html5Qrcode)throw"html5Qrcode not defined";wr.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(be.loadingImage()),a.html5Qrcode.scanFileV2(f,!0).then(function(g){a.resetHeaderMessage(),a.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){a.setHeaderMessage(g,en.STATUS_WARNING),a.qrCodeErrorCallback(g,Sh.createFrom(g))}))};this.fileSelectionUi=hw.create(n,i,c)},e.prototype.renderCameraSelection=function(n){var i=this,a=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var f=pw.create(c,!1),g=function(L){var X=L.zoomFeature();if(X.isSupported()){f.setOnCameraZoomValueChangeCallback(function(N){X.apply(N)});var M=1;i.config.defaultZoomValueIfSupported&&(M=i.config.defaultZoomValueIfSupported),M=Bm(M,X.min(),X.max()),f.setValues(X.min(),X.max(),M,X.step()),f.show()}},m=gw.create(c,n),y=document.createElement("span"),x=$n.createElement("button",nn.CAMERA_START_BUTTON_ID);x.innerText=be.scanButtonStartScanningText(),y.appendChild(x);var I=$n.createElement("button",nn.CAMERA_STOP_BUTTON_ID);I.innerText=be.scanButtonStopScanningText(),I.style.display="none",I.disabled=!0,y.appendChild(I);var S,R=function(L){if(!L.torchFeature().isSupported()){S&&S.hide();return}S?S.updateTorchCapability(L.torchFeature()):S=dw.create(y,L.torchFeature(),{display:"none",marginLeft:"5px"},function(X){a.setHeaderMessage(X,en.STATUS_WARNING)}),S.show()};c.appendChild(y);var b=function(L){L||(x.style.display="none"),x.innerText=be.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,L&&(x.style.display="inline-block")};if(x.addEventListener("click",function(L){x.innerText=be.scanButtonScanningStarting(),m.disable(),x.disabled=!0,x.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var X=m.getValue();a.persistedDataManager.setLastUsedCameraId(X),a.html5Qrcode.start(X,xw(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(M){I.disabled=!1,I.style.display="inline-block",b(!1);var N=a.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&R(N),i.config.showZoomSliderIfSupported===!0&&g(N)}).catch(function(M){a.showHideScanTypeSwapLink(!0),m.enable(),b(!0),a.setHeaderMessage(M,en.STATUS_WARNING)})}),m.hasSingleItem()&&x.click(),I.addEventListener("click",function(L){if(!a.html5Qrcode)throw"html5Qrcode not defined";I.disabled=!0,a.html5Qrcode.stop().then(function(X){i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),m.enable(),x.disabled=!1,I.style.display="none",x.style.display="inline-block",S&&(S.reset(),S.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(X){I.disabled=!1,a.setHeaderMessage(X,en.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var V=a.persistedDataManager.getLastUsedCameraId();m.hasValue(V)?(m.setValue(V),x.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,i=be.textIfCameraScanSelected(),a=be.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var g=$n.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=wr.isCameraScanType(this.currentScanType)?i:a,g.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,wr.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),g.innerText=a,n.currentScanType=kr.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),g.innerText=i,n.currentScanType=kr.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),f.appendChild(g),c.appendChild(f)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){F0.hasPermissions().then(function(a){if(a){var c=document.getElementById(i.getCameraPermissionButtonId());if(!c)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(a){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},e.prototype.setHeaderMessage=function(n,i){i||(i=en.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=n,a.style.display="block",i){case en.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case en.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case en.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=rw,this.cameraScanImage.alt=be.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=iw,this.fileScanImage.alt=be.fileScanAltText()},e.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return nn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return nn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const Va=({onScan:e,onError:n,onClose:i})=>{const a=F.useRef(null),[c,f]=F.useState(null);return F.useEffect(()=>{const g=new ww("reader",{fps:10,qrbox:{width:250,height:250}},!1);return g.render(m=>{e(m),g.clear()},m=>{n&&n(m)}),a.current=g,()=>{a.current&&a.current.clear().catch(m=>console.error("Failed to clear scanner",m))}},[e,n]),B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:B.jsxs("div",{className:"bg-white p-4 rounded-lg w-full max-w-md relative",children:[B.jsx("button",{onClick:i,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900 text-xl font-bold",children:""}),B.jsx("h3",{className:"text-lg font-bold mb-4 text-center text-black",children:" QR Code"}),B.jsx("div",{id:"reader",width:"100%"}),c&&B.jsx("p",{className:"text-red-500 text-xs mt-2",children:c})]})})},ro=({type:e,message:n,onClose:i})=>{if(F.useEffect(()=>{if(n){const c=setTimeout(()=>{i()},5e3);return()=>clearTimeout(c)}},[n,i]),!n)return null;const a=e==="success";return B.jsxs("div",{className:`fixed top-20 left-1/2 transform -translate-x-1/2 z-50 px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 w-11/12 max-w-md animate-fade-in border ${a?"bg-[#1a2e23] border-[#238636] text-white":"bg-[#3e1b1b] border-[#da3633] text-white"}`,children:[a?B.jsx(Cm,{className:"text-[#3fb950]"}):B.jsx(wm,{className:"text-[#f85149]"}),B.jsx("p",{className:"flex-1 font-medium",children:n}),B.jsx("button",{onClick:i,className:"opacity-70 hover:opacity-100",children:B.jsx(Om,{size:18})})]})},yw=()=>{const[e,n]=F.useState(""),[i,a]=F.useState(!1),[c,f]=F.useState(!1),[g,m]=F.useState({type:"",message:""}),y=async I=>{if(I==null||I.preventDefault(),!!e.trim()){f(!0),m({type:"",message:""});try{const S=await Zs.issueOrder(e);S.status==="success"?(m({type:"success",message:S.message}),n("")):m({type:"error",message:S.message})}catch(S){m({type:"error",message:S.message})}finally{f(!1)}}},x=I=>{n(I),a(!1)};return B.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[B.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:""}),B.jsx("div",{className:"card p-8 shadow-2xl",style:{width:"100%",maxWidth:"1024px",margin:"0 auto"},children:B.jsxs("form",{onSubmit:y,children:[B.jsxs("div",{className:"mb-4",children:[B.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:""}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("input",{type:"text",value:e,onChange:I=>n(I.target.value),placeholder:"",className:"input-field mb-0 h-12"}),B.jsx("button",{type:"button",onClick:()=>a(!0),className:"btn btn-secondary px-3 h-12 w-12",title:"",children:B.jsx(Ha,{size:20})})]})]}),B.jsx("button",{type:"submit",disabled:c,className:`btn btn-primary w-full ${c?"opacity-50 cursor-not-allowed":""}`,children:c?"...":""})]})}),B.jsx(ro,{type:g.type,message:g.message,onClose:()=>m({type:"",message:""})}),i&&B.jsx(Va,{onScan:x,onClose:()=>a(!1),onError:I=>console.log(I)})]})},Cw=()=>{const[e,n]=F.useState(""),[i,a]=F.useState(!1),[c,f]=F.useState(!1),[g,m]=F.useState({type:"",message:""}),y=async I=>{if(I==null||I.preventDefault(),!!e.trim()){f(!0),m({type:"",message:""});try{const S=await Zs.qcRecord(e);S.status==="success"?(m({type:"success",message:S.message}),n("")):m({type:"error",message:S.message})}catch(S){m({type:"error",message:S.message})}finally{f(!1)}}},x=I=>{n(I),a(!1)};return B.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[B.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500",children:""}),B.jsx("div",{className:"card p-8 shadow-2xl",style:{width:"100%",maxWidth:"1024px",margin:"0 auto"},children:B.jsxs("form",{onSubmit:y,children:[B.jsxs("div",{className:"mb-4",children:[B.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:""}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("input",{type:"text",value:e,onChange:I=>n(I.target.value),placeholder:"",className:"input-field mb-0 h-12"}),B.jsx("button",{type:"button",onClick:()=>a(!0),className:"btn btn-secondary px-3 h-12 w-12",title:"",children:B.jsx(Ha,{size:20})})]})]}),B.jsx("button",{type:"submit",disabled:c,className:`btn btn-primary w-full ${c?"opacity-50 cursor-not-allowed":""}`,children:c?"...":""})]})}),B.jsx(ro,{type:g.type,message:g.message,onClose:()=>m({type:"",message:""})}),i&&B.jsx(Va,{onScan:x,onClose:()=>a(!1),onError:I=>console.log(I)})]})},Ew=()=>{const[e,n]=F.useState("start"),[i,a]=F.useState(""),[c,f]=F.useState(""),[g,m]=F.useState(!1),[y,x]=F.useState(!1),[I,S]=F.useState({type:"",message:""}),R=async V=>{if(V==null||V.preventDefault(),!!i.trim()){x(!0),S({type:"",message:""});try{let L;if(e==="start")L=await Zs.startWork(i);else{if(c===""||parseInt(c)<0)throw new Error("");L=await Zs.finishWork(i,parseInt(c))}L.status==="success"?(S({type:"success",message:L.message}),a(""),e==="finish"&&f("")):S({type:"error",message:L.message})}catch(L){S({type:"error",message:L.message})}finally{x(!1)}}},b=V=>{a(V),m(!1)};return B.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[B.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-red-500",children:""}),B.jsxs("div",{className:"flex mb-6 bg-[#161b22] p-1 rounded-lg border border-[#30363d] gap-4",children:[B.jsxs("button",{onClick:()=>n("start"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all flex items-center justify-center gap-2 ${e==="start"?"bg-[#2f81f7] text-white":"text-gray-400 hover:text-white"}`,children:[B.jsx(Sm,{size:16})," "]}),B.jsxs("button",{onClick:()=>n("finish"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all flex items-center justify-center gap-2 ${e==="finish"?"bg-[#238636] text-white":"text-gray-400 hover:text-white"}`,children:[B.jsx(Mm,{size:16})," "]})]}),B.jsx("div",{className:"card p-8 shadow-2xl animate-fade-in",style:{width:"100%",maxWidth:"1024px",margin:"0 auto"},children:B.jsxs("form",{onSubmit:R,children:[B.jsxs("div",{className:"mb-4",children:[B.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:""}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("input",{type:"text",value:i,onChange:V=>a(V.target.value),placeholder:"",className:"input-field mb-0 h-12"}),B.jsx("button",{type:"button",onClick:()=>m(!0),className:"btn btn-secondary px-3 h-12 w-12",title:"",children:B.jsx(Ha,{size:20})})]})]}),e==="finish"&&B.jsxs("div",{className:"mb-6 animate-fade-in",children:[B.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:""}),B.jsx("input",{type:"number",min:"0",value:c,onChange:V=>f(V.target.value),placeholder:"",className:"input-field",required:!0})]}),B.jsx("button",{type:"submit",disabled:y,className:`btn w-full text-lg py-4 btn-primary ${y?"opacity-50 cursor-not-allowed":""}`,children:y?"...":e==="start"?"":""})]})}),B.jsx(ro,{type:I.type,message:I.message,onClose:()=>S({type:"",message:""})}),g&&B.jsx(Va,{onScan:b,onClose:()=>m(!1),onError:V=>console.log(V)})]})},Aw=()=>{const[e,n]=F.useState({orderId:"",startTime:"",finishTime:""}),[i,a]=F.useState([]),[c,f]=F.useState([]),[g,m]=F.useState(!1),[y,x]=F.useState(!1),[I,S]=F.useState({type:"",message:""}),R=W=>{if(!W)return"";try{return new Date(W).toLocaleString("zh-TW")}catch{return W}},b=(W,G)=>{if(!W||!G)return 0;const ae=new Date(W).getTime(),ce=new Date(G).getTime();return ae&&ce?ce-ae:0},V=W=>{if(!W)return"-";const G=Math.floor(W/1e3),ae=Math.floor(G/3600),ce=Math.floor(G%3600/60),ne=G%60;return`${ae}h ${ce}m ${ne}s`},[L,X]=F.useState(!1),M=async()=>{m(!0),S({type:"",message:""}),X(!1);try{const W=await Zs.queryOrders();let G=[];if(W.status==="success"&&Array.isArray(W.data))G=W.data;else throw new Error("");const ae=G.filter(ne=>{const we=!e.orderId||String(ne.orderId).includes(e.orderId),ke=Pe=>{if(!Pe)return null;const Ae=new Date(Pe).getTime();return isNaN(Ae)?null:Ae},Y=ke(e.startTime),Qe=ke(e.finishTime),me=ke(ne.startTime),re=ke(ne.finishTime),he=!e.startTime||me!==null&&me>=Y,pe=!e.finishTime||re!==null&&re<=Qe;return we&&he&&pe});ae.sort((ne,we)=>String(ne.orderId).localeCompare(String(we.orderId))),a(ae),X(!0);const ce={};ae.forEach(ne=>{if(ce[ne.orderId]||(ce[ne.orderId]={orderId:ne.orderId,count:0,totalTimeMs:0,totalQty:0}),ne.finishTime&&ne.startTime){const we=parseInt(ne.quantity)||0,ke=b(ne.startTime,ne.finishTime);ce[ne.orderId].count+=1,ce[ne.orderId].totalTimeMs+=ke,ce[ne.orderId].totalQty+=we}}),f(Object.values(ce).sort((ne,we)=>ne.orderId.localeCompare(we.orderId)))}catch(W){console.error(W),S({type:"error",message:""})}finally{m(!1)}},N=(W,G)=>{const ae=new Blob([W],{type:"text/csv;charset=utf-8;"}),ce=document.createElement("a"),ne=URL.createObjectURL(ae);ce.setAttribute("href",ne),ce.setAttribute("download",G),document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)},_=()=>{const W=["","",""],G=c.map(ce=>[ce.orderId,V(ce.totalTimeMs),ce.totalQty]),ae="\uFEFF"+[W,...G].map(ce=>ce.join(",")).join(`
`);N(ae,"stats.csv")},j=()=>{const W=["ID","","","",""],G=i.map(ce=>[ce.id,ce.orderId,R(ce.startTime),R(ce.finishTime),ce.quantity]),ae="\uFEFF"+[W,...G].map(ce=>ce.join(",")).join(`
`);N(ae,"details.csv")},q=Ul.useRef(null),Z=Ul.useRef(null),U=W=>{var G;try{W.current&&W.current.showPicker?W.current.showPicker():(G=W.current)==null||G.focus()}catch(ae){console.error(ae)}};return B.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[B.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-500",children:""}),B.jsxs("div",{className:"card w-full mb-6 p-6",children:[B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"text-xs text-gray-400 mb-1 block",children:""}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("input",{className:"input-field mb-0 h-12",placeholder:"",value:e.orderId,onChange:W=>n({...e,orderId:W.target.value})}),B.jsx("button",{type:"button",onClick:()=>x(!0),className:"btn btn-secondary px-2 h-12 w-12",children:B.jsx(Ha,{size:18})})]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"text-xs text-gray-400 mb-1 block",children:""}),B.jsxs("div",{className:"flex gap-2 relative",children:[B.jsx("input",{className:"input-field mb-0 h-12",placeholder:"",value:e.startTime,onChange:W=>n({...e,startTime:W.target.value})}),B.jsx("button",{type:"button",onClick:()=>U(q),className:"btn btn-secondary px-2 h-12 w-12",children:B.jsx(S0,{size:18})}),B.jsx("input",{ref:q,type:"datetime-local",className:"opacity-0 absolute bottom-0 left-0 w-full h-full -z-10",onChange:W=>n({...e,startTime:W.target.value})})]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"text-xs text-gray-400 mb-1 block",children:""}),B.jsxs("div",{className:"flex gap-2 relative",children:[B.jsx("input",{className:"input-field mb-0 h-12",placeholder:"",value:e.finishTime,onChange:W=>n({...e,finishTime:W.target.value})}),B.jsx("button",{type:"button",onClick:()=>U(Z),className:"btn btn-secondary px-2 h-12 w-12",children:B.jsx(S0,{size:18})}),B.jsx("input",{ref:Z,type:"datetime-local",className:"opacity-0 absolute bottom-0 left-0 w-full h-full -z-10",onChange:W=>n({...e,finishTime:W.target.value})})]})]})]}),B.jsx("button",{onClick:M,disabled:g,className:"btn btn-primary w-full",children:g?"...":B.jsxs(B.Fragment,{children:[B.jsx(Nm,{size:18})," "]})})]}),B.jsx(ro,{type:I.type,message:I.message,onClose:()=>S({type:"",message:""})}),!g&&L&&i.length===0&&B.jsx("div",{className:"card p-8 text-center text-gray-400 animate-fade-in border-2 border-dashed border-[#30363d]",children:B.jsx("p",{className:"text-xl",children:""})}),c.length>0&&B.jsxs("div",{className:"card animate-fade-in",children:[B.jsxs("div",{className:"flex justify-between items-center mb-4",children:[B.jsx("h3",{className:"font-bold text-lg",children:" ()"}),B.jsxs("button",{onClick:_,className:"btn btn-secondary text-sm py-1 px-3",children:[B.jsx(I0,{size:16})," "]})]}),B.jsx("div",{className:"overflow-x-auto max-h-60 overflow-y-auto",children:B.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[B.jsx("thead",{className:"text-gray-400 border-b border-[#30363d]",children:B.jsxs("tr",{children:[B.jsx("th",{className:"py-2",children:""}),B.jsx("th",{className:"py-2",children:""}),B.jsx("th",{className:"py-2",children:""})]})}),B.jsx("tbody",{children:c.map((W,G)=>B.jsxs("tr",{className:"border-b border-[#30363d] last:border-0 hover:bg-[#21262d]",children:[B.jsx("td",{className:"py-2 font-mono",children:W.orderId}),B.jsx("td",{className:"py-2",children:V(W.totalTimeMs)}),B.jsx("td",{className:"py-2",children:W.totalQty})]},G))})]})})]}),i.length>0&&B.jsxs("div",{className:"card animate-fade-in",children:[B.jsxs("div",{className:"flex justify-between items-center mb-4",children:[B.jsx("h3",{className:"font-bold text-lg",children:""}),B.jsxs("button",{onClick:j,className:"btn btn-secondary text-sm py-1 px-3",children:[B.jsx(I0,{size:16})," "]})]}),B.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:B.jsxs("table",{className:"w-full text-sm text-left border-collapse whitespace-nowrap",children:[B.jsx("thead",{className:"text-gray-400 border-b border-[#30363d]",children:B.jsxs("tr",{children:[B.jsx("th",{className:"py-2 px-2",children:""}),B.jsx("th",{className:"py-2 px-2",children:""}),B.jsx("th",{className:"py-2 px-2",children:""}),B.jsx("th",{className:"py-2 px-2",children:""})]})}),B.jsx("tbody",{children:i.map((W,G)=>B.jsxs("tr",{className:"border-b border-[#30363d] last:border-0 hover:bg-[#21262d]",children:[B.jsx("td",{className:"py-2 px-2 font-mono",children:W.orderId}),B.jsx("td",{className:"py-2 px-2",children:R(W.startTime)}),B.jsx("td",{className:"py-2 px-2",children:R(W.finishTime)}),B.jsx("td",{className:"py-2 px-2",children:W.quantity})]},G))})]})})]}),y&&B.jsx(Va,{onScan:W=>{n({...e,orderId:W}),x(!1)},onClose:()=>x(!1)})]})},Sw=()=>{const[e,n]=F.useState(""),[i,a]=F.useState({type:"",message:""});F.useEffect(()=>{n(Fc())},[]);const c=f=>{f.preventDefault(),bm(e.trim()),a({type:"success",message:""})};return B.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[B.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-transparent bg-clip-text bg-gradient-to-r from-gray-200 to-gray-500",children:""}),B.jsx("div",{className:"card p-8 shadow-2xl",style:{width:"100%",maxWidth:"1024px",margin:"0 auto"},children:B.jsxs("form",{onSubmit:c,children:[B.jsxs("div",{className:"mb-4",children:[B.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-400",children:"Google Apps Script Web App URL"}),B.jsx("textarea",{value:e,onChange:f=>n(f.target.value),placeholder:"https://script.google.com/macros/s/...",className:"input-field h-32 break-all"}),B.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" GAS Web App "})]}),B.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[B.jsx(vm,{size:18})," "]})]})}),B.jsx(ro,{type:i.type,message:i.message,onClose:()=>a({type:"",message:""})})]})};function Iw(){return B.jsx(em,{children:B.jsx(Dm,{children:B.jsxs(Rx,{children:[B.jsx(Qr,{path:"/",element:B.jsx(_x,{to:"/query",replace:!0})}),B.jsx(Qr,{path:"/issue",element:B.jsx(yw,{})}),B.jsx(Qr,{path:"/qc",element:B.jsx(Cw,{})}),B.jsx(Qr,{path:"/production",element:B.jsx(Ew,{})}),B.jsx(Qr,{path:"/query",element:B.jsx(Aw,{})}),B.jsx(Qr,{path:"/settings",element:B.jsx(Sw,{})})]})})})}jl.createRoot(document.getElementById("root")).render(B.jsx(Ul.StrictMode,{children:B.jsx(Iw,{})}));
